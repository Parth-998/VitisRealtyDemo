<!DOCTYPE html>
    <!DOCTYPE html>
    <html lang="en">

    
<!-- Mirrored from www.vitisrealty.com/myportal/collections by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 31 Jul 2023 02:04:26 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head><meta name="description" content="">

        <meta charset="utf-8">
        <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>MyPortal | Collections</title>
        <!-- meta data -->

        <!-- Loading Bootstrap -->


        <!-- meta location -->
        <!-- set favicon -->
        <link rel="shortcut icon" href="../../cdn1.brivityidx.com/assets/images/uploads/100590/Copy_of_V-CIRCLE-TEALWHITE-ON-TRANS.png" type="image/x-icon"/>

        <!--     <link href="css/color/default.css" rel="stylesheet"> -->
        <link href="../../cdn1.brivityidx.com/assets/css/build-site.min22a7.css?ck=" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Nunito:300,400,700,900" rel="stylesheet">

        <link rel="canonical" href="collections.html" />

        <!-- HTML5 shim, for IE6-8 support of HTML5 elements. All other JS at the end of file. -->
        <!--[if lt IE 9]>
            <script src="js/html5shiv.js"></script>
            <script src="js/respond.min.js"></script>
        <![endif]-->

        <!--headerIncludes-->
        <script>
            (function(b,r,a,n,c,h,_,s,d,k){if(!b[n]||!b[n]._q){for(;s<_.length;)c(h,_[s++]);d=r.createElement(a);d.async=1;d.src="../../cdn.branch.io/branch-latest.min.js";k=r.getElementsByTagName(a)[0];k.parentNode.insertBefore(d,k);b[n]=h}})(window,document,"script","branch",function(b,r){b[r]=function(){b._q.push([r,arguments])}},{_q:[],_v:1},"addListener applyCode autoAppIndex banner closeBanner closeJourney creditHistory credits data deepview deepviewCta first getCode init link logout redeem referrals removeListener sendSMS setBranchViewData setIdentity track validateCode trackCommerceEvent logEvent disableTracking".split(" "), 0);
        </script>
    <link href="../../cdn1.brivityidx.com/assets/css/style-headers.css" rel="stylesheet"><link href="../../cdn1.brivityidx.com/assets/css/style-premium.css" rel="stylesheet"><link href="../../cdn1.brivityidx.com/assets/css/style-footers.min.css" rel="stylesheet"><link href="../../cdn1.brivityidx.com/idx-sites/1/5/2/15229/site_custom.css" rel="stylesheet"><script type="text/javascript" src="../../cdn1.brivityidx.com/idx-sites/1/5/2/15229/global_js_variables.js"></script><!-- Facebook Pixel Events in case code is loaded with GTM -->
<script>
var propDetailsPixelOnReady = function(){
  let propDetFpst = new FbRealEstatePixelTracker({"eventType": "ViewContent", "content_ids": [""]});
  propDetFpst.fireEvent();
};
if (document.readyState === "complete" || (document.readyState !== "loading" && !document.documentElement.doScroll)) {
  propDetailsPixelOnReady();
} else {
  document.addEventListener("DOMContentLoaded", propDetailsPixelOnReady);
}

</script>
<!-- End Facebook Pixel Code --><!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-FE9ZPGZ2RP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-FE9ZPGZ2RP');
</script></head>

    <body>
                <script>
                  window.fbAsyncInit = function() {
                    FB.init({
                      appId      : '268231495676379',
                      cookie     : true,
                      xfbml      : true,
                      version    : 'v2.8'
                    });
                    FB.AppEvents.logPageView();
                  };

                  (function(d, s, id){
                     var js, fjs = d.getElementsByTagName(s)[0];
                     if (d.getElementById(id)) {return;}
                     js = d.createElement(s); js.id = id;
                     js.src = "../../connect.facebook.net/en_US/sdk.js";
                     fjs.parentNode.insertBefore(js, fjs);
                   }(document, 'script', 'facebook-jssdk'));
                </script><meta property="fb:app_id" content="268231495676379" />

        <div id="site-registration-bar">
          <input type="hidden" id="huser_id" value="">
          
          <div class="row" style="width: 100%; margin: 0;">
            <div class="col-md-12" style="display: none;" id="logged-in">
              <div class="topBar flex aiCenter jcBetween">
                <div class="topBarLeft flex aiCenter">
                    <span><topbar_show_agent_name/></span>
                </div>
                <div class="topBarRight flex aiCenter">
                  <a class="topLink flex white aiCenter thin favoritesTop" href="collections.html">
                    <svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_16761_179132)">
                        <path d="M14.2659 3.57333C13.9254 3.23267 13.5211 2.96243 13.0761 2.77806C12.6312 2.59368 12.1542 2.49878 11.6726 2.49878C11.1909 2.49878 10.714 2.59368 10.269 2.77806C9.82401 2.96243 9.41973 3.23267 9.07922 3.57333L8.37256 4.28L7.66589 3.57333C6.97809 2.88554 6.04524 2.49914 5.07256 2.49914C4.09987 2.49914 3.16702 2.88554 2.47922 3.57333C1.79143 4.26113 1.40503 5.19398 1.40503 6.16667C1.40503 7.13936 1.79143 8.07221 2.47922 8.76L3.18589 9.46667L8.37256 14.6533L13.5592 9.46667L14.2659 8.76C14.6066 8.4195 14.8768 8.01521 15.0612 7.57024C15.2455 7.12526 15.3404 6.64832 15.3404 6.16667C15.3404 5.68501 15.2455 5.20807 15.0612 4.7631C14.8768 4.31812 14.6066 3.91384 14.2659 3.57333V3.57333Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </g>
                        <defs>
                        <clipPath id="clip0_16761_179132">
                        <rect width="16" height="16" fill="white" transform="translate(0.372559 0.5)"/>
                        </clipPath>
                        </defs>
                    </svg>
                    <span class="ml6 topLabel">Collections&nbsp;</span>
                    <span style="margin-left: 6px" class="hidden-par">(</span>
                    <span class="count favoritesCount">0</span>
                    <span class="hidden-par">)</span>
                  </a>
                  <a class="topLink flex white aiCenter thin saveSearchTop" href="searches.html">
                    <svg width="16" height="16" viewBox="0 4 20 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M19 21L12 16L5 21V5C5 4.46957 5.21071 3.96086 5.58579 3.58579C5.96086 3.21071 6.46957 3 7 3H17C17.5304 3 18.0391 3.21071 18.4142 3.58579C18.7893 3.96086 19 4.46957 19 5V21Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"  />
                    </svg>

                    <span class="ml6 topLabel">Saved Searches&nbsp;</span>
                    <span style="margin-left: 6px" class="hidden-par">(</span>
                    <span class="count savedSearchesCount">0</span>
                    <span class="hidden-par">)</span>

                  </a>
                  <a class="topLink flex white aiCenter thin saveSearchTop" href="reports.html">
                    <svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M7.70589 13.1667C10.6514 13.1667 13.0392 10.7789 13.0392 7.83333C13.0392 4.88781 10.6514 2.5 7.70589 2.5C4.76037 2.5 2.37256 4.88781 2.37256 7.83333C2.37256 10.7789 4.76037 13.1667 7.70589 13.1667Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M14.3725 14.5L11.4725 11.6" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>

                    <span class="ml6 topLabel">Market Reports&nbsp;</span>
                  </a>
                  <a class="aiCenter white flex topBarProfile thin" href="profile.html">
                        <span class="profileName"></span>
                    </a>
                    <a style="padding-right: 0px" class="aiCenter white flex thin" id="topBarLogout" href="javascript:void()">
                    <svg width="23" height="23" viewBox="0 0 23 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_16761_179186)">
                            <path d="M16.4003 16.214C19.0038 13.6106 19.0038 9.38945 16.4003 6.78595C13.7968 4.18246 9.57572 4.18246 6.97222 6.78595C4.36873 9.38945 4.36873 13.6105 6.97222 16.214C9.57572 18.8175 13.7968 18.8175 16.4003 16.214Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M9.80066 9.61438L13.5719 13.3856" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M9.80066 13.3856L13.5719 9.61438" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </g>
                        <defs>
                        <clipPath id="clip0_16761_179186">
                            <rect width="16" height="16" fill="white" transform="translate(0.372559 11.5) rotate(-45)"/>
                        </clipPath>
                        </defs>
                    </svg>

                        <span class="ml6">Log Out</span>
                    </a>
                </div>
              </div>
            </div>
            <div id="not-logged-in">
              <topbar_agent_info_not_logged_in/>
              <ul class="list-unstyled list-inline no-margin">
                <li class="topBarSignin"><a onclick="showGoogleOneTap(true);"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus-circle mr10"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line></svg> Sign In</a></li>
              </ul>
            </div>
          </div>

        </div>
        <input type="hidden" id="huser_email" value="" />
        <input type="hidden" id="huser_first_name" value="" />
        <input type="hidden" id="huser_last_name" value="" />

        <div id="page" class="page">
    
		<header id="premium-navigation" data-selector="#premium-navigation" style="outline: currentcolor none medium; cursor: inherit;"><div class="main-nav">
                <div class="container">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse" style="outline: none; cursor: inherit;" data-selector="a.btn, button.btn, button">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <a class="navbar-brand" href="../index.html" style="outline: currentcolor none medium; cursor: inherit;">
                            <img class="img-responsive site_custom_logo" src="../../cdn1.brivityidx.com/assets/images/uploads/100590/team-logo-light.png" alt="Realvolution" style="outline: currentcolor none medium; cursor: inherit;" data-selector="img"></a>                    
                    </div>
                    <div class="collapse navbar-collapse render-menu"><ul class="nav navbar-nav navbar-right"><li class="nav-item"><a class="sec-nav-link-color" href="../search.html">SEARCH LISTINGS</a></li><li class="nav-item"><a class="sec-nav-link-color" href="../buying.html">BUYING</a></li><li class="nav-item"><a class="sec-nav-link-color" href="../selling.html">SELLING</a></li><li class="nav-item dropdown"><a class="dropdown-toggle sec-nav-link-color" data-toggle="dropdown" data-hover="dropdown" data-delay="0" data-close-others="false" href="../top_areas.html">Area Listings<i class="fa fa-angle-down"></i></a><ul class="dropdown-menu"><li class="sec-nav-drop-color"><a class="sec-nav-drop-link-color" href="../search7cc1.html?multi_search=Dade%20City,%20FLmulti_cat=CityState&amp;propertyType=Condo/Townhome|Multi-Family|Residential&amp;status=1#?q_limit=36&amp;mlsId=28&amp;price=10000:&amp;multi_search=Dade%20City,%20FL&amp;multi_cat=CityState&amp;propertyType=Condo/Townhome|Multi-Family|Residential&amp;status=1|3&amp;q_sort=createdAt-&amp;q_offset=0">Dade City</a></li><li class="sec-nav-drop-color"><a class="sec-nav-drop-link-color" href="../search6e74.html?multi_search=Zephyrhills,%20FLmulti_cat=CityState&amp;propertyType=Condo/Townhome|Multi-Family|Residential&amp;status=1#?q_limit=36&amp;mlsId=28&amp;price=10000:&amp;multi_search=Zephyrhills,%20FL&amp;multi_cat=CityState&amp;propertyType=Condo/Townhome|Multi-Family|Residential&amp;status=1|3&amp;q_sort=createdAt-&amp;q_offset=0">Zephyrhills</a></li><li class="sec-nav-drop-color"><a class="sec-nav-drop-link-color" href="../search27d1.html?multi_search=San%20Antonio,%20FLmulti_cat=CityState&amp;propertyType=Condo/Townhome|Multi-Family|Residential&amp;status=1#?q_limit=36&amp;mlsId=28&amp;price=10000:&amp;multi_search=San%20Antonio,%20FL&amp;multi_cat=CityState&amp;propertyType=Condo/Townhome|Multi-Family|Residential&amp;status=1|3&amp;q_sort=createdAt-&amp;q_offset=0">San Antonio</a></li><li class="sec-nav-drop-color"><a class="sec-nav-drop-link-color" href="../search8b9f.html?multi_search=Wesley%20Chapel,%20FLmulti_cat=CityState&amp;propertyType=Condo/Townhome|Multi-Family|Residential&amp;status=1#?q_limit=36&amp;mlsId=28&amp;price=10000:&amp;multi_search=Wesley%20Chapel,%20FL&amp;multi_cat=CityState&amp;propertyType=Condo/Townhome|Multi-Family|Residential&amp;status=1|3&amp;q_sort=createdAt-&amp;q_offset=0">Wesley Chapel</a></li><li class="sec-nav-drop-color"><a class="sec-nav-drop-link-color" href="../search1481.html?multi_search=Brooksville,%20FLmulti_cat=CityState&amp;propertyType=Condo/Townhome|Multi-Family|Residential&amp;status=1#?q_limit=36&amp;mlsId=28&amp;price=10000:&amp;multi_search=Brooksville,%20FL&amp;multi_cat=CityState&amp;propertyType=Condo/Townhome|Multi-Family|Residential&amp;status=1|3&amp;q_sort=createdAt-&amp;q_offset=0">Brooksville</a></li></ul><li class="nav-item"><a class="sec-nav-link-color" href="../financing.html">FINANCING</a></li><li class="nav-item"><a class="sec-nav-link-color" href="../realestateagent/search.html">WHO WE ARE</a></li><li class="nav-item dropdown"><a class="dropdown-toggle sec-nav-link-color" data-toggle="dropdown" data-hover="dropdown" data-delay="0" data-close-others="false" href="../home_value.html">HOME VALUE<i class="fa fa-angle-down"></i></a><ul class="dropdown-menu"><li class="sec-nav-drop-color"><a class="sec-nav-drop-link-color" href="../home_value_zephyrhills.html">ZEPHYRHILLS HOME VALUE</a></li><li class="sec-nav-drop-color"><a class="sec-nav-drop-link-color" href="../dadecity_home_value.html">DADE CITY HOME VALUE</a></li><li class="sec-nav-drop-color"><a class="sec-nav-drop-link-color" href="../wesley_chapel_home_value.html">WESLEY CHAPEL HOME VALUE</a></li></ul><li class="nav-item"><a class="sec-nav-link-color" href="../connect.html">CONNECT</a></li></ul></div>
                </div>
            </div>
	    </header>


 
<style> 
       
    .center-modal {
        display:flex;
        justify-content: center;
        align-items:center;
        position:fixed;
        background-color:rgba(0,0,0,0.4);
        left:0;
        top:0;
        right:0; 
        bottom:0;
        z-index: 300;
    }

    .page-width-parent{
        max-width: 1280px;
        margin: 0 auto;
    }


    .property-list-map-view {
        display:flex;
        flex-wrap:wrap;
        gap:16px;
    }
    .property-list-map-view-parent {
        background-color: #F9F9F9;
        padding:16px;
        height:710px;
        overflow:scroll;
    }

    .property-list-list-view {
        display:flex;
        flex-wrap:wrap;
        gap:24px
    }

    .property-container {
        
        gap:24px;
    }

    .property-map-container {
        flex:1;
        height:710px;
    }

    .property-pagination {
        margin-top: 26px;
    }

    .collection-saved-listings {
        margin-bottom: 26px;
        font-size:16px;
        color:black;
    }

    .collection-description {
        padding: 20px 0 18px 8px;
    }

    .my-feed-parent {
        margin-top:32px;
        padding-top:32px; 
        border-top: solid 1px #C4C4C4;
    }

    .collection-description-text {
        font-size:16px;
        margin:0;
        color:black;
    }

    #collections {
        display:flex;
        flex-wrap:wrap;
        gap:40px 24px;
    }

    #collection-pagination{
        margin-top: 55px
    }

    #add-listing-btn{
        margin-bottom: 20px
    }

    @media only screen and (min-width: 1280px) {
        .collection-page {
            padding:48px 48px 48px 120px;
        }
        .my-feed-parent {
            width:90vw;
            max-width: 100%;
            overflow: hidden;
        }
        .property-list-map-view-parent {
            width:500px;
        }
        .property-container {
                display:flex;
        }
    }

    @media only screen and (max-width:1280px) {
        .collection-page {
            padding:60px 16px 16px 16px;
        }
        .my-feed-parent {
            width: unset;
        }
        .property-container {
                display:flex;
                flex-direction: column-reverse;
        }
        .property-list-map-view {
            flex-wrap:nowrap;
            overflow:scroll;
            height:280px;
        }
        .property-list-map-view-parent {
            height:unset;
            padding:0px;
            background-color: #FFFFFF
        }
        .property-map-container {
            flex:none;
            height:446px;
        }
    }

    @media only screen and (max-width:768px) {
        #collections {
            justify-content: center;
        }
        .property-map-container {
            width: calc(100% + 32px);
            margin-left: -16px;
        }
        .property-list-map-view {
            height:250px;
        }
    }

</style> 
<script src="../js/member_area_components.html"></script>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const key = localStorage.getItem('authorization');
     
        if( !key) {
            $("#sign-up-modal").modal('show');

            $("#sign-up-modal").on("hidden.bs.modal", function () {
                location.reload();
            });
        }
        else{

            let myPortalPage = document.getElementById('myportal-page');
            myPortalPage.style.display = "block";

            window.location.hash = ""

            function isGuid(value) {    
                var regex = /[a-f0-9]{8}(?:-[a-f0-9]{4}){3}-[a-f0-9]{12}/i;
                var match = regex.exec(value);
                return match != null;
            }

            let lastUrlItem = window.location.href.substring(window.location.href.lastIndexOf('../index.html') + 1)
            let showCollectionByUUID = false

            if (isGuid(lastUrlItem)) {
              showCollectionByUUID = true
            } 

          
            class logger extends Collections.BaseLogger {
                log(e) {
                    console.log(e);
                }
            }


            class Pubsub {
                static events = {};
                constructor() {
                    //this.events = {};
                }

                static subscription (eventName, func) {
                    return {
                        subscribe: () => {
                            if (this.events[eventName]) {
                                this.events[eventName].push(func);
                            } else {
                                this.events[eventName] = [func];
                            }
                        },
                        unsubscribe: () => {
                            if(this.events[eventName]){
                                this.events[eventName] = this.events[eventName].filter((subscriber) => subscriber !== func);
                            }
                        }
                    }
                } 

                static publish(eventName, ...args) {
                    const funcs = this.events[eventName];
                    if (Array.isArray(funcs)) {
                        funcs.forEach((func) => {
                            func.apply(null, args);
                        });
                    }
                }
            }

            class CollectionCard  {
                constructor(collection, count){
                    
                    this.element = document.createElement(`place-collectioncard`);
                    this.collection = collection
                    let _this = this;
                    let menuOpen = false;
                    var images = [];
                
                    for (let i = 0; i < collection?.propertiesImages?.length; i++) {
                        images.push(collection.propertiesImages[i].mainPhoto);
                    }
                
                    this.element.setAttribute("appearance", "regular");
                    this.element.setAttribute("image", images);
                    this.element.setAttribute("num_properties", collection?.totalListings ?? 0)
                    this.element.setAttribute("title", collection.collectionName);
                    this.element.setAttribute("description", collection.collectionDescription ? collection.collectionDescription : collection.description ? collection.description : "");
                    this.element.setAttribute("creator", "");
                    this.element.setAttribute("disable_dropdown", "false");
                    this.element.setAttribute("style", "height: 254px");
                    this.element.setAttribute('z_index', count);
                    this.element.setAttribute("show_menu", "false");
                    this.element.setAttribute("id", collection.collectionUUID);
                    this.element.setAttribute("container_styles", "w-[300px]");

                    const collectionUUID = collection.collectionUUID;

                    this.element.addEventListener(`on_menu_item_pressed`, (e) => {
                        let menuItem = e.detail
                        Pubsub.publish('collection_card_menu_item_pressed', {collection,menuItem});
                    });

                    this.element.addEventListener('on_search_pressed', (e) => {
                        if (e.target.tagName != "svg" && e.target.tagName != "path") {
                            window.open('../search-2.html', '_blank');
                            e.stopPropagation();
                        }
                    });
                    
                    this.element.addEventListener(`click`, (e) => {
                        if (e.target.tagName != "svg" && e.target.tagName != "path" && !menuOpen) {
                             Pubsub.publish('collection_card_pressed', {collection:_this.collection,e});
                            e.stopPropagation();
                        }
                    });

                    this.element.addEventListener(`on_menu_open`, (e) => {  
                        if (this.element.getAttribute("title") === "Favorites") {
                            this.element.setAttribute("disable_menu", "true");
                        }

                        menuOpen = e.detail;
                        this.element.setAttribute("show_menu", menuOpen);
                    });
                }
            }

            class CollectionSection  {

              
                collectionSection = document.getElementById('collection-section')
                collections = document.getElementById('collections')

                addCollectionCard = (collection, count) => {
                    const collectionCard = new CollectionCard(collection, count);


                   
                
                   this.collections.append(collectionCard.element);
                
                } 

                show = () => {
                    this.collectionSection.style.display = 'block'
                }

                hide = () => {
                    this.collectionSection.style.display = 'none'
                }
            }

            class PropertyCard {
                constructor(collectionUUID,property){
                    
                    let _this = this;
                    this.element = document.createElement(`place-propertycard`);
                    let menuOpen = false;
                    this.property = property;
 
                    this.element.setAttribute("id", property.blossorId)
                    this.element.setAttribute("display_menu", "true");
                    this.element.setAttribute("show_menu", "false");
                    this.element.setAttribute("items", '[{"icon":"share-2","text":"Share Property"},{"icon":"layers","text":"Copy to Collection"},{"icon":"trash","text":"Remove from Collection"}]');
                    
                    this.element.setAttribute('appearance','small')
                    this.element.setAttribute('layout_width', '300')
                    this.element.setAttribute('display_tag', 'true')
                    this.element.setAttribute('display_favorite', 'true')
                    this.element.setAttribute('mls',`{
                        "status":"${property.statusText}", 
                        "favorite":"true", 
                        "image":[{"uri":"${property?.photos[0].url}"}], 
                        "price":"${property?.price}",
                        "address":"${property?.address?.street}",
                        "state":"${property?.address?.state}", 
                        "city":"${property?.address?.city}", 
                        "postalCode":"${property?.address?.zip}", 
                        "beds":"${property?.bedrooms}", 
                        "baths":"${property?.fullBaths}", 
                        "sqft":"${property?.sqFeet}"
                    }`)
                    this.element.setAttribute('on_hover', 'true')

                    this.element.addEventListener('mouseenter', (e) => {
                        Pubsub.publish('property_card_mouseenter', property);
                    })

                    this.element.addEventListener('mouseleave', (e) => {
                        Pubsub.publish('property_card_mouseleave', property);
                    })

                    this.element.addEventListener(`on_menu_item_pressed`, (e) => {
                        let menuItem = e.detail
                        let propertyCollectionUUID = property.propertyCollectionUUID
                        let url = this.getPropertyUrl(this.property);
                        property.searchUrl = url;
                        Pubsub.publish('property_card_menu_item_pressed', {property,collectionUUID,propertyCollectionUUID,menuItem, url});
                    });

                    this.element.addEventListener(`on_menu_open`, (e) => {    
                        menuOpen = e.detail;
                       this.element.setAttribute("show_menu", menuOpen);
                    });

                    this.element.addEventListener('click', (e) => {
                        if (e.target.tagName != "svg" && e.target.tagName != "path" && !menuOpen) {
                            let state = _this.property.address.state;
                            let city = _this.slugify(_this.property.address.city);
                            let zip = _this.property.address.zip
                            let address = _this.slugify(_this.property.address.street);
                            let blossorId = _this.property.blossorId;
                            let url = this.getPropertyUrl(property);
                            window.open(`../../${url}`, '_blank');
                        }        
                    });

                }

                getPropertyUrl = (property) => {
                    let state = property.address.state;
                    let city = this.slugify(property.address.city);
                    let zip = property.address.zip
                    let address = this.slugify(property.address.street);
                    let blossorId = property.blossorId;
                    return `homes-for-sale/${state}/${city}/${zip}/${address}/bid-${blossorId}`;
                }

                slugify(text) {
                     // replace non letter or digits by -
                    text = text.replace(/[^\pL\d]+~u/g, '_');
                    // transliterate
                    text = text.normalize('NFKD').replace(/[\u0300-\u036F]/g,'')
                    // remove unwanted characters
                    text = text.replace(/[^_\w]+/g, '_');
                    // trim
                    text = text.trim();
                    // remove duplicate -
                    text = text.replace(/_+/g, '-');
                    // lowercase
                    text = text.toLowerCase();
                    if (!text) {
                        return 'n-a';
                    }
                    return text
                }
            }

            let dateNow = new Date();
            dateNow.setDate(dateNow.getDate()-7);
            dateNow.setHours(dateNow.getHours());
            dateNow.setMinutes(dateNow.getMinutes());
            dateNow.setSeconds(dateNow.getSeconds());
            const sevenDaysAgo = dateNow.getTime();

            class PropertySection   {
                propertySection = document.getElementById('property-section')
                listIcon = document.getElementById('property-list-icon')
                mapIcon = document.getElementById('property-map-icon')
                propertyHeader = document.getElementById('property-header')
                propertyList = document.getElementById("property-list")
                propertyListParent = document.getElementById("property-list-parent")
                propertyMap = document.getElementById('property-map')
                selectedView = 'map'

                collectionProperties = []

                properties = []
            

                constructor() {
                    this.listIcon.addEventListener('click', () => {
                        this.setView('list')
                    })

                    this.mapIcon.addEventListener('click', () => {
                        this.setView('map')
                    })
                }

                show = (collectionUUID, collectionProperties) => {
                    this.propertySection.style.display = 'block'
                    this.collectionProperties = collectionProperties
                    this.collectionUUID = collectionUUID
                    
                    this.propertyList.innerHTML = ''
                    count = 100;
                     
                    this.collectionProperties?.data?.properties?.forEach((property) => {
                         count--
                        this.addPropertyCard(property,collectionUUID, count)
                    });
                }

                hide = () => {
                    this.propertySection.style.display = 'none'
                }

                setPropertyCardWidth = () => {
                    let width;
                    let imageHeight;
                    let windowWidth = window.innerWidth
                    if(this.selectedView == 'map') {
                        if(windowWidth > 1279) {
                            width = `220`;
                            imageHeight = `154`;
                        } else if(windowWidth > 768) {
                            width = `325`;
                            imageHeight = `184`;
                        } else{
                            width = `244`;
                            imageHeight = `154`;                            
                        }
                    } 
                    else {
                        if(windowWidth > 1440 ){
                            width = `300`;
                            imageHeight = `184`;
                        }
                        else if(windowWidth > 1279) {
                            width = `260`;
                            imageHeight = `152`;
                        } else if(windowWidth > 768) {
                            width = `218`;
                            imageHeight = `152`;
                        } else{
                            width = `288`;
                            imageHeight = `184`;
                        }
                    }

                    let propertyCards = document.querySelectorAll('place-propertycard')
                    propertyCards.forEach((propertyCard) => {
                        propertyCard.setAttribute('layout_width', width)
                        propertyCard.setAttribute('image_height', imageHeight)                    
                    })
                }

                setView = (view) => {
                    this.selectedView = view
                    if (view == 'list') {
                        this.listIcon.setAttribute('stroke', 'black')
                        this.mapIcon.setAttribute('stroke', 'gray')

                        this.propertyMap.style.display = 'none'
                        this.propertyList.classList.add('property-list-list-view')
                        this.propertyList.classList.remove('property-list-map-view')
                        this.propertyListParent.classList.remove('property-list-map-view-parent')

                        Pubsub.publish('property_section_show_list_view', this.collectionProperties?.data?.properties);
                    } else {
                        this.listIcon.setAttribute('stroke', 'gray')
                        this.mapIcon.setAttribute('stroke', 'black')

                        this.propertyMap.style.display = 'block'
                        this.propertyList.classList.remove('property-list-list-view')
                        this.propertyList.classList.add('property-list-map-view')
                        this.propertyListParent.classList.add('property-list-map-view-parent')

                        Pubsub.publish('property_section_show_map_view', this.collectionProperties?.data?.properties);
                    }

                    this.setPropertyCardWidth();
                }

                scrollIntoView = (id) => {
                    let propertyCard = document.getElementById(id);
                    propertyCard.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'start' })
                }

                addPropertyCard = (property, collectionUUID, count) => {
                    
                    var propertyCardWrapperElement = document.createElement(`div`)
                    propertyCardWrapperElement.setAttribute('style', `z-index:${count}`)
                     propertyCardWrapperElement.setAttribute('class', 'property-card-wrapper')
                     propertyCardWrapperElement.setAttribute("id", property.propertyCollectionUUID);
                     
                    const propertyCard = new PropertyCard(collectionUUID,property);
                    var propertyCardElement = propertyCard.element;
                
                    propertyCardWrapperElement.append(propertyCardElement)
                    
                    this.propertyList.append(propertyCardWrapperElement)
                
                }
                
            }


            class PageSubHeader{
                constructor() {
                    
                    this.element = document.querySelector('place-pagesubheader')

                    this.element.addEventListener('button_on_press', (e) => {
                        Pubsub.publish('create_new_collection_pressed', e)
                    })

                    this.element.addEventListener('top_header_on_press', (e) => {
                        Pubsub.publish('top_header_back_pressed', e)
                    })

                     this.element.addEventListener('on_menu_item_pressed', (e) => {
                        Pubsub.publish('top_header_menu_item_pressed', e.detail)
                    })

                    this.element.addEventListener('secondary_button_on_press', (e) => {
                        window.open('../search-2.html', '_blank')
                    })
                }

                setTitle(title) {
                    this.element.setAttribute('title', title)
                }

                setTopHeaderTitle(title){
                    this.element.setAttribute('top_header_title', title)
                }

                showTopHeader(){
                    this.element.setAttribute('show_top_header', true)
                }

                hideTopHeader(){
                    this.element.setAttribute('show_top_header', false)
                }

                showPrimaryButton() {
                    this.element.setAttribute('show_button', true)
                }

                hidePrimaryButton() {
                    this.element.setAttribute('show_button', false)
                }

                showSecondaryButton(){
                    this.element.setAttribute('show_secondary_button', true)
                }

                hideSecondaryButton(){
                    this.element.setAttribute('show_secondary_button', false)
                }

                showMenuButton() {
                    this.element.setAttribute('show_menu_button', true)
                }

                hideMenuButton() {
                    this.element.setAttribute('show_menu_button', false)
                }
            }

            class CollectionModal  {
                
                constructor() {
                    
                    let _this = this;
                    this.element = document.querySelector('place-collectionpopup');
                    this.collectionUUID = 0;

                    this.element.addEventListener("on_close_press", (e) => {
                        _this.hide();
                    });

                    this.element.addEventListener("on_save_press", (e) => {
                        this.showError(false);
                        e.detail.collectionUUID = this.collectionUUID
                         e.detail.type = this.isEditingCollection ? 'edit' : 'save'
                        Pubsub.publish('on_new_collection_saved', e.detail);
                    });
                    
                }

                setName(name) {
                    this.element.setAttribute('name_value', name)
                }

                setDescription(description) {
                    this.element.setAttribute('description_value', description ? description : "")
                }

                showError(error) {
                    this.element.setAttribute('show_error', error)
                }

                 show(collectionUUID, isEditingCollection) {
                    this.isEditingCollection = isEditingCollection;
                    if(collectionUUID){
                        this.collectionUUID = collectionUUID;
                    }
                    this.element.setAttribute('style', 'display:flex')
                }

                hide() {
                    this.element.setAttribute('style', 'display:none');

                    this.showError(false)

                    // terrible hack.. only way i could get it to respond to prop changes
                    // to clear the input fields after closing the modal
                    this.setName('none')
                    this.setDescription('none')
                    setTimeout(() => {
                        this.setName('')
                        this.setDescription('')
                    }, 100);
                }
            }

            class CollectionCreatedModal  {
                constructor() {
                    
                   
                    this.collection = ""
                    this.element = document.getElementById('collection-created-modal');
                    let _this = this;

                    this.element.addEventListener("on_primary_press", (e) => {
                        this.hide();
                        window.location.href = '../search-2.html'
                    });

                    this.element.addEventListener("on_tertiary_press", (e) => {
                        _this.hide();
                        Pubsub.publish('collection_created_modal_view_collection_pressed', _this.collection);
                    });

                    this.element.addEventListener("on_close_press", (e) => {
                        _this.hide();
                    });

                    this.element.setAttribute("stacked_buttons", true)
                    this.element.setAttribute("primary_button_text", "Search Listings")
                    this.element.setAttribute("tertiary_button_text", "View Collection")
                }

                show(collection) {
                    if(collection){
                        this.collection = collection;
                    }
                    this.element.setAttribute('style', 'display:flex')
                }

                hide() {
                    this.element.setAttribute('style', 'display:none');
                }
            }

            class EditCollectionModal  {
                constructor() {
                    
                   
                    this.collection = ""
                    this.element = document.getElementById('edit-collection-modal');
                    let _this = this;

                    this.element.addEventListener("on_primary_press", (e) => {
                        _this.hide();
                        
                    });

                    

                    this.element.addEventListener("on_close_press", (e) => {
                        _this.hide();
                    });
                }

                show() {
                    
                    this.element.setAttribute('style', 'display:flex')
                }

                hide() {
                    this.element.setAttribute('style', 'display:none');
                }
            }

            class DeleteCollectionModal {
                constructor() {
                   
                   
                    this.collection = ""
                    this.element = document.getElementById('delete-collection-modal');
                    let _this = this;

                    this.element.addEventListener("on_primary_press", (e) => {
                        _this.hide();
                        Pubsub.publish('delete_collection_modal_delete_pressed', _this.collection);
                    });

                    this.element.addEventListener("on_tertiary_press", (e) => {
                        this.hide();
                    });

                    this.element.addEventListener("on_close_press", (e) => {
                        _this.hide();
                    });
                }

                show(collection) {
                    if(collection){
                        this.collection = collection;
                    }
                    this.element.setAttribute('style', 'display:flex')
                }

                hide() {
                    this.element.setAttribute('style', 'display:none');
                }
            }

             class ShareSavedPropertyModal {
                constructor() {
                    let _this = this;
                    this.savedProperty = {}
                    this.element = document.getElementById('share-saved-property-modal');

                    this.element.addEventListener("on_primary_press", (e) => {

                       

                        navigator.clipboard.writeText(this.link)
                        _this.hide();
                         Pubsub.publish('share_saved_property_modal_share_pressed');
                        
                    });

                    this.element.addEventListener("on_close_press", (e) => {
                        _this.hide();
                    });
                }

                show = (savedProperty) => {
                
                    
                    this.savedProperty = savedProperty;
                    
                    this.link = document.location.origin + "/" +  this.savedProperty.searchUrl
                    this.element.setAttribute('share_link_text', this.link)
                    this.element.setAttribute('style', 'display:flex')
                }

                hide = () => {
                    this.element.setAttribute('style', 'display:none');
                }
            }

            class DeletePropertyModal  {
                constructor() {
                    
                   
                    this.collectionUUID = ""
                    this.propertyCollectionUUID = ""
                    this.element = document.getElementById('delete-property-modal');
                    let _this = this;

                    this.element.addEventListener("on_primary_press", (e) => {
                        _this.hide();
                        Pubsub.publish('delete_property_modal_delete_pressed', {"collectionUUID":_this.collectionUUID, "propertyCollectionUUID":_this.propertyCollectionUUID});
                    });

                    this.element.addEventListener("on_tertiary_press", (e) => {
                        this.hide();
                    });

                    this.element.addEventListener("on_close_press", (e) => {
                        _this.hide();
                    });
                }

                show(collectionUUID, propertyCollectionUUID) {
                    if(collectionUUID){
                        this.collectionUUID = collectionUUID;
                    }
                    if(propertyCollectionUUID){
                        this.propertyCollectionUUID = propertyCollectionUUID;
                    }
                    this.element.setAttribute('style', 'display:flex')
                }

                hide() {
                    this.element.setAttribute('style', 'display:none');
                }
            }

            class CopyPropertyToCollectionModal {
                constructor(){
                     
                    this.element = document.querySelector('place-copycollectionmodal');
                    this.collections = [];
                    this.property = {}
                    this.isVisible = false;

                   

                    this.element.addEventListener('close_button', (e) => {
                        this.hide();
                    });

                    this.element.addEventListener('cancel_button', (e) => {
                        this.hide();
                    });

                    this.element.addEventListener('on_save', (e) => {
                        Pubsub.publish('copy_property_to_collection_modal_save_pressed', {'collectionUUID':e.detail, 'property':this.property});
                    });

                    this.element.addEventListener('set_selected_collection', (e) => {
                        console.log('set_selected_collection', e)
                    });

                    this.element.addEventListener('on_link_press', (e) => {
                        Pubsub.publish('show_new_collection_modal');
                    });

                }

                getCollectionData(){
                    return JSON.parse(this.element.getAttribute("collections"));
                }

                setCollectionData(collections){
                    this.element.setAttribute('collections', JSON.stringify(collections))
                }

                getCollectionList(collections, currentCollectionName) {
                    let collectionList = [];
                    collections.forEach(collection => {
                        if (currentCollectionName && (collection.collectionName == currentCollectionName)) return;
                        collectionList.push({
                            collection_title: collection.collectionName,
                            id: collection.collectionUUID,
                            propertiesImages: collection?.propertiesImages?.length > 0 ? collection?.propertiesImages : [],
                        })
                    });
                    this.setCollectionData(collectionList);

                }

                setIsAddingToCollection(isAddingToCollection){
                    this.element.setAttribute('is_add_to_collection', isAddingToCollection);
                }

                show(property) {
                          
                    if(property){
                        this.property = property;
                    }

                    this.isVisible = true;

                    let mls = {
                        status: property?.status || property?.standardStatus || "",
                        image: this.getPropertyImageUrl(property),
                        price: property?.price || "0",
                        address: ( typeof property?.address === "string") ? property?.address : (property?.address?.street || property?.streetAddress || ""),
                        state: property?.state || property?.address?.state || "",
                        city: property?.city || property?.address?.city || "",
                        postal_code: property?.postal_code || property?.address?.zip || "",
                        beds: property?.beds || property?.bedrooms || 0,
                        baths: property?.baths || property?.fullBaths || property?.bathsTotalDecimal || 0,
                        sqft: property?.sqft || property?.squareFeet || property?.sqFeet || 0,
                        creator: property?.creator || "",
                    }

                    this.element.setAttribute('mls', JSON.stringify(mls))
                    this.element.setAttribute('image_url',mls?.image || "")
                    this.element.setAttribute('style', 'display:flex')
                }

                getPropertyImageUrl(property){
                   // property?.image[0]?.uri || property?.photos[0]?.url || "",

                    if(property.image && property.image.length > 0){
                       return property.image[0].uri
                    } else if (property.photos && property.photos.length > 0){
                       return property.photos[0].url
                    } else {
                        return ""
                    }
                }

                hide() {
                    this.isVisible = false;
                    this.element.setAttribute('style', 'display:none');
                }
            }

            class CollectionPaging {
                constructor(collectionsPerPage){
                   
                    
                    this.element = document.getElementById('collection-pagination');
                    this.collectionsPerPage = collectionsPerPage;

                    this.element.addEventListener('page_changed', (e) => {
                       Pubsub.publish('collection_page_changed', e.detail);
                    });
                }

                setPageCount(pageCount){
                    this.element.setAttribute('page_count', pageCount);
                }

                show() {
                    this.element.setAttribute('style', 'display:flex')
                }

                hide() {
                    this.element.setAttribute('style', 'display:none')
                }
            }

            class PropertyPaging  {
                constructor(propertiesPerPage){
                    
                    
                    this.element = document.getElementById('property-pagination');
                    this.propertiesPerPage = propertiesPerPage;

                    this.element.addEventListener('page_changed', (e) => {
                        Pubsub.publish('property_page_changed', e.detail);
                    });
                }

                setPageCount(pageCount){
                    this.element.setAttribute('page_count', pageCount);
                }

                setCurrentPage(currentPage){
                    this.element.setAttribute('current_page', currentPage);
                }

                show() {
                    this.element.setAttribute('style', 'display:flex')
                }

                hide() {
                    this.element.setAttribute('style', 'display:none')
                }
            }

            class NewCollectionBlock {
                constructor(){
                    
                    this.element = document.getElementById('new-collection-block');

                    this.element.addEventListener('on_main_press', (e) => {
                        Pubsub.publish('new_collection_block_create_collection_pressed', e.detail);
                    });
                }
                show(collectionUUID, propertyCollectionUUID) {
                    this.element.setAttribute('style', 'display:flex')
                }

                hide() {
                    this.element.setAttribute('style', 'display:none');
                }
            }

            class AddListingsBlock {
                constructor() {
                   
                    this.element = document.getElementById('add-listings-block');

                    this.element.addEventListener('on_main_press', (e) => {
                        window.open('../search-2.html', '_blank')
                    });

                   this.element.addEventListener("on_tertiary_press", (e) => {
                         
                    });
                }

                show() {
                    this.element.setAttribute('style', 'display:flex')
                }

                hide() {
                    this.element.setAttribute('style', 'display:none');
                }
            }

            class MyFeed {
                constructor(blueroofMiddlewareApi, collectionsService) {
                    this.blueroofMiddlewareApi = blueroofMiddlewareApi;
                    this.collectionsService = collectionsService;
                    this.element = document.querySelector('place-myfeedblock');

                    this.element.addEventListener('on_menu_open', (e) => {
                        this.element.setAttribute('show_menu', e.detail.e);
                        this.element.setAttribute('show_menu_index', e.detail.index);
                    });

                    this.element.addEventListener('on_view_all_pressed', (e) => {
                        window.open('../search-2.html', '_blank');
                    });

                    this.element.addEventListener('on_add_collection', (e) => {
                        
                        let property = e.detail;
                        Pubsub.publish('my_feed_add_collection_pressed', {property});

                    });

                    this.element.addEventListener('on_share_pressed', (e) => {
                    
                        let property = e.detail
                    
                        let url = this.getPropertyUrl(property);
                        property.searchUrl = url;
                        
                        Pubsub.publish('my_feed_share_pressed', {property});
                    });

                    this.element.addEventListener('on_favorite_pressed', (e) => {
                        let property = e.detail.property;
                        let isAddingFavorite = e.detail.isAddingFavorite;

                        if(isAddingFavorite){
                            Pubsub.publish('my_feed_on_favorite_pressed', {property});
                        }
                        else{
                            Pubsub.publish('my_feed_on_unfavorite_pressed', {property});
                        }

                        
                        
                    });

                    this.element.addEventListener('on_property_pressed', (e) => {
                        let property = e.detail
                    
                        let url = this.getPropertyUrl(property);
                        property.searchUrl = url;
                        window.open('../../' + url, '_blank');
                    });
                

                    this.blueroofMiddlewareApi.getMyFeed().then((data) => {

                        let myFeedBlossorIds = data.map(property => property.blossorId);
                        

                        this.collectionsService.checkIfInCollection(myFeedBlossorIds).then((propertiesInCollections) => {

                            let feed = []
                            data.forEach((item) => {
                            feed.push({
                                image: [
                                    {
                                        title: "",
                                        id: 0,
                                        uri: item?.photos[0].url,
                                    },
                                    ],
                                    price: item?.price,
                                    favorite: propertiesInCollections?.data[item?.blossorId] != null || false,
                                    address: item?.streetAddress,
                                    city: item?.city,
                                    state: item?.state,
                                    postal_code: item?.postalCode,
                                    beds: item?.bedrooms,
                                    status: item?.standardStatus,
                                    baths: item?.bathsTotalDecimal,
                                    sqft: item?.squareFeet,
                                    creator: "",
                                    mls_price_history: item?.history[item.history.length-1]?.price,
                                    blossorId: item?.blossorId,
                                    open_house : item?.openhouses.length > 0 ? true : false,
                                    open_house_date : item?.openhouses[0]?.startDate,
                                    open_house_end_time : item?.openhouses[0]?.endDate,
                                    property_created_at : item?.listDate,
                                    lastStatusChangeDate : item?.lastStatusChangeDate,
                                })
                            })

                            if(feed && feed?.length > 0){
                                this.show();
                                this.element.setAttribute('mls_data', JSON.stringify(feed));
                            }
                        });
                    });
                    
                }

                getPropertyUrl = (property) => {
                    let state = property.state;
                    let city = this.slugify(property.city);
                    let zip = property.postal_code
                    let address = this.slugify(property.address);
                    let blossorId = property.blossorId;
                    return `homes-for-sale/${state}/${city}/${zip}/${address}/bid-${blossorId}`;
                }

                slugify(text) {
                    // replace non letter or digits by -
                    text = text.replace(/[^\pL\d]+~u/g, '_');
                    // transliterate
                    text = text.normalize('NFKD').replace(/[\u0300-\u036F]/g,'')
                    // remove unwanted characters
                    text = text.replace(/[^_\w]+/g, '_');
                    // trim
                    text = text.trim();
                    // remove duplicate -
                    text = text.replace(/_+/g, '-');
                    // lowercase
                    text = text.toLowerCase();
                    if (!text) {
                        return 'n-a';
                    }
                    return text
                }

                getMlsData = () => {
                    return JSON.parse(this.element.getAttribute('mls_data'));
                }

                setMlsData = (data) => {
                    this.element.setAttribute('mls_data', JSON.stringify(data));
                }

                show() {
                    this.element.setAttribute('style', 'display:flex')
                }

                hide() {
                    this.element.setAttribute('style', 'display:none')
                }
            }

            class BlueroofMiddlewareApi {
                constructor() {
                    this.baseUrl = 'https://brivity-home-middleware.production.brivity.com/';
                    this.apiKey = localStorage.getItem('authorization');
                }

                getMyFeed = async () => {
                     const response = await fetch(`${this.baseUrl}/listings/voltron`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `${this.apiKey}`
                        },
                        body: JSON.stringify([])
                    });

                    const data = await response.json();
                    return data;
                }
                
                getLeadBasicInfo = async () => {
                    const response = await fetch(`${this.baseUrl}/blueroofleads/basicinfo`, {
                        method: 'GET',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `${this.apiKey}`
                        },
                       
                    });

                    const data = await response.json();
                    return data;
                }

                getAgentProfile = async (brivityUserId) => {
                    const response = await fetch(`${this.baseUrl}/blueroofagents/profile`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `${this.apiKey}`
                        },
                        body: `{"brivityUserId": ${brivityUserId}}`
                       
                    });

                    const data = await response.json();
                    return data;
                }

            }

            class Map {
                constructor(){
                    this.element = document.querySelector('place-map');
                    this.properties = [];

                    this.element.addEventListener('on_marker_clicked', (e) => {
                        Pubsub.publish('map_marker_clicked', e.detail.id)
                    });
                }

                setMarkers = (properties) => {
                    let markers = [];
                    let color = 'black'

                    let dateNow = new Date();
                    dateNow.setDate(dateNow.getDate()-7);
                    dateNow.setHours(dateNow.getHours());
                    dateNow.setMinutes(dateNow.getMinutes());
                    dateNow.setSeconds(dateNow.getSeconds());
                    const sevenDaysAgo = dateNow.getTime();

                    this.properties = properties;
                    properties?.forEach(property => {

                        if(property.statusText == 'Active'){
                            color = '#1FA6E8'
                        }else if(property.statusText == 'Pending'){
                            color = '#FFC82C'
                        }else if(property.statusText == 'Sold'){
                            color = '#FF7343'
                        }

                        let listDate = new Date(property.listDate);


                        if(listDate.getTime() > sevenDaysAgo){
                            color = '#24D0BC'
                        }

                        markers.push({
                            id: `${property.blossorId}`,
                            location: property.location,
                            price: property.price,
                            color : color
                        })
                    });

                    this.element.setAttribute('markers', JSON.stringify(markers));
                }

                setSelectedMarker = (property) => {
                    let markerIndex = this.properties.findIndex((p) => p.blossorId == property.blossorId)
                    if(markerIndex > -1){
                        this.element.setAttribute('selected_property_index', markerIndex);
                    }
                }

                clearSelectedMarker = () => {
                    this.element.setAttribute('selected_property_index', -1);
                }

            }

            class SavedListings {
                constructor(){
                    this.element = document.getElementById('collection-saved-listings');
                }

                setCount(count) {
                    this.element.innerText = `Saved Listings (${count})`;
                }

                hide() {
                    this.element.style.display = `none`;
                }
                show() {
                    this.element.style.display = `block`;
                }
            }
        
            class AddListingBtn {
                constructor(){
                    this.element = document.getElementById('add-listing-btn');
                    this.element.setAttribute('button_style', JSON.stringify({paddingLeft: '0px'}));
                    this.element.addEventListener('on_press', (e) => {
                        window.open('../search-2.html', '_blank')
                    })
                }

                hide() {
                    this.element.style.display = `none`;
                }
                show() {
                    this.element.style.display = `block`;
                }
            }

            class Page {
                constructor(blueroofMiddlewareApi) {
                    this.selectedCollection = {};
                    this.inPropertyView = false;
                    this.lead = {}
                    this.agent = {}
                    this.isInMapView = false;
                    this.isInListView = true;

                    this.authorizationData = JSON.parse(atob(blueroofMiddlewareApi.apiKey.split('.')[1]));
                    this.is_blueroof_person = this.authorizationData?.is_blueroof_person;

                   
                }

                setSelectedCollection(collection) {
                    this.selectedCollection = collection;
                }

                setInPropertyView(inPropertyView) {
                    this.inPropertyView = inPropertyView;
                }
            }


            class messagingEmitter extends Messaging.BaseEmitter {
                
                newMessage(message) {
                   Pubsub.publish('messaging_emitter_new_message', message);
                }
            }

            

            (async () => {

                const blueroofMiddlewareApi = new BlueroofMiddlewareApi();
                const page = new Page(blueroofMiddlewareApi);

                let url = 'https://messaging.brivity.com/'
                const messaging = new Messaging.Service(url, blueroofMiddlewareApi.apiKey, new messagingEmitter());

                let lead =  await blueroofMiddlewareApi.getLeadBasicInfo();
                let agent = await blueroofMiddlewareApi.getAgentProfile(lead.data?.brivity_agent_id);

                page.lead = lead.data;
                page.agent = agent.data;

                const collectionsService = new Collections.Service('https://property-collections-api-idx.brivity.com/',blueroofMiddlewareApi.apiKey, "sitebuilder", new logger());


                const menu = new Menu(page?.is_blueroof_person || false, page?.agent, blueroofMiddlewareApi.baseUrl, blueroofMiddlewareApi.apiKey);
                const collectionSection = new CollectionSection()
                const propertySection = new PropertySection()
                const collectionModal = new CollectionModal();
                const collectionCreatedModal = new CollectionCreatedModal();
                const deleteCollectionModal = new DeleteCollectionModal();
                const editCollectionModal = new EditCollectionModal();
                const shareSavedPropertyModal = new ShareSavedPropertyModal();
                const deletePropertyModal = new DeletePropertyModal();
                const copyPropertyToCollectionModal = new CopyPropertyToCollectionModal();
                const pageSubHeader = new PageSubHeader();
                const collectionPaging = new CollectionPaging(8)
                const propertyPaging = new PropertyPaging(8)
                const newCollectionBlock = new NewCollectionBlock();
                const addListingsBlock = new AddListingsBlock();
                const myFeed = new MyFeed(blueroofMiddlewareApi, collectionsService);
                const toast = new Toast();
                const map = new Map();
                const savedListings = new SavedListings();
                const addListingBtn = new AddListingBtn();

                collectionPaging.hide();
                propertySection.hide();

                let collections = [];
                let extraCollections = 0;
                let createCopyCollection = false;
              
                if(!showCollectionByUUID){
                    const collectionDescription = document.getElementById("collectionDescription");

                    collectionsService.getCollections(0, collectionPaging.collectionsPerPage).then((e) => {

                        extraCollections = e?.data?.totalCollections

                        if(e.data.TotalPages > 1) {
                            collectionPaging.show()
                            collectionPaging.setPageCount(e.data.TotalPages);
                        } else {
                            collectionPaging.setPageCount(1);
                        }
                        

                        if(e?.data?.Items){
                            collections = e.data.Items;
                            count = 100;
                            e.data.Items.forEach((collection) => {
                            count--
                            
                                collectionSection.addCollectionCard(collection, count)
                            });
                        }

                        copyPropertyToCollectionModal.getCollectionList(collections)
                        
                        if(collections.length == 0){
                            newCollectionBlock.show();
                        }

                    }).catch((e) => {
                        if(collections.length == 0){
                            newCollectionBlock.show();
                        }
                    });
                }
                else{
                    collectionsService.getCollections(0, collectionPaging.collectionsPerPage).then((e) => {
                        
                        if(e?.data?.Items){
                            collections = e.data.Items;
                        }
                         
                    });
                }    

                Pubsub.subscription('property_card_mouseenter', (property) => {

                    document.querySelectorAll('place-propertycard').forEach((propertyCard) => {
                        propertyCard.setAttribute('show_border', false);
                    })
                    
                    if(page.isInMapView){
                        map.setSelectedMarker(property)
                    }
                }).subscribe();

                Pubsub.subscription('property_card_mouseleave', () => {
                    if(page.isInMapView){
                        map.clearSelectedMarker()
                    }
                }).subscribe();

                Pubsub.subscription('messaging_emitter_new_message', (message) => {
                    toast.show('New message from ' + message.createdByAlias)
                }).subscribe();

                Pubsub.subscription('property_section_show_map_view', (properties) => {
                    map.setMarkers(properties);
                    page.isInMapView = true;
                    page.isInListView = false;

                    document.querySelectorAll('place-propertycard').forEach((propertyCard) => {
                        propertyCard.setAttribute('show_border_on_hover', true);
                    })
                }).subscribe();

                Pubsub.subscription('property_section_show_list_view', (properties) => {
                    page.isInMapView = false;
                    page.isInListView = true;

                    document.querySelectorAll('place-propertycard').forEach((propertyCard) => {
                        propertyCard.setAttribute('show_border_on_hover', false);
                    })
                    
                }).subscribe();

                Pubsub.subscription('property_page_changed', (page) => {
                    collectionsService.getCollectionProperties(propertySection.collectionUUID, page, propertyPaging.propertiesPerPage).then((collectionProperties) => {
                        map.setMarkers(collectionProperties?.data?.properties);
                        savedListings.setCount(collectionProperties?.data?.properties?.length || 0);
                        propertySection.show(propertySection.collectionUUID,collectionProperties)
                        propertySection.setPropertyCardWidth();
                        propertyPaging.setCurrentPage(page);
                    });
                }).subscribe();

                Pubsub.subscription("top_header_menu_item_pressed", (menuItemPressed) => {
                            
                    if(menuItemPressed == 'Edit Collection'){
                        collectionModal.setName(page.selectedCollection.collectionName);
                        collectionModal.setDescription(page.selectedCollection.collectionDescription);
                        collectionModal.show(page.selectedCollection.collectionUUID, true);
                    }
                    else if(menuItemPressed == 'Delete Collection'){
                        deleteCollectionModal.show(page.selectedCollection);
                    }
                }).subscribe();

                Pubsub.subscription('new_collection_block_create_collection_pressed', (e) => {
                    collectionModal.show(0, false);
                }).subscribe();

                Pubsub.subscription('collection_card_pressed', (e) => {
                
                    window.location.hash = e.collection.collectionUUID;

                    page.setSelectedCollection(e.collection);

                    collectionsService.getCollectionProperties(e.collection.collectionUUID,1, propertyPaging.propertiesPerPage).then((collectionProperties) => {

                    
                        savedListings.setCount(collectionProperties?.data?.properties?.length || 0);
                        propertyPaging.setPageCount(collectionProperties.data.totalPages);
                        
                    
                        if(collectionProperties?.data?.properties == null){
                            addListingsBlock.show();
                        }
                        propertySection.show(e.collection.collectionUUID,collectionProperties)
                        propertySection.setPropertyCardWidth();

                        if(collectionProperties.data.totalPages > 1){
                            propertyPaging.show();
                        }
                        
                    });
                    
                
                    collectionSection.hide();
                 
                    let collectionList = [];

                    collections.forEach(collection => {
                        if (collection.collectionName == e.collection.collectionName) return;

                        collectionList.push({
                            collection_title: collection.collectionName,
                            id: collection.collectionUUID,
                            propertiesImages: collection?.propertiesImages?.length > 0 ? collection?.propertiesImages : [],
                        })
                    });

                    copyPropertyToCollectionModal.getCollectionList(collections, e.collection.collectionName);

                    pageSubHeader.showTopHeader();
                    pageSubHeader.setTopHeaderTitle("Collections");
                    pageSubHeader.setTitle(e.collection.collectionName);
                    pageSubHeader.hidePrimaryButton();
                    pageSubHeader.showMenuButton();

                    if(window.innerWidth > 768 ){
                        pageSubHeader.showSecondaryButton();
                    } 

                    page.setInPropertyView(true)

                    propertyPaging.setCurrentPage(1);
                    propertySection.setView('list')
                    

                    const collectionDescription = document.getElementById('collection-description')
                    collectionDescription.style.display="flex"
                    collectionDescription.children[0].innerText = e?.collection.collectionDescription || ""
                }).subscribe();

                Pubsub.subscription('collection_card_menu_item_pressed', (e) => {
                    if (e.menuItem == "Delete Collection") {

                        deleteCollectionModal.show(e.collection);
                        
                    } else {


                        collectionModal.setName(e.collection.collectionName);
                        collectionModal.setDescription(e.collection.collectionDescription);
                        collectionModal.show(e.collection.collectionUUID, true);
                    }
                }).subscribe();

                Pubsub.subscription('property_card_menu_item_pressed', (e) => {
                    if(e.menuItem == 'Remove from Collection') {
                        deletePropertyModal.show(e.collectionUUID, e.propertyCollectionUUID);
                    }
                    else if(e.menuItem == 'Copy to Collection') {
                        copyPropertyToCollectionModal.show(e.property);
                    }
                    else if(e.menuItem == 'Share Property') {
                        
                        shareSavedPropertyModal.show(e.property);
                    }
                }).subscribe();

                Pubsub.subscription('show_new_collection_modal', (e) => {
                    collectionModal.show();
                    copyPropertyToCollectionModal.hide();
                    createCopyCollection = true;
                }).subscribe();

                Pubsub.subscription('top_header_back_pressed', () => {
                    window.location.hash = '';
                    pageSubHeader.hideTopHeader();
                    page.selectedCollection = {};
                    pageSubHeader.setTitle("COLLECTIONS");
                    pageSubHeader.showPrimaryButton();
                    pageSubHeader.hideSecondaryButton();
                    pageSubHeader.hideMenuButton();

                    page.setInPropertyView(false)

                    collectionSection.show();
                    propertySection.hide()

                    propertyPaging.setCurrentPage(1);

                    copyPropertyToCollectionModal.getCollectionList(collections)
                
                    const collectionDescription = document.getElementById('collection-description')
                    collectionDescription.style.display="none"
                    collectionDescription.children[0].innerText = "";
                    addListingsBlock.hide();
                }).subscribe()

                Pubsub.subscription('create_new_collection_pressed', (e) => {
                    collectionModal.show(0, false);
                }).subscribe();

                Pubsub.subscription('on_new_collection_saved', (e) => {         
                    if(e.type == 'save'){
                         
                        let people = [{ personUUID: page.lead.brivity_uuid, role: "lead" }];
                        let properties = [""];
                        collectionsService.createCollection(e.name, e.description,  page.lead.brivity_uuid, people, properties).then((e) => {
                            
                            collections.unshift(e.data);

                            extraCollections++
                             if(collections.length > 8) {
                                 collections.pop();
                                 collectionPaging.show()
                                 collectionPaging.setPageCount(Math.ceil(extraCollections / 8));
                            }

                            count = 100;
                            collectionSection.collections.innerHTML = "";
                            collections.forEach((collection) => {
                                count--
                                collectionSection.addCollectionCard(collection, count)
                            });

                            let collectionsList =  copyPropertyToCollectionModal.getCollectionData();
                            let newCollection = {
                                collection_title: e.data.collectionName,
                                id: e.data.collectionUUID,
                                propertiesImages: [],
                            }
                            collectionsList.unshift(newCollection);
                            copyPropertyToCollectionModal.setCollectionData(collectionsList);

                           if(!copyPropertyToCollectionModal.isVisible){
                            if (createCopyCollection) {
                                copyPropertyToCollectionModal.isVisible = true;
                                copyPropertyToCollectionModal.element.setAttribute('style', 'display:flex');
                                createCopyCollection = false;
                            } else {
                                collectionCreatedModal.show(e.data);
                            }
                           }

                            collectionModal.hide();
                            
                            newCollectionBlock.hide();
                        }).catch((e) => {
                            collectionModal.showError(true)
                        });
                    }
                    else{
                        collectionsService.updateCollection(e.collectionUUID, e.name, e.description).then((collection) => {
                            let element = document.getElementById(e.collectionUUID);
                            element.setAttribute('title', e.name);
                            element.setAttribute('description', e.description);
                            if(Object.keys(page.selectedCollection).length !== 0){
                                pageSubHeader.setTitle(e.name);
                            }
                            const collectionDescription = document.getElementById('collection-description')
                            collectionDescription.children[0].innerText = e.description;
                            let updatedCollection = collections.findIndex((c) => c.collectionUUID == e.collectionUUID)
                            if(updatedCollection != -1){
                                collections[updatedCollection].collectionName = e.name;
                                collections[updatedCollection].collectionDescription = e.description;
                            }
                            collectionModal.hide();
                            editCollectionModal.show();
                        });
                    }
                }).subscribe();

                Pubsub.subscription('collection_created_modal_view_collection_pressed', (collection) => {
                    Pubsub.publish('collection_card_pressed', {"collection": collection})
                }).subscribe();

                Pubsub.subscription('delete_collection_modal_delete_pressed', (collection) => {
                    collectionsService.deleteCollection(collection.collectionUUID).then((e) => {
                        document.getElementById(collection.collectionUUID).remove();
                        toast.show('Collection was Deleted')

                        extraCollections--
                        
                        if(extraCollections.length < 9) {
                            collectionPaging.hide()
                        }else{
                            collectionPaging.setPageCount(Math.ceil(extraCollections / 8));
                        }

                        if(page.inPropertyView){
                            Pubsub.publish('top_header_back_pressed');
                        }
                    });
                }).subscribe();

                Pubsub.subscription('delete_property_modal_delete_pressed', (e) => {
                    collectionsService.removePropertyFromCollection(e.collectionUUID, e.propertyCollectionUUID).then(() => {
                        document.getElementById( e.propertyCollectionUUID).remove();
                        toast.show('Property removed from collection')
                    });
                }).subscribe();

                Pubsub.subscription('copy_property_to_collection_modal_save_pressed', (e) => {

                    let collectionUUID = e.collectionUUID;
                    let blossorId = e.property.blossorId;
                    collectionsService.addPropertyToCollection(collectionUUID, [blossorId]).then(() => {

                      
                        let data =  copyPropertyToCollectionModal.getCollectionData();
                        let myFeedData = myFeed.getMlsData();
                         
                        collectionsService.getCollectionProperties(collectionUUID,1,1).then((e) => {
                        
                              // update photos in add property to collection modal
                            let collectionIndex =  data.findIndex((x) => x.id == collectionUUID);
                            let collection = data[collectionIndex];
                            let photo = e?.data?.properties[0]?.photos[0]?.url;
                        
                            collection.propertiesImages = [];
                            if(e?.data?.properties?.length > 0){
                                collection.propertiesImages.push({mainPhoto: photo});
                            }
                            
                            data[collectionIndex] = collection;
                            
                            copyPropertyToCollectionModal.setCollectionData(data);


                            // update collection card if in collection view
                            pageCollectionIndex = collections.findIndex((x) => x.collectionUUID == collectionUUID)

                            if(pageCollectionIndex > -1){
                                
                                let collectionCard = document.getElementById(collectionUUID);
                                let numProperties = parseInt(collectionCard.getAttribute('num_properties'));
                                numProperties++;
                                collectionCard.setAttribute('num_properties', numProperties);

                                let images = collectionCard.getAttribute('image');
                                if(images){
                                    images += "," + photo;
                                }
                                else{
                                    images = photo;
                                }
                               
                                collectionCard.setAttribute('image', images);
                            }

                            //update my feed to set property heart as favorited
                            let myFeedPropertyIndex = myFeedData.findIndex((x) => x.blossorId == blossorId);
                            if(myFeedPropertyIndex > -1){
                                myFeedData[myFeedPropertyIndex].favorite = true;
                                myFeed.setMlsData(myFeedData);
                            }

                        })

                        copyPropertyToCollectionModal.hide();
                        toast.show('Property added to collection')
                        
                    }).catch((e) => {
                        toast.show('Error adding property to collection', true)
                    });
                }).subscribe();

                Pubsub.subscription('collection_page_changed', (e) => {
                    collectionsService.getCollections(e, collectionPaging.collectionsPerPage).then((e) => {
                        if(e?.data?.Items){
                            collections = e.data.Items;

                            collectionSection.collections.innerHTML = "";
                            count = 100;
                            e.data.Items.forEach((collection) => {
                            count--
                            
                                collectionSection.addCollectionCard(collection, count)
                            });
                        }
                    });
                }).subscribe();

                Pubsub.subscription('share_saved_property_modal_share_pressed', (e) => {
                    toast.show('Link Copied!')
                }).subscribe();

                Pubsub.subscription('my_feed_share_pressed', (e) => {
                    shareSavedPropertyModal.show(e.property);
                }).subscribe();

                Pubsub.subscription('my_feed_add_collection_pressed', (e) => {
                    copyPropertyToCollectionModal.setIsAddingToCollection(true);
                    copyPropertyToCollectionModal.show(e.property);
                }).subscribe();

                Pubsub.subscription('map_marker_clicked', (id) => {
                    propertySection.scrollIntoView(id);

                    document.querySelectorAll('place-propertycard').forEach((propertyCard) => {
                        if(propertyCard.id == id) {
                            propertyCard.setAttribute('show_border', true)
                        }
                        else {
                            propertyCard.setAttribute('show_border', false)
                        } 
                    })
                }).subscribe();

                Pubsub.subscription('my_feed_on_favorite_pressed', (e) => {
                    copyPropertyToCollectionModal.setIsAddingToCollection(true);
                    copyPropertyToCollectionModal.show(e.property);
                }).subscribe();

                Pubsub.subscription('my_feed_on_unfavorite_pressed', (e) => {
                    let blossorId = e.property.blossorId;
                    let myFeedData = myFeed.getMlsData();
                    collectionsService.checkIfInCollection([blossorId]).then((propertiesInCollections) => {
                        if(propertiesInCollections.data[blossorId]){
                            propertiesInCollections.data[blossorId].forEach((collection) => {
                                collectionsService.removePropertyFromCollection(collection.collectionUUID, collection.propertyUUID).then(() => {
                                    
                                    let data =  copyPropertyToCollectionModal.getCollectionData();
                                    let collectionUUID = collection.collectionUUID;
                                    collectionsService.getCollectionProperties(collectionUUID,1,1).then((e) => {
                                    
                                         // update photos in add property to collection modal
                                        let collectionIndex =  data.findIndex((x) => x.id == collectionUUID);
                                        let collection = data[collectionIndex];
                                        let photo = e?.data?.properties?.length > 0 ? e?.data?.properties[0]?.photos[0]?.url : '';
                                    
                                        collection.propertiesImages = [];
                                        if(e?.data?.properties?.length > 0){
                                            collection.propertiesImages.push({mainPhoto: photo});
                                        }
                                        
                                        data[collectionIndex] = collection;
                                        
                                        copyPropertyToCollectionModal.setCollectionData(data);


                                         // update collection card if in collection view
                                        pageCollectionIndex = collections.findIndex((x) => x.collectionUUID == collectionUUID)

                                        if(pageCollectionIndex > -1){
                                            
                                            let collectionCard = document.getElementById(collectionUUID);
                                            let numProperties = parseInt(collectionCard.getAttribute('num_properties'));
                                            numProperties--;
                                            collectionCard.setAttribute('num_properties', numProperties);

                                            let images = collectionCard.getAttribute('image');
                                            let newImages = images.split(',').filter((x) => x == photo).join(',');
                                            collectionCard.setAttribute('image', newImages);
                                        }

                                        //update my feed to set property heart as not favorited
                                        let myFeedPropertyIndex = myFeedData.findIndex((x) => x.blossorId == blossorId);
                                        if(myFeedPropertyIndex > -1){
                                            myFeedData[myFeedPropertyIndex].favorite = false;
                                            myFeed.setMlsData(myFeedData);
                                        }
                                    })
                                    toast.show('Property removed from collection');
                                }).catch((e) => {
                                    toast.show('Error removing from collection', true);
                                });
                            });
                        }
                    });
                }).subscribe();

                let modalBackdrop = document.getElementsByClassName('center-modal');
                for(let i = 0; i < modalBackdrop.length; i++){
                    modalBackdrop[i].addEventListener('click', (e) => {
                        if(e.target == modalBackdrop[i]){
                            modalBackdrop[i].style.display = 'none';
                        }
                    });
                }

                window.addEventListener( "hashchange", function( event ) {
                    if(window.location.hash == ''){
                        Pubsub.publish("top_header_back_pressed");
                    }
                });


                document.addEventListener("click", (e) => {

                    const elements = document.querySelectorAll("[show_menu]");
                    elements.forEach((el) => {
                        el.setAttribute("show_menu", "false");
                    });

                    document.getElementById("c2dfac72-6233-4e8d-b0d2-f44e4240ebb4")?.setAttribute("show_menu", "false");
                });
                if(window.innerWidth < 768 ){
                     savedListings.hide();
                     pageSubHeader.hideSecondaryButton();
                } else{
                    addListingBtn.hide();
                }
            })();
        }
    })

</script>




 <div id="myportal-page" style="display:none">
    <div style="position:relative; width:100%;">
        <div style="position:absolute;z-index:110; top:0; bottom:0; ">
          <place-menu></place-menu>
        </div>
 <div class="collection-page" style="flex:1;">
    <div class="page-width-parent">
            <place-pagesubheader
                title="COLLECTIONS"  
                show_top_header="false" 
                button_title="Create New" 
                button_icon="plus"
                secondary_button_icon="plus"
                secondary_button_title="Add Listings"
                show_secondary_button="false"
                show_menu="false"
                menu_items='[{ "icon": "edit-2", "text": "Edit Collection" },{ "icon": "trash", "text": "Delete Collection" }]'
            ></place-pagesubheader>
        
            <div id="collection-description" class="collection-description" style="display:none;">
                <p class="collection-description-text" style="" ></p>
            </div>

            <div id="collection-section" style="margin-top:24px;">
           
                <div id="collections" style="display:flex; flex-wrap:wrap">
                    <place-actioncard
                        id="new-collection-block"
                        style="display:none;"
                        title="Create A Collection"
                        sub_title="You can create a collection to save and keep track of your favorite properties."
                        button_text="Create New"
                        button_icon="plus"
                        button_icon_fill="white"
                        card_width="300"
                    />
                </div>

                <place-pagination id="collection-pagination" style="display:none"></place-pagination>

                <div class="my-feed-parent">
                    <place-myfeedblock style="display:none" display_menu="false"></place-myfeedblock>
                </div>
            </div>
       
            <div id="property-section">
                 <div id="property-header" style="display:flex; justify-content: space-between">
                    <p id="collection-saved-listings" class="collection-saved-listings"></p>
                    <place-button icon="plus" ghost="true" btn_text_styles="text-[#5386E4]" icon_stroke="#5386E4" id="add-listing-btn" title="Add Listing"></place-button>
                    <div style="padding: 0 5px; display:flex">
                        <place-icon id="property-list-icon" style="margin-right:10px" name="list" size="24" fill="none" stroke="black"></place-icon>
                    
                        <place-icon id="property-map-icon" name="map" size="24" fill="none" stroke="gray"></place-icon>
                    </div>
                </div> 
                
                <div class="property-container" style="">
                    <div id="property-list-parent">
                        <div id="property-list" class="property-list-list-view">
                            
                        </div>
                        <div>
                            <place-actioncard
                                    id="add-listings-block"
                                    style="display:none;"
                                    title="Add Listings"
                                    sub_title="You can search and add properties to a collection to keep track of your favorite homes using the heart icon."
                                    button_text="Search Listings"
                                    button_icon="search"
                                    button_icon_fill="white"
                                    card_width="300"
                                />
                        </div>
                        <place-pagination id="property-pagination" class="property-pagination" style="display:none"></place-pagination>

                    </div>
                   <div id="property-map" class="property-map-container" style="display:none" >
                        <place-map
                            map_type_control="true"
                            zoom_control="true">
                        </place-map>
                    </div>
                </div>
               
            </div>
                  

            
                
             
        
            </div>
        </div>
    </div> 

    
    

     <place-basicmodal 
        id="collection-created-modal"
        class="center-modal"
        style="display:none"
        title="Collection Created"
        sub_title="Would you like to add listings to your new collection? You can search for new listings or copy them from an existing collection."
        title_icon="heart"
        primary_button_text="View Collection"
        tertiary_button_text="Search"
        stacked_buttons="true"
     ></place-basicmodal>

     <place-basicmodal 
        id="delete-collection-modal"
        class="center-modal"
        style="display:none"
        title="Delete Collection"
        sub_title="Deleting a collection will permanently remove it from your account. Your saved properties will only be visible in your Favorites collection."
        description="Are you sure you would like to delete this collection?"
        title_icon="trash"
        primary_button_text="Delete"
        tertiary_button_text="Cancel"
        no_stack_buttons="true"
     ></place-basicmodal>

     <place-basicmodal 
        id="edit-collection-modal"
        class="center-modal"
        style="display:none"
        title="Changes Saved"
        sub_title="The changes to your collection have been saved."
        title_icon="check"
        primary_button_text="Close"
     ></place-basicmodal>

     <place-basicmodal 
        id="delete-property-modal"
        class="center-modal"
        style="display:none"
        title="Remove Property"
        sub_title="Deleting this property will remove it from the current collection. Are you sure you would like to delete this property from your collection."
        title_icon="trash"
        primary_button_text="Delete"
        tertiary_button_text="Cancel"
        no_stack_buttons="true"
     ></place-basicmodal>

      

      <place-basicmodal 
            id="share-saved-property-modal"
            class="center-modal"
            style="display:none"
            title="Share Property"
            sub_title="Copy link to share property."
            title_icon="share"
            primary_button_text="Copy Link"
        ></place-basicmodal>
    
     <place-copycollectionmodal
        class="center-modal"
        style="display:none"
        collections='[]'
     ></place-copycollectionmodal>

     <place-collectionpopup  class="center-modal" style="display:none"></place-collectionpopup>

     <place-generictoast container_style="z-200"></place-generictoast>
</div>  
      

<!-- Load JS here for greater good =============================-->

<!-- js includes --><!-- end js includes -->


<footer id="footer-9n" data-selector="footer" style="outline: none; cursor: inherit;"><div class="container">
        <div class="row">
            <div class="col-md-2">
                <div class="render-menu hot-nav">
                    <ul class="" style="outline: none; cursor: inherit;"><li class="nav-item" data-selector="li" style="outline: none; cursor: inherit;">
                            <a href="../index-2.html" style="outline: none; cursor: inherit;">Home</a>
                        </li>
                        <li class="nav-item" data-selector="li" style="outline: none; cursor: inherit;">
                            <a href="../search.html" style="outline: none; cursor: inherit;">Listings</a>
                        </li>
                        <li class="nav-item" data-selector="li" style="outline: none; cursor: inherit;">
                            <a href="../buying.html" style="outline: none; cursor: inherit;">Buying</a>
                        </li>
                        <li class="nav-item" data-selector="li" style="outline: none; cursor: inherit;">
                            <a class="white" href="../selling.html" style="outline: none; cursor: inherit;">Selling</a>
                        </li>
                        <!--
                        <li class="nav-item" data-selector="li" style="outline: none; cursor: inherit;">
                            <a href="/sitemap/city">Cities</a>
                        </li>
                        -->
                        <li class="nav-item" data-selector="li" style="outline: none; cursor: inherit;">
                            <a href="../financing.html" style="outline: none; cursor: inherit;">Financing</a>
                        </li>
                        <li class="nav-item" data-selector="li" style="outline: none; cursor: inherit;">
                            <a href="../homevalue.html" style="outline: none; cursor: inherit;">Home Value</a>
                        </li>
                        <li class="nav-item" data-selector="li" style="outline: none; cursor: inherit;">
                            <a href="../realestateagent/search.html" style="outline: none; cursor: inherit;">Who We Are</a>
                        </li>
                        <li class="nav-item" data-selector="li" style="outline: none; cursor: inherit;">
                            <a href="../connect.html" style="outline: none; cursor: inherit;">Connect</a>
                        </li>
                    </ul></div>
            </div>
            
            <div class="col-md-7 col-md-offset-1">
                <form id="form-contact1" action="#" class="form-contact">
                    <div class="row margin-bottom-0">
                        <div class="col-sm-6" style="margin-bottom: 20px;">
                            <div class="form-group">
                                <input name="contact1_fname" id="contact1_fname" placeholder="First Name" class="form-control contact_fname" type="text" required="" style='background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAfBJREFUWAntVk1OwkAUZkoDKza4Utm61iP0AqyIDXahN2BjwiHYGU+gizap4QDuegWN7lyCbMSlCQjU7yO0TOlAi6GwgJc0fT/fzPfmzet0crmD7HsFBAvQbrcrw+Gw5fu+AfOYvgylJ4TwCoVCs1ardYTruqfj8fgV5OUMSVVT93VdP9dAzpVvm5wJHZFbg2LQ2pEYOlZ/oiDvwNcsFoseY4PBwMCrhaeCJyKWZU37KOJcYdi27QdhcuuBIb073BvTNL8ln4NeeR6NRi/wxZKQcGurQs5oNhqLshzVTMBewW/LMU3TTNlO0ieTiStjYhUIyi6DAp0xbEdgTt+LE0aCKQw24U4llsCs4ZRJrYopB6RwqnpA1YQ5NGFZ1YQ41Z5S8IQQdP5laEBRJcD4Vj5DEsW2gE6s6g3d/YP/g+BDnT7GNi2qCjTwGd6riBzHaaCEd3Js01vwCPIbmWBRx1nwAN/1ov+/drgFWIlfKpVukyYihtgkXNp4mABK+1GtVr+SBhJDbBIubVw+Cd/TDgKO2DPiN3YUo6y/nDCNEIsqTKH1en2tcwA9FKEItyDi3aIh8Gl1sRrVnSDzNFDJT1bAy5xpOYGn5fP5JuL95ZjMIn1ya7j5dPGfv0A5eAnpZUY3n5jXcoec5J67D9q+VuAPM47D3XaSeL4AAAAASUVORK5CYII="); background-repeat: no-repeat; background-attachment: scroll; background-size: 16px 18px; background-position: 98% 50%; cursor: auto;'></div>
                        </div>
                        <div class="col-sm-6" style="margin-bottom: 20px;">
                            <div class="form-group">
                                <input name="contact1_lname" id="contact1_lname" placeholder="Last Name" class="form-control contact_lname" type="text" required=""></div>
                        </div>
                    </div>
                    <div class="row margin-bottom-0">
                        <div class="col-sm-6" style="margin-bottom: 20px;">
                            <div class="form-group">
                                <input name="contact1_email" id="contact1_email" placeholder="Email Address" class="form-control contact_email" type="email" required=""></div>        
                        </div>
                        <div class="col-sm-6" style="margin-bottom: 20px;">
                            <div class="form-group">
                                <input name="contact1_phone" id="contact1_phone" placeholder="Phone Number" class="form-control contact_phone" type="tel" required=""></div>                                
                        </div>
                    </div>
                    <div class="row margin-bottom-0">
                        <div class="col-sm-12" style="margin-bottom: 20px;">
                            <i class="fa fa-caret-down" style="position: absolute; top: 13px; right: 30px; font-size: 14px; outline: none; cursor: inherit;" data-selector=".fa"></i>
                            <select name="lead_type" style="width: 100%; height: 40px; padding-left: 12px; font-size: 14px; border-radius: 0; -webkit-appearance: none; -webkit-border-radius: 0px;"><option value="buyer">I'm interested in buying a home</option><option value="seller">I'm interested in selling a home</option><option value="seller/buyer">I'm interested in buying and selling</option><option value="tenant">I'm interested in finding a home to rent</option><option value="recruit">I'm interested in a real estate career</option><option value="n/a">Other reason to contact an agent</option></select></div>
                    </div>
                    <div class="row margin-bottom-0">
                        <div class="col-sm-12" style="margin-bottom: 20px;">
                            <textarea name="contact1_message" id="contact1_message" class="form-control contact_message" rows="3" placeholder="Your Message"></textarea></div>
                    </div>
                    <div class="text-right">
                        <input type="text" id="contact1_robot_field" name="contact1_robot_field" style="display: none;"><button type="submit" class="btn btn-primary squared" data-selector="a.btn, button.btn, button" style="outline: none; cursor: inherit;">Send Us A Message</button>
                    </div>
                <div id="honeypot-div">
                            <input name="age_required" id="age_required" value="" type="text" style="display: none;"></div></form>
            </div>
            
            <div class="col-md-2 col-md-offset-1">
                <img class="ftr-logo" src="../../images.brivityidx.com/assets/images/uploads/100590/team-logo-green.html" alt="Buy and Sell Homes Real Estate" data-selector="img" style="border-style: none; outline: none; cursor: inherit;"><h3 class="text-left margin-top-40" data-selector="h1, h2, h3, h4, h5, h6" style="outline: none; cursor: inherit;">Reach Out</h3>
                <div class="text-left" style="outline: medium none; cursor: inherit;">
                    <ul style="list-style-type: none; outline: none; cursor: inherit;"><li data-selector="li" style="outline: none; cursor: inherit;">
                            <span class="agent_address_dynamic dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading">37915 Heather Place</span>
                            <br><span class="agent_city_dynamic dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading">Dade City</span>, <span class="agent_state_dynamic dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading">FL</span> <span class="agent_zip_dynamic dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading">33525</span>
                        </li>
                        <li data-selector="li" style="outline: none; cursor: inherit;">
                            <a class="agent_phone_dynamic dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading" href="tel:3524375673" src="tel:" style="outline: none; cursor: inherit;">(352) 437-5673</a>
                        </li>
                    </ul></div>
            </div>
        </div>
        
        <div class="row ftr-anchor">
            <div class="col-sm-6 anchor-col no-padding editContent" style="outline: none; cursor: inherit;" data-selector=".editContent">
                <p class="no-margin" style="outline: none; cursor: inherit;" data-selector="p"><span class="get_this_year">2022</span>  <b>Vitis Realty</b></p>
                <p style="margin: 10px 0px; outline: none; cursor: inherit;" data-selector="p"> 
                    <img src="../../images.brivityidx.com/assets/images/uploads/1428/Equal-Housing-Realtor_gray50.html" alt="Equal Housing | Realtor" style="width: 50px; outline: none; cursor: inherit;" data-selector="img">         </p>
            </div>
            <div class="col-sm-6 anchor-col no-padding">
                <ul class="list-inline social" style="outline: none; cursor: inherit;"><li data-selector="li" style="outline: none; cursor: inherit;">
                        <a class="agent_facebook_dynamic dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading" href="https://www.facebook.com/vitisrealty" target="_blank" style="outline: none; cursor: inherit;">
                            <svg viewbox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg></a>
                    </li>
                
                    <li data-selector="li" style="outline: none; cursor: inherit;">
                        <a class="agent_twitter_dynamic dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading" href="https://twitter.com/vitisrealty" target="_blank" style="outline: none; cursor: inherit;">
                           <svg viewbox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg></a>
                    </li>
                
                    <li data-selector="li" style="outline: none; cursor: inherit;">
                        <a class="agent_linkedin_dynamic dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading" href="https://www.linkedin.com/company/vitis-realty" target="_blank" style="outline: none; cursor: inherit;">
                            <svg viewbox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg></a>
                    </li>
                    <li data-selector="li" style="outline: none; cursor: inherit;">
                        <a class="agent_instagram_dynamic dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading" href="https://www.instagram.com/vitisrealty" target="_blank" style="outline: none; cursor: inherit;">
                            <svg viewbox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.5" y2="6.5"></line></svg></a>
                    </li>
                   
                    <li data-selector="li" style="outline: none; cursor: inherit;">
                        <a class="agent_youtube_dynamic dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading" href="https://www.youtube.com/user/BrivityInfo" target="_blank" style="outline: none; cursor: inherit;">
                          </a>
                    </li>
                     <li data-selector="li" style="outline: none; cursor: inherit;">
                        <a class="agent_pinterest_dynamic dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading" href="https://www.pinterest.com/brivityv/" target="_blank" style="outline: none; cursor: inherit;"></a>
                    </li>
                    
                </ul></div>
        </div>
    </div>
</footer>
        </div>
        <!-- /#page -->

        <!-- SEO Footer Anchor -->
        <section id="seo-anchor">
            <div class="container">
                <ul class="powered-by">
                    <li>Powered by <a class="pb-vendor" href="http://www.brivity.com/"> Brivity</a></li>
                    <li class="pb-admin-login"><a href="https://sitebuilder.brivity.com/signon"><span class='pb-admin-login-text'>Admin Log In</span></a></li>
                </ul>

                <ul class="seo-anchor-links">
                    <li><a href="../privacy_policy.html">Privacy Policy</a></li>
                    <li><a href="../tos.html">DMCA &amp; Terms of Service</a></li>
                    <li><a id="sitemapUrl" href="#" style="display: none;">Sitemap</a></li>
                    <!---show_seo_is_present <li><a href="/sitemap/newest-listings">Listings for Sale</a></li> show_seo_is_present-->
                </ul>

            </div>
        </section>

        <!--    ask for change password modal form-->
        <div class="modal fade" id="asking-password-modal" tabindex="-1" role="dialog">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-body text-center">
                        <h2 class="margin-bottom-20">Send Me a Recovery Email</h2>
                        <div id="get-token-success-msg" class="alert alert-success hide">
                            <strong>Success!</strong> <span>Email sent.</span>
                        </div>

                        <div class="alert alert-danger hide">
                            <strong>Error!</strong> <span>Error sending email.</span>
                        </div>
                        <div class="row margin-bottom-0">
                            <div class="col-md-8 col-md-offset-2">
                                <div class="form-group">
                                    <input type="email" id="asking_password" class="form-control" placeholder="Your Email Address">
                                </div>
                            </div>
                        </div>
                        <div class="flex jc-center">
                            <button id="get-email-token" class="btn btn-primary"><div class="flex ai-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>Send me an email</div></button>
                            <a id="cancel-ask-token" data-dismiss="modal" class="btn btn-default"><div class="flex ai-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>Cancel</div></a>
                        </div>

                        <div class="flex jc-center">
                            <a id="back-to-sign-up"><h5>Back to Sign up</h5></a>
                        </div>

                    </div>
                </div>
            </div>
        </div>

        <!--    change password modal form-->
        <div class="modal fade" id="change-password-modal" tabindex="-1" role="dialog">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-body text-center">
                        <h2 class="margin-bottom-20">Change Password</h2>

                        <div id="pwchange-success" class="alert alert-success hide">
                            <strong>Success!</strong> <span>Password changed.</span>
                        </div>

                        <div id="pwchange-error" class="alert alert-danger hide">
                            <strong>Error!</strong> <span>Error on changing password.</span>
                        </div>

                        <div class="row margin-bottom-0">
                            <div class="col-md-8 col-md-offset-2">
                                <div class="form-group">
                                    <input type="password" id="user_npassword" class="form-control" placeholder="New password">
                                </div>
                            </div>
                            <div class="col-md-8 col-md-offset-2">
                                <div class="form-group">
                                    <input type="password" id="user_npassword_c" class="form-control" placeholder="Repeat passwords">
                                </div>
                            </div>
                        </div>
                        <div class="flex jc-center">
                            <button id="changePassword" class="btn btn-primary"><div class="flex ai-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg> Change Password<div></button>
                            <a data-dismiss="modal" class="btn btn-default"><div class="flex ai-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg> Cancel</div></a>
                        </div>
                        <div class="flex jc-center">
                            <a href="#" id="go-to-login">
                                <h5>Back to login</h5>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- facebook login modal -->
        <div class="modal fade" id="facebook-login-modal" tabindex="-1" role="dialog">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-body text-center">
                        <h2 class="margin-bottom-20">Confirm Your Account</h2>
                        <div class="row margin-bottom-0">
                            <div class="col-md-8 col-md-offset-2">
                                <p>Search and view Exclusive Property Listings.</p>
                            </div>
                        </div>
                        <div class="flex jc-center">
                        <button class=" btn frc-btn-facebook" onclick="fbLogin()" scope="public_profile,email" onlogin="checkLoginState();">
                            <div class="flex ai-center">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/>
                                </svg>
                                <span>Continue with Facebook</span>
                            </div>
                        </button>
                        </div>
                        <div class="flex jc-center">
                            <p>We'll never post to your social networks</p>
                        </div>
                        
                    </div>
                </div>
            </div>
        </div>

        <!-- Sign Up Modal -->
        <div class="modal fade" id="sign-up-modal" tabindex="-1" role="dialog">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-body text-center">
                        <div class="tab-content">
                            <div role="tabpanel" class="tab-pane fade in active" id="create">
                                <form id="signupForm" action="#">
                                    <h2>Sign Up for a Free Account</h2>
                                    <p>When you sign up for an account, you can save properties, receive new listing notifications,
                                        view property comparables, and sign up to receive monthly market reports.</p>
                                    <input type="text" id="sgnf_h_robot_field" name="sgnf_h_robot_field" style="display: none;">
                                    <div class="row margin-bottom-0">
                                        <div class="col-md-8 col-md-offset-2">
                                            <div class="form-group">
                                                <input type="text" id="signup_fname" class="form-control" required pattern="\b\w+\b(?:.*?\b\w+\b){1}" oninvalid="setCustomValidity('Please enter First and Last Name')"
                                                    onchange="try{setCustomValidity('')}catch(e){}" placeholder="Full Name">
                                            </div>
                                            <div class="form-group">
                                                <input type="email" id="signup_email" class="form-control" required="" placeholder="Your Email Address">
                                            </div>
                                            <div class="form-group">
                                                <input type="tel" id="signup_phone" class="form-control" required placeholder="Your Phone Number (Used as password)">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="flex jc-center">
                                        <button type="submit" id="signupBtn" class="btn btn-primary"><div class="flex ai-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg> Create <span class="hidden-xs hidden-sm">My Free Account</span></div></button>

                                        <a id="signupCancelBtn" class="btn btn-default" data-dismiss="modal"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg> Cancel</a>
                                    </div>
                                    <a href="#signin" aria-controls="signin" role="tab" data-toggle="tab">
                                        <h5>Already Have an Account?</h5>
                                    </a>
                                </form>
                                <div class="flex jc-center">
                                    <button class=" btn frc-btn-facebook" onclick="fbLogin()" scope="public_profile,email" onlogin="checkLoginState();">
                                        <div class="flex ai-center">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/>
                                            </svg>
                                            <span>Facebook</span>
                                        </div>
                                    </button>

                                    <button class="btn frc-btn-google google-signin-btn" onlogin="checkLoginState();">
                                    <div class="flex ai-center">
                                        <svg version="1.1" id="Layer_1" style="width: 20px; height: 20px; fill: #fff;" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve">
                                            <g>
                                                <g>
                                                    <path d="M507.527,208.179c-0.908-4.782-5.088-8.242-9.955-8.242H261.404c-5.596,0-10.132,4.536-10.132,10.132v97.266
                                                        c0,5.596,4.536,10.132,10.132,10.132h115.967c-11.752,23.149-30.065,42.7-52.671,55.958c-20.729,12.168-44.485,18.599-68.7,18.599
                                                        c-56.417,0-107.615-35.479-127.404-88.296c-5.72-15.213-8.62-31.271-8.62-47.729c0-15.134,2.471-30.009,7.34-44.206
                                                        c18.871-54.919,70.586-91.818,128.685-91.818c25.528,0,50.398,7.11,71.916,20.561c3.684,2.303,8.427,2.001,11.788-0.752
                                                        l79.65-65.209c2.341-1.917,3.703-4.78,3.714-7.804c0.011-3.026-1.332-5.897-3.66-7.83C373.632,20.933,315.599,0,256,0
                                                        C114.841,0,0,114.841,0,256c0,42.345,10.552,84.299,30.516,121.326C75.307,460.396,161.708,512,256,512
                                                        c59.004,0,116.586-20.556,162.139-57.879c44.922-36.807,76.269-88.19,88.261-144.677c3.715-17.449,5.6-35.431,5.6-53.445
                                                        C512,239.906,510.495,223.817,507.527,208.179z M256,20.264c50.746,0,100.257,16.477,140.753,46.628l-64.4,52.724
                                                        c-23.24-13.043-49.482-19.904-76.353-19.904c-61.934,0-117.53,36.511-142.555,92.184l-62.849-51.454
                                                        C91.079,68.767,167.977,20.264,256,20.264z M20.264,256c0-34.585,7.488-67.453,20.924-97.071l64.819,53.067
                                                        c-4.173,14.251-6.295,29.018-6.295,44.004c0,16.43,2.525,32.523,7.502,47.94l-64.412,52.727
                                                        C28.041,325.39,20.264,290.848,20.264,256z M256,491.736c-84.05,0-161.291-44.532-203.565-116.768l62.675-51.305
                                                        c11.504,23.986,28.887,44.597,50.889,60.122c26.427,18.647,57.549,28.504,90,28.504c25.424,0,50.411-6.197,72.719-17.94
                                                        l64.854,53.093C353.689,476.097,305.388,491.736,256,491.736z M486.581,305.23c-10.63,50.067-37.787,95.775-76.714,129.362
                                                        l-62.917-51.508c25.118-18.016,44.552-43.208,55.414-72.195c1.166-3.111,0.732-6.597-1.16-9.327
                                                        c-1.893-2.73-5.005-4.359-8.327-4.359H271.536v-77.003h217.493c1.798,11.78,2.707,23.786,2.707,35.799
                                                        C491.736,272.599,490.002,289.161,486.581,305.23z"></path>
                                                </g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                        </svg>
                                        Google
                                    </div>
                                </button>
                                </div>
                                <div class="opt-out"> By digitally signing this form you are providing <span class="agent_name_dynamic"></span> with your express written consent to send you business and marketing communications via text messages (SMS), email, and by calls or prerecorded messages dialed by a natural person or by an automatic or automated telephone dialing system. This express written consent applies to each such email address or telephone number that you provide to us now or in the future and permits such communications regardless of their purpose.</div>
                                <div class="opt-out-href">
                                    <a href="../privacy_policy.html">Privacy Policy</a>
                                    |
                                    <a href="../tos.html">Terms & Conditions</a>
                                </div>
                            </div>
                            <div role="tabpanel" class="tab-pane fade" id="signin">
                                <h2 class="margin-bottom-20">Login to Your Account</h2>
                                <div class="row margin-bottom-0">
                                    <div class="col-md-8 col-md-offset-2">
                                        <div class="form-group">
                                            <input type="email" id="search_username" class="form-control" placeholder="Your Email Address">
                                        </div>
                                        <div class="form-group">
                                            <input type="password" id="search_password" class="form-control" required="" placeholder="Your Password">
                                        </div>
                                    </div>
                                </div>
                                <div class="flex jc-center">
                                    <span id="loginErrorMessage" class="alert alert-warning" style="display: none;"></span>
                                </div>
                                <div class="flex jc-center">
                                    <button id="loginBtn" class="btn btn-primary"><div class="flex ai-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-log-in"><path d="M14 22h5a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-5"></path><polyline points="11 16 15 12 11 8"></polyline><line x1="15" y1="12" x2="3" y2="12"></line></svg> Login <span class="hidden-xs hidden-sm">to My Account</span></div></button>
                                    <a id="loginCancelBtn" class="btn btn-default" data-dismiss="modal">
                                        <div class="flex ai-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg> Cancel</div>
                                    </a>
                                </div>
                                <div class="flex jc-center ai-center">
                                    <button class=" btn frc-btn-facebook" onclick="fbLogin()" scope="public_profile,email" onlogin="checkLoginState();">
                                        <div class="flex ai-center">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/>
                                            </svg>
                                            <span>Facebook</span>
                                        </div>
                                    </button>

                                    <button class="btn frc-btn-google google-signin-btn" onlogin="checkLoginState();">
                                    <div class="flex ai-center">
                                        <svg version="1.1" id="Layer_1" style="width: 20px; height: 20px; fill: #fff;" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve">
                                            <g>
                                                <g>
                                                    <path d="M507.527,208.179c-0.908-4.782-5.088-8.242-9.955-8.242H261.404c-5.596,0-10.132,4.536-10.132,10.132v97.266
                                                        c0,5.596,4.536,10.132,10.132,10.132h115.967c-11.752,23.149-30.065,42.7-52.671,55.958c-20.729,12.168-44.485,18.599-68.7,18.599
                                                        c-56.417,0-107.615-35.479-127.404-88.296c-5.72-15.213-8.62-31.271-8.62-47.729c0-15.134,2.471-30.009,7.34-44.206
                                                        c18.871-54.919,70.586-91.818,128.685-91.818c25.528,0,50.398,7.11,71.916,20.561c3.684,2.303,8.427,2.001,11.788-0.752
                                                        l79.65-65.209c2.341-1.917,3.703-4.78,3.714-7.804c0.011-3.026-1.332-5.897-3.66-7.83C373.632,20.933,315.599,0,256,0
                                                        C114.841,0,0,114.841,0,256c0,42.345,10.552,84.299,30.516,121.326C75.307,460.396,161.708,512,256,512
                                                        c59.004,0,116.586-20.556,162.139-57.879c44.922-36.807,76.269-88.19,88.261-144.677c3.715-17.449,5.6-35.431,5.6-53.445
                                                        C512,239.906,510.495,223.817,507.527,208.179z M256,20.264c50.746,0,100.257,16.477,140.753,46.628l-64.4,52.724
                                                        c-23.24-13.043-49.482-19.904-76.353-19.904c-61.934,0-117.53,36.511-142.555,92.184l-62.849-51.454
                                                        C91.079,68.767,167.977,20.264,256,20.264z M20.264,256c0-34.585,7.488-67.453,20.924-97.071l64.819,53.067
                                                        c-4.173,14.251-6.295,29.018-6.295,44.004c0,16.43,2.525,32.523,7.502,47.94l-64.412,52.727
                                                        C28.041,325.39,20.264,290.848,20.264,256z M256,491.736c-84.05,0-161.291-44.532-203.565-116.768l62.675-51.305
                                                        c11.504,23.986,28.887,44.597,50.889,60.122c26.427,18.647,57.549,28.504,90,28.504c25.424,0,50.411-6.197,72.719-17.94
                                                        l64.854,53.093C353.689,476.097,305.388,491.736,256,491.736z M486.581,305.23c-10.63,50.067-37.787,95.775-76.714,129.362
                                                        l-62.917-51.508c25.118-18.016,44.552-43.208,55.414-72.195c1.166-3.111,0.732-6.597-1.16-9.327
                                                        c-1.893-2.73-5.005-4.359-8.327-4.359H271.536v-77.003h217.493c1.798,11.78,2.707,23.786,2.707,35.799
                                                        C491.736,272.599,490.002,289.161,486.581,305.23z"></path>
                                                </g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                        </svg>
                                        Google
                                    </div>
                                </button>
                                </div>

                                <div class="row">
                                    <div class="col-sm-6">
                                        <a href="#create" aria-controls="create" role="tab" data-toggle="tab">
                                            <h5>Don't Have an Account?</h5>
                                        </a>
                                    </div>
                                    <div class="col-sm-6">
                                        <a href="#" id="open-forgot-pass">
                                            <h5>Forgot your password?</h5>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- sign up questions -->
        <div class="popupOverlay"></div>
        <div class="popupCTA">
            <div class="closeCTA">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
            </div>
            <div class="popupBody">
                <iframe id="signup-question-iframe" style="display:none" src="#" frameborder="0"></iframe>
                <div class="followUp message">
                    <img class="messageIcon" src="../../cdn1.brivityidx.com/assets/images/house1.png" alt="home">
                    <h3 class="popupHeadline">Are you buying or selling a home?</h3>
                    <div class="circleBtns">
                        <div class="circleBtnWrapper followUpBtns">
                            <div class="circleBtn" onclick="signupQuestionNext('buy','Buying')" id="buying">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-check"><polyline points="20 6 9 17 4 12"></polyline></svg>
                            </div>
                            <span class="circleBtnLabel">Buying</span>
                        </div>

                        <div class="circleBtnWrapper followUpBtns">
                            <div class="circleBtn" onclick="signupQuestionNext('sell','Selling')" id="selling">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-check"><polyline points="20 6 9 17 4 12"></polyline></svg>
                            </div>
                            <span class="circleBtnLabel">Selling</span>
                        </div>

                        <div class="circleBtnWrapper followUpBtns">
                            <div class="circleBtn" onclick="signupQuestionNext('both','Both')" id="both">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-check"><polyline points="20 6 9 17 4 12"></polyline></svg>
                            </div>
                            <span class="circleBtnLabel">Both</span>
                        </div>
                    </div>
                </div>
                <!-- BUYING ROUTE -->
                <!-- Timeline Q1 -->
                <div class="buyTimeline message">
                    <img class="messageIcon" src="../../cdn1.brivityidx.com/assets/images/search.png" alt="home">
                    <h3 class="popupHeadline">When are you planning on buying a new home?</h3>
                    <div class="circleBtns">
                        <div class="circleBtnWrapper followUpBtns">
                            <div class="circleBtn" onclick="signupQuestionNext('','1-3 months')" id="threeMoBuy">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-check"><polyline points="20 6 9 17 4 12"></polyline></svg>
                            </div>
                            <span class="circleBtnLabel">1-3 Mo</span>
                        </div>

                        <div class="circleBtnWrapper followUpBtns">
                            <div class="circleBtn" onclick="signupQuestionNext('','3-6 months')" id="sixMoBuy">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-check"><polyline points="20 6 9 17 4 12"></polyline></svg>
                            </div>
                            <span class="circleBtnLabel">3-6 Mo</span>
                        </div>

                        <div class="circleBtnWrapper followUpBtns">
                            <div class="circleBtn" onclick="signupQuestionNext('','6+ months')" id="overSixMoBuy">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-check"><polyline points="20 6 9 17 4 12"></polyline></svg>
                            </div>
                            <span class="circleBtnLabel">6+ Mo</span>
                        </div>
                    </div> <!-- .circleBtns / -->
                    <a onclick="signupQuestionBack()" class="backBtn">Back</a>
                </div>

                <!-- Mortgage Q2 -->
                <div class="mortgage message">
                    <img class="messageIcon" src="../../cdn1.brivityidx.com/assets/images/contract.png" alt="home">
                    <h3 class="popupHeadline">Are you pre-approved for a mortgage?</h3>
                    <div class="circleBtns">
                        <div class="circleBtnWrapper followUpBtns">
                            <div class="circleBtn" onclick="signupQuestionNext('','Yes')" id="mortgageYes">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-check"><polyline points="20 6 9 17 4 12"></polyline></svg>
                            </div>
                            <span class="circleBtnLabel">Yes</span>
                        </div>

                        <div class="circleBtnWrapper followUpBtns">
                            <div class="circleBtn" onclick="signupQuestionNext('','No')" id="mortgageNo">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                            </div>
                            <span class="circleBtnLabel">No</span>
                        </div>

                        <div class="circleBtnWrapper followUpBtns">
                            <div class="circleBtn" onclick="signupQuestionNext('','Using Cash')" id="cash">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-dollar-sign"><line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path></svg>
                            </div>
                            <span class="circleBtnLabel">Using Cash</span>
                        </div>
                    </div> <!-- .circleBtns / -->
                    <a onclick="signupQuestionBack()" class="backBtn">Back</a>
                </div>

                <!-- Consult Q3 -->
                <div class="consult message" id="consult">
                    <img class="messageIcon" src="../../cdn1.brivityidx.com/assets/images/house3.png" alt="home">
                    <h3 class="popupHeadline">Would you like to schedule a consultation now?</h3>
                    <div class="circleBtns">
                        <div class="circleBtnWrapper followUpBtns">
                            <div class="circleBtn" onclick="signupQuestionNext('','Yes')" id="consultYes">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-check"><polyline points="20 6 9 17 4 12"></polyline></svg>
                            </div>
                            <span class="circleBtnLabel">Yes</span>
                        </div>

                        <div class="circleBtnWrapper followUpBtns">
                            <div class="circleBtn" onclick="signupQuestionsSet('No')" id="consultNo">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                            </div>
                            <span class="circleBtnLabel">No</span>
                        </div>
                    </div> <!-- .circleBtns / -->
                    <a onclick="signupQuestionBack()" class="backBtn">Back</a>
                </div>

                <!-- Schedule Consult Q4 -->
                <div class="scheduleConsult message">
                    <h3 class="popupHeadline">When would you like us to call?</h3>
                    <textarea id="signupQuestionConsultTimes" placeholder="What times work for you?"></textarea>
                    <div class="followUpBtns">
                        <button id="consultYesBtn">Submit</button>
                    </div>
                </div>

                <!-- Confirm Q5 -->
                <div class="confirmConsult message">
                    <h3 class="popupHeadline">Thanks! Well give you a call as soon as possible.</h3>
                    <div class="followUpBtns">
                        <button id="finishCTA">Done</button>
                    </div>
                </div>

                <!-- SELLING ROUTE -->
                <!-- Sell Timeline Q1 -->
                <div class="sellTimeline message" id="sellTimeline">
                    <img class="messageIcon" src="../../cdn1.brivityidx.com/assets/images/search.png" alt="home">
                    <h3 class="popupHeadline">When are you planning on selling your home?</h3>
                    <div class="circleBtns">
                        <div class="circleBtnWrapper followUpBtns">
                            <div class="circleBtn" onclick="signupQuestionNext('','1-3 months')" id="threeMoSell">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-check"><polyline points="20 6 9 17 4 12"></polyline></svg>
                            </div>
                            <span class="circleBtnLabel">1-3 Mo</span>
                        </div>

                        <div class="circleBtnWrapper followUpBtns">
                            <div class="circleBtn" onclick="signupQuestionNext('','3-6 months')" id="sixMoSell">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-check"><polyline points="20 6 9 17 4 12"></polyline></svg>
                            </div>
                            <span class="circleBtnLabel">3-6 Mo</span>
                        </div>

                        <div class="circleBtnWrapper followUpBtns">
                            <div class="circleBtn" onclick="signupQuestionNext('','6+ months')" id="overSixMoSell">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-check"><polyline points="20 6 9 17 4 12"></polyline></svg>
                            </div>
                            <span class="circleBtnLabel">6+ Mo</span>
                        </div>
                    </div> <!-- .circleBtns / -->
                    <a onclick="signupQuestionBack()" class="backBtn">Back</a>
                </div>

                <!-- Sell Timeline Q2 -->
                <div class="consultOrValue message">
                    <h3 class="popupHeadline">Would you like to schedule a consultation or see your home value?</h3>
                    <div class="circleBtns">
                        <div class="circleBtnWrapper followUpBtns">
                            <div class="circleBtn" onclick="signupQuestionNext('','Yes')" id="sellConsultYes">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-check"><polyline points="20 6 9 17 4 12"></polyline></svg>
                            </div>
                            <span class="circleBtnLabel">Schedule Consultation</span>
                        </div>

                        <div class="circleBtnWrapper followUpBtns">
                            <div class="circleBtn" onclick="signupQuestionHomeValue()" id="seeHomeValue">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-home"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
                            </div>
                            <span class="circleBtnLabel">My Home Value</span>
                        </div>
                    </div> <!-- .circleBtns / -->
                    <a onclick="signupQuestionBack()" class="backBtn">Back</a>
                </div>
            </div> <!-- /.popupBody -->
        </div>
        <!-- end signup questions -->

        <!-- home value modal -->
        <div class="modal fade" id="modal_subject_home" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="myModalLabel">Please confirm your property details:</h4>
              </div>
              <div class="modal-body">
                <div class="row">
                  <div class="col-sm-9">
                    <h2 id="home_address"></h2>
                  </div>
                </div>
                  <form id="subjectHomeForm" class="form-horizontal" data-toggle="validator" onsubmit="return false;">
                    <input type="hidden" name="latitude"  value="" id="CmaLatitude" />
                    <input type="hidden" name="longitude" value="" id="CmaLongitude" />
                    <input type="hidden" name="street" value="" id="street">
                    <input type="hidden" name="address"   value=""  id="address" />
                    <input type="hidden" name="address_auto" value="" id="address_auto" />
                    <input type="hidden" name="state"     value="" id="state" />
                    <input type="hidden" name="zipcode"   value="" id="zipcode" />
                    <input type="hidden" name="city"      value="" id="city" />
                    <input type="hidden" name="county"      value="" id="county" />
                    <div class="form-group">
                      <div class="col-sm-12 col-md-12 hv_search_address_container">
                        <label for="year">Address:</label>
                        <input type="text" id="search_address_modal" name="search_address_modal" autocomplete="off" value="" placeholder="Address, City and Zip Code" class="form-control">
                      </div>
                      <div class="col-md-6">
                          <label for="property_type">Property Type:</label>
                          <select id="property_type" name="property_type" class="form-control">
                            <option value="2">Residential</option>
                            <option value="1">Commercial</option>
                            <option value="3">Vacant</option>
                          </select>
                      </div>
                      <div class="col-md-6">
                        <label for="search_area">Search Area:</label>
                        <select id="search_area" name="search_area" class="form-control">
                            <option value="0.5">0.5 m</option>
                            <option value="1">1 m</option>
                            <option value="1.5">1.5 m</option>
                            <option value="2">2 m</option>
                        </select>
                      </div>
                    </div>
                    <div class="form-group">
                      <div class="col-sm-3">
                        <label for="year">Year:</label>
                        <input type="text" id="year" name="year" value="" placeholder="Year Built" class="form-control">
                      </div>
                      <div class=" col-sm-3" id="acreage_sec">
                        <label for="acreage">Acreage:</label>
                        <input type="text" id="acreage" name="acreage" value="" placeholder="Acreage" class="form-control">
                      </div>
                      <div class=" col-sm-3">
                        <label for="sq_feet">SQFT:</label>
                        <input type="text" id="sq_feet" name="sq_feet" value="" placeholder="Sq Feet" class="form-control">
                      </div>
                    </div>
                    <div class="form-group">
                      <div class=" col-sm-3">
                        <label for="beds">Beds:</label>
                        <input type="text" id="beds" name="beds" value="" placeholder="Beds" class="form-control">
                      </div>
                      <div class=" col-sm-3">
                        <label for="bath_full">Bathrooms:</label>
                        <input type="text" id="bath_full" name="bath_full" value="" placeholder="Baths" class="form-control">
                      </div>
                      <div class=" col-sm-3">
                        <label for="garage_cap">Garage:</label>
                        <input type="text" id="garage_cap" name="garage_cap" value="" placeholder="Garage" class="form-control">
                      </div>
                    </div>
                    <div class="form-group">
                      <div class="col-sm-12">
                        <button type="submit" id="submit_homeform" class="btn btn-primary btn-lg btn-block">Find out home value</button>
                      </div>
                    </div>
                  </form>
              </div>
              <div class="modal-footer">
              </div>
             </div>
          </div>
        </div>

        <!-- end home value modal -->

        <!-- Phone Confirm Modal -->
        <div class="modal fade" id="phone-confirm-modal" tabindex="-1" role="dialog">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-body text-center">
                        <div class="tab-content">
                            <div role="tabpanel" class="tab-pane fade in active" id="phoneConfirm">
                                <form id="phoneConfirmForm" action="#" onsubmit="return false;">
                                    <h2 class="margin-bottom-20">Confirm Password</h2>
                                    <p>Confirm your password by entering your phone number.</p>
                                    <div class="row margin-bottom-0">
                                        <div class="col-md-8 col-md-offset-2">
                                            <div class="form-group">
                                                <input type="tel" id="confirm_phone" class="form-control" required="" placeholder="Your Phone Number (Used as password)">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="flex jc-center">
                                        <button id="confirmPhoneBtn" class="btn btn-primary">
                                            <div class="flex ai-center">
                                              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                                                <path d="M14 22h5a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-5" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/>
                                                <polyline points="11 16 15 12 11 8" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/>
                                                <line x1="15" y1="12" x2="3" y2="12" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/>
                                              </svg> <span>Confirm Phone</span>
                                            </div>
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quick Search's results not found modal -->
        <div class="modal fade" id="not-found-modal" tabindex="-1" role="dialog">
          <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
              <div class="modal-header">Sorry, we couldnt find '<span id="search_value"></span>' <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true"></span><span class="sr-only">Close</span></button></div>
              <div class="modal-body">
                <p>Please check the spelling, try clearing the search box, or try reformatting to match these examples:</p>
                <p>
                  <b>Address:</b> '123 Main St, Anytown'<br>
                  <b>Neighborhood:</b> 'Downtown'<br>
                  <b>Zip:</b> '98115'<br>
                  <b>City:</b> 'Anytown' or 'Anytown, State/Province'<br>
                  <b>MLS number:</b> 'MLS# 38065544'<br>
                </p>
              </div>
              <div class="modal-footer">
                <span style="float: left; margin-right: 10px;"><svg class="SvgIcon rfSvg info" style="fill: rgb(12, 130, 165); height: 18px; width: 18px;"><svg viewBox="0 0 24 24"><path d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10S2 17.514 2 12 6.486 2 12 2m0-2C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm1 16v-5.75a.25.25 0 0 0-.25-.25h-2.5a.25.25 0 0 0-.25.25V12h1v4h-1v1.75c0 .138.112.25.25.25h3.5a.25.25 0 0 0 .25-.25V16h-1zm-.25-8h-1.5a.25.25 0 0 1-.25-.25v-1.5a.25.25 0 0 1 .25-.25h1.5a.25.25 0 0 1 .25.25v1.5a.25.25 0 0 1-.25.25z" fill-rule="evenodd"></path></svg></svg></span>
                Don't see what you're looking for? Your search might be outside our <a href="../city.html">service areas.</a></div> or could be off market.
            </div>
          </div>
        </div>

        <!-- Quick Search's 'did you mean' modal -->
        <div class="modal fade" id="did-you-mean-modal" tabindex="-1" role="dialog">
          <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
              <div class="modal-header">Did You Mean <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true"></span><span class="sr-only">Close</span></button></div>
              <div class="modal-body">
              </div>
              <div class="modal-footer" style="display: flex">
                <span style="float: left; margin-right: 10px;"><svg class="SvgIcon rfSvg info" style="fill: rgb(12, 130, 165); height: 18px; width: 18px;"><svg viewBox="0 0 24 24"><path d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10S2 17.514 2 12 6.486 2 12 2m0-2C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm1 16v-5.75a.25.25 0 0 0-.25-.25h-2.5a.25.25 0 0 0-.25.25V12h1v4h-1v1.75c0 .138.112.25.25.25h3.5a.25.25 0 0 0 .25-.25V16h-1zm-.25-8h-1.5a.25.25 0 0 1-.25-.25v-1.5a.25.25 0 0 1 .25-.25h1.5a.25.25 0 0 1 .25.25v1.5a.25.25 0 0 1-.25.25z" fill-rule="evenodd"></path></svg></svg></span>
                <div>
                    Don't see what you're looking for? Your search might be outside our <a href="../city.html">service areas</a> or could be off the market.</div>
                </div>
            </div>
          </div>
        </div>

        
        <!-- Google one tap container -->
        <div id="credential_picker_container_centered">
            <div id="credential_picker_header_bar">
            <p><a onclick="showSignupModal();">Sign up</a> or <a onclick="showLoginModal();">Login</a> another way</p>
            </div>
            <div id="credential_picker_header_bar_separator"></div>
        </div>

        <!-- Load JS here for greater good =============================-->
        <script type="text/javascript" src="../../www.google.com/recaptcha/apie16d.js?render=6LfNOsoUAAAAAKTst6hjCdK0tmeiA4GVzqBjwScC"></script>
        
        
        <script src="https://accounts.google.com/gsi/client" async defer></script>
        <script src="https://maps.googleapis.com/maps/api/js?libraries=geometry,places,drawing&amp;key=AIzaSyD8bZKOWgjz86nY7BHDH1_4v8i8UweYE6k"></script>
        <script src="../../cdn1.brivityidx.com/assets/js/build.min22a7.js?ck="></script>
        <script src="../../cdn1.brivityidx.com/assets/js/top_bar_v2.min22a7.js?ck="></script>
    <script type="text/javascript" src="../../cdn1.brivityidx.com/assets/js/jquery.geocomplete.min.js"></script><script type="text/javascript" src="../../cdnjs.cloudflare.com/ajax/libs/jquery.bootstrapvalidator/0.5.3/js/bootstrapValidator.min.js"></script><script type="text/javascript" src="../../cdn1.brivityidx.com/assets/js/menu2.js"></script><script type="text/javascript" src="../../cdn1.brivityidx.com/assets/js/member_area_components.js"></script><script type="text/javascript" src="https://cdn1.brivityidx.com/assets/"></script><script type="text/javascript" src="../../mobile-component-services-library-dev.s3.amazonaws.com/web-components.mincdfe.js?ck=1"></script><script type="text/javascript" src="../../mobile-component-services-library.s3.amazonaws.com/collections_service.mincdfe.js?ck=1"></script><script type="text/javascript" src="../../mobile-component-services-library.s3.amazonaws.com/messaging_service.mincdfe.js?ck=1"></script><script type="text/javascript" src="../../cdn1.brivityidx.com/assets/js/update_agent_info.min.js"></script>
<script src="../../mobile-component-services-library-dev.s3.amazonaws.com/web-components.mincdfe.js?ck=1"></script>
<script src="../../mobile-component-services-library.s3.amazonaws.com/collections_service.mincdfe.js?ck=1"></script>
<script src="../../mobile-component-services-library.s3.amazonaws.com/messaging_service.mincdfe.js?ck=1"></script>
<script>
$(document).ready(function(){
  $("ul.seo-anchor-links li:nth-of-type(4) a").attr("href", "/search");
});
</script>

<script>
$(document).ready(function() { 
$("#sitemap-listings > div.container > div > div.col-xs-12.col-md-12.col-lg-4.col-lg-push-8.seo-intro > a").attr("href", "/search")
}); 
</script><script type="text/javascript">
              /* <![CDATA[ */
              goog_snippet_vars = function() {
                var w = window;
                w.google_conversion_id = G-FE9ZPGZ2RP;
                w.google_conversion_label = "4087429668";
                w.google_remarketing_only = false;
              }
              // DO NOT CHANGE THE CODE BELOW.
              goog_report_conversion = function(url) {
                goog_snippet_vars();
                window.google_conversion_format = "3";
                var opt = new Object();
                opt.onload_callback = function() {
                if (typeof(url) != 'undefined') {
                  window.location = url;
                }
              }
              var conv_handler = window['google_trackConversion'];
              if (typeof(conv_handler) == 'function') {
                conv_handler(opt);
              }
            }
            /* ]]> */
            </script>
            <script type="text/javascript" src="../../www.googleadservices.com/pagead/f.txt">
            </script>
            <script type="text/javascript">
            /* <![CDATA[ */
            var google_conversion_id = G-FE9ZPGZ2RP;
            var google_custom_params = window.google_tag_params;
            var google_remarketing_only = true;
            /* ]]> */
            </script>
            <script type="text/javascript" src="../../www.googleadservices.com/pagead/f-2.txt">
            </script>
            <noscript>
            <div style="display:inline;">
            <img height="1" width="1" style="border-style:none;" alt="" src="http://googleads.g.doubleclick.net/pagead/viewthroughconversion/G-FE9ZPGZ2RP/?guid=ON&amp;script=0"/>
            </div>
            </noscript></body>

    
<!-- Mirrored from www.vitisrealty.com/myportal/collections by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 31 Jul 2023 02:04:28 GMT -->
</html>
