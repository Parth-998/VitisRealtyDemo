<!DOCTYPE html>
    <!DOCTYPE html>
    <html lang="en">

    
<!-- Mirrored from www.vitisrealty.com/myportal/reports by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 31 Jul 2023 02:04:29 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head><meta name="description" content="">

        <meta charset="utf-8">
        <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>MyPortal | Market Reports</title>
        <!-- meta data -->

        <!-- Loading Bootstrap -->


        <!-- meta location -->
        <!-- set favicon -->
        <link rel="shortcut icon" href="../../cdn1.brivityidx.com/assets/images/uploads/100590/Copy_of_V-CIRCLE-TEALWHITE-ON-TRANS.png" type="image/x-icon"/>

        <!--     <link href="css/color/default.css" rel="stylesheet"> -->
        <link href="../../cdn1.brivityidx.com/assets/css/build-site.min22a7.css?ck=" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Nunito:300,400,700,900" rel="stylesheet">

        <link rel="canonical" href="reports.html" />

        <!-- HTML5 shim, for IE6-8 support of HTML5 elements. All other JS at the end of file. -->
        <!--[if lt IE 9]>
            <script src="js/html5shiv.js"></script>
            <script src="js/respond.min.js"></script>
        <![endif]-->

        <!--headerIncludes-->
        <script>
            (function(b,r,a,n,c,h,_,s,d,k){if(!b[n]||!b[n]._q){for(;s<_.length;)c(h,_[s++]);d=r.createElement(a);d.async=1;d.src="../../cdn.branch.io/branch-latest.min.js";k=r.getElementsByTagName(a)[0];k.parentNode.insertBefore(d,k);b[n]=h}})(window,document,"script","branch",function(b,r){b[r]=function(){b._q.push([r,arguments])}},{_q:[],_v:1},"addListener applyCode autoAppIndex banner closeBanner closeJourney creditHistory credits data deepview deepviewCta first getCode init link logout redeem referrals removeListener sendSMS setBranchViewData setIdentity track validateCode trackCommerceEvent logEvent disableTracking".split(" "), 0);
        </script>
    <link href="../../cdn1.brivityidx.com/assets/css/style-headers.css" rel="stylesheet"><link href="../../cdn1.brivityidx.com/assets/css/style-premium.css" rel="stylesheet"><link href="../../cdn1.brivityidx.com/assets/css/style-footers.min.css" rel="stylesheet"><link href="../../cdn1.brivityidx.com/idx-sites/1/5/2/15229/site_custom.css" rel="stylesheet"><script type="text/javascript" src="../../cdn1.brivityidx.com/idx-sites/1/5/2/15229/global_js_variables.js"></script><!-- Facebook Pixel Events in case code is loaded with GTM -->
<script>
var propDetailsPixelOnReady = function(){
  let propDetFpst = new FbRealEstatePixelTracker({"eventType": "ViewContent", "content_ids": [""]});
  propDetFpst.fireEvent();
};
if (document.readyState === "complete" || (document.readyState !== "loading" && !document.documentElement.doScroll)) {
  propDetailsPixelOnReady();
} else {
  document.addEventListener("DOMContentLoaded", propDetailsPixelOnReady);
}

</script>
<!-- End Facebook Pixel Code --><!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-FE9ZPGZ2RP"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-FE9ZPGZ2RP');
</script></head>

    <body>
                <script>
                  window.fbAsyncInit = function() {
                    FB.init({
                      appId      : '268231495676379',
                      cookie     : true,
                      xfbml      : true,
                      version    : 'v2.8'
                    });
                    FB.AppEvents.logPageView();
                  };

                  (function(d, s, id){
                     var js, fjs = d.getElementsByTagName(s)[0];
                     if (d.getElementById(id)) {return;}
                     js = d.createElement(s); js.id = id;
                     js.src = "../../connect.facebook.net/en_US/sdk.js";
                     fjs.parentNode.insertBefore(js, fjs);
                   }(document, 'script', 'facebook-jssdk'));
                </script><meta property="fb:app_id" content="268231495676379" />

        <div id="site-registration-bar">
          <input type="hidden" id="huser_id" value="">
          
          <div class="row" style="width: 100%; margin: 0;">
            <div class="col-md-12" style="display: none;" id="logged-in">
              <div class="topBar flex aiCenter jcBetween">
                <div class="topBarLeft flex aiCenter">
                    <span><topbar_show_agent_name/></span>
                </div>
                <div class="topBarRight flex aiCenter">
                  <a class="topLink flex white aiCenter thin favoritesTop" href="collections.html">
                    <svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_16761_179132)">
                        <path d="M14.2659 3.57333C13.9254 3.23267 13.5211 2.96243 13.0761 2.77806C12.6312 2.59368 12.1542 2.49878 11.6726 2.49878C11.1909 2.49878 10.714 2.59368 10.269 2.77806C9.82401 2.96243 9.41973 3.23267 9.07922 3.57333L8.37256 4.28L7.66589 3.57333C6.97809 2.88554 6.04524 2.49914 5.07256 2.49914C4.09987 2.49914 3.16702 2.88554 2.47922 3.57333C1.79143 4.26113 1.40503 5.19398 1.40503 6.16667C1.40503 7.13936 1.79143 8.07221 2.47922 8.76L3.18589 9.46667L8.37256 14.6533L13.5592 9.46667L14.2659 8.76C14.6066 8.4195 14.8768 8.01521 15.0612 7.57024C15.2455 7.12526 15.3404 6.64832 15.3404 6.16667C15.3404 5.68501 15.2455 5.20807 15.0612 4.7631C14.8768 4.31812 14.6066 3.91384 14.2659 3.57333V3.57333Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </g>
                        <defs>
                        <clipPath id="clip0_16761_179132">
                        <rect width="16" height="16" fill="white" transform="translate(0.372559 0.5)"/>
                        </clipPath>
                        </defs>
                    </svg>
                    <span class="ml6 topLabel">Collections&nbsp;</span>
                    <span style="margin-left: 6px" class="hidden-par">(</span>
                    <span class="count favoritesCount">0</span>
                    <span class="hidden-par">)</span>
                  </a>
                  <a class="topLink flex white aiCenter thin saveSearchTop" href="searches.html">
                    <svg width="16" height="16" viewBox="0 4 20 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M19 21L12 16L5 21V5C5 4.46957 5.21071 3.96086 5.58579 3.58579C5.96086 3.21071 6.46957 3 7 3H17C17.5304 3 18.0391 3.21071 18.4142 3.58579C18.7893 3.96086 19 4.46957 19 5V21Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"  />
                    </svg>

                    <span class="ml6 topLabel">Saved Searches&nbsp;</span>
                    <span style="margin-left: 6px" class="hidden-par">(</span>
                    <span class="count savedSearchesCount">0</span>
                    <span class="hidden-par">)</span>

                  </a>
                  <a class="topLink flex white aiCenter thin saveSearchTop" href="reports.html">
                    <svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M7.70589 13.1667C10.6514 13.1667 13.0392 10.7789 13.0392 7.83333C13.0392 4.88781 10.6514 2.5 7.70589 2.5C4.76037 2.5 2.37256 4.88781 2.37256 7.83333C2.37256 10.7789 4.76037 13.1667 7.70589 13.1667Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M14.3725 14.5L11.4725 11.6" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>

                    <span class="ml6 topLabel">Market Reports&nbsp;</span>
                  </a>
                  <a class="aiCenter white flex topBarProfile thin" href="profile.html">
                        <span class="profileName"></span>
                    </a>
                    <a style="padding-right: 0px" class="aiCenter white flex thin" id="topBarLogout" href="javascript:void()">
                    <svg width="23" height="23" viewBox="0 0 23 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_16761_179186)">
                            <path d="M16.4003 16.214C19.0038 13.6106 19.0038 9.38945 16.4003 6.78595C13.7968 4.18246 9.57572 4.18246 6.97222 6.78595C4.36873 9.38945 4.36873 13.6105 6.97222 16.214C9.57572 18.8175 13.7968 18.8175 16.4003 16.214Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M9.80066 9.61438L13.5719 13.3856" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M9.80066 13.3856L13.5719 9.61438" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </g>
                        <defs>
                        <clipPath id="clip0_16761_179186">
                            <rect width="16" height="16" fill="white" transform="translate(0.372559 11.5) rotate(-45)"/>
                        </clipPath>
                        </defs>
                    </svg>

                        <span class="ml6">Log Out</span>
                    </a>
                </div>
              </div>
            </div>
            <div id="not-logged-in">
              <topbar_agent_info_not_logged_in/>
              <ul class="list-unstyled list-inline no-margin">
                <li class="topBarSignin"><a onclick="showGoogleOneTap(true);"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus-circle mr10"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line></svg> Sign In</a></li>
              </ul>
            </div>
          </div>

        </div>
        <input type="hidden" id="huser_email" value="" />
        <input type="hidden" id="huser_first_name" value="" />
        <input type="hidden" id="huser_last_name" value="" />

        <div id="page" class="page">
    
		<header id="premium-navigation" data-selector="#premium-navigation" style="outline: currentcolor none medium; cursor: inherit;"><div class="main-nav">
                <div class="container">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse" style="outline: none; cursor: inherit;" data-selector="a.btn, button.btn, button">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <a class="navbar-brand" href="../index.html" style="outline: currentcolor none medium; cursor: inherit;">
                            <img class="img-responsive site_custom_logo" src="../../cdn1.brivityidx.com/assets/images/uploads/100590/team-logo-light.png" alt="Realvolution" style="outline: currentcolor none medium; cursor: inherit;" data-selector="img"></a>                    
                    </div>
                    <div class="collapse navbar-collapse render-menu"><ul class="nav navbar-nav navbar-right"><li class="nav-item"><a class="sec-nav-link-color" href="../search.html">SEARCH LISTINGS</a></li><li class="nav-item"><a class="sec-nav-link-color" href="../buying.html">BUYING</a></li><li class="nav-item"><a class="sec-nav-link-color" href="../selling.html">SELLING</a></li><li class="nav-item dropdown"><a class="dropdown-toggle sec-nav-link-color" data-toggle="dropdown" data-hover="dropdown" data-delay="0" data-close-others="false" href="../top_areas.html">Area Listings<i class="fa fa-angle-down"></i></a><ul class="dropdown-menu"><li class="sec-nav-drop-color"><a class="sec-nav-drop-link-color" href="../search7cc1.html?multi_search=Dade%20City,%20FLmulti_cat=CityState&amp;propertyType=Condo/Townhome|Multi-Family|Residential&amp;status=1#?q_limit=36&amp;mlsId=28&amp;price=10000:&amp;multi_search=Dade%20City,%20FL&amp;multi_cat=CityState&amp;propertyType=Condo/Townhome|Multi-Family|Residential&amp;status=1|3&amp;q_sort=createdAt-&amp;q_offset=0">Dade City</a></li><li class="sec-nav-drop-color"><a class="sec-nav-drop-link-color" href="../search6e74.html?multi_search=Zephyrhills,%20FLmulti_cat=CityState&amp;propertyType=Condo/Townhome|Multi-Family|Residential&amp;status=1#?q_limit=36&amp;mlsId=28&amp;price=10000:&amp;multi_search=Zephyrhills,%20FL&amp;multi_cat=CityState&amp;propertyType=Condo/Townhome|Multi-Family|Residential&amp;status=1|3&amp;q_sort=createdAt-&amp;q_offset=0">Zephyrhills</a></li><li class="sec-nav-drop-color"><a class="sec-nav-drop-link-color" href="../search27d1.html?multi_search=San%20Antonio,%20FLmulti_cat=CityState&amp;propertyType=Condo/Townhome|Multi-Family|Residential&amp;status=1#?q_limit=36&amp;mlsId=28&amp;price=10000:&amp;multi_search=San%20Antonio,%20FL&amp;multi_cat=CityState&amp;propertyType=Condo/Townhome|Multi-Family|Residential&amp;status=1|3&amp;q_sort=createdAt-&amp;q_offset=0">San Antonio</a></li><li class="sec-nav-drop-color"><a class="sec-nav-drop-link-color" href="../search8b9f.html?multi_search=Wesley%20Chapel,%20FLmulti_cat=CityState&amp;propertyType=Condo/Townhome|Multi-Family|Residential&amp;status=1#?q_limit=36&amp;mlsId=28&amp;price=10000:&amp;multi_search=Wesley%20Chapel,%20FL&amp;multi_cat=CityState&amp;propertyType=Condo/Townhome|Multi-Family|Residential&amp;status=1|3&amp;q_sort=createdAt-&amp;q_offset=0">Wesley Chapel</a></li><li class="sec-nav-drop-color"><a class="sec-nav-drop-link-color" href="../search1481.html?multi_search=Brooksville,%20FLmulti_cat=CityState&amp;propertyType=Condo/Townhome|Multi-Family|Residential&amp;status=1#?q_limit=36&amp;mlsId=28&amp;price=10000:&amp;multi_search=Brooksville,%20FL&amp;multi_cat=CityState&amp;propertyType=Condo/Townhome|Multi-Family|Residential&amp;status=1|3&amp;q_sort=createdAt-&amp;q_offset=0">Brooksville</a></li></ul><li class="nav-item"><a class="sec-nav-link-color" href="../financing.html">FINANCING</a></li><li class="nav-item"><a class="sec-nav-link-color" href="../realestateagent/search.html">WHO WE ARE</a></li><li class="nav-item dropdown"><a class="dropdown-toggle sec-nav-link-color" data-toggle="dropdown" data-hover="dropdown" data-delay="0" data-close-others="false" href="../home_value.html">HOME VALUE<i class="fa fa-angle-down"></i></a><ul class="dropdown-menu"><li class="sec-nav-drop-color"><a class="sec-nav-drop-link-color" href="../home_value_zephyrhills.html">ZEPHYRHILLS HOME VALUE</a></li><li class="sec-nav-drop-color"><a class="sec-nav-drop-link-color" href="../dadecity_home_value.html">DADE CITY HOME VALUE</a></li><li class="sec-nav-drop-color"><a class="sec-nav-drop-link-color" href="../wesley_chapel_home_value.html">WESLEY CHAPEL HOME VALUE</a></li></ul><li class="nav-item"><a class="sec-nav-link-color" href="../connect.html">CONNECT</a></li></ul></div>
                </div>
            </div>
	    </header>


<style>
    .css-1dbjc4n{
        z-index: unset;
    }
    .center-modal {
        display:flex;
        justify-content: center;
        align-items:center;
        position:fixed;
        background-color:rgba(0,0,0,0.4);
        left:0;
        top:0;
        right:0; 
        bottom:0;
        z-index: 300;
    }
    
    #report-section{
        gap: 32px
    }

    .report {
        display:flex;
        flex-direction:column;
        height:100%;
        background-color: #FFFFFF; 
        padding: 0 32px 0 32px;            
    }

    .report-section-container {
        padding: 16px 0 16px 0;
    }

    .page-width-parent{
        max-width: 1270px;
        margin: 0 auto;
    }

    #map{
        background: #fff;
        padding: 24px 32px 0px;
        border-radius: 12px;
    }

    @media only screen and (min-width: 1280px) {
        .collection-page {
            padding:48px 48px 48px 120px;
        }
    }

    @media only screen and (max-width:1279px) {
        .collection-page {
            padding:60px 16px 16px 16px;
        }
        #map{
            padding: 24px 12px 0px;
        }
    }

    @media only screen and (max-width:767px) {
        place-marketreporttile{
            width: 100%
        }
        place-createmarketreport{
            width: 100%
        }
        #report-section{
            gap: 32px 24px
        }
    }
</style>
<script src="../js/member_area_components.html"></script>

<script>


//this.location.href=`#`;

document.addEventListener("DOMContentLoaded", () => {
    const key = localStorage.getItem('authorization');
    
    if( !key) {
        $("#sign-up-modal").modal('show');

        $("#sign-up-modal").on("hidden.bs.modal", function () {
            location.reload();
        });
    }
    else{

        let myPortalPage = document.getElementById('myportal-page');
        myPortalPage.style.display = "block";

        const contact = async (
        firstName,
        lastName,
        email,
        phone,
        contactMessage,
        time_event_type
        ) => {
            let formData = new FormData();
            formData.append("contact_fname", firstName);
            formData.append("contact_lname", lastName);
            formData.append("contact_email", email);
            formData.append("contact_phone", phone);
            formData.append("contact_message", contactMessage);
            formData.append("form_source_url", location.href);
            formData.append("time_event_type", time_event_type);

            const contact = await fetch("../pages/contact.html", {
            method: "POST",
            dataType: "json",
            body: formData,
            });

            return await contact.json();
        };

        class Pubsub {
            static events = {};
            constructor() {
                //this.events = {};
            }

            static subscription (eventName, func) {
                return {
                    subscribe: () => {
                        if (this.events[eventName]) {
                            this.events[eventName].push(func);
                        } else {
                            this.events[eventName] = [func];
                        }
                    },

                    unsubscribe: () => {
                        if(this.events[eventName]){
                            this.events[eventName] = this.events[eventName].filter((subscriber) => subscriber !== func);
                        }
                    }
                }
            } 

            static publish(eventName, ...args) {
                const funcs = this.events[eventName];
                if (Array.isArray(funcs)) {
                    funcs.forEach((func) => {
                        func.apply(null, args);
                    });
                }
            }
        }

        class MarketHomeValueCard {
            
            constructor(report, count) {
                
                let _this = this;
                this.report = report
                this.menuOpen = false
                this.count = count
                this.element = document.createElement('place-marketreporttile');
                this.dropMenuBackdrop = document.getElementById('drop-menu-backdrop');
                this.element.setAttribute('market_report', JSON.stringify(report));
                this.element.setAttribute('z_index', count);
                this.element.setAttribute('id', report.id);
                this.element.setAttribute("show_menu", "false");


                // let homeMarketValueCardWrapper = document.createElement('div');
                //  homeMarketValueCardWrapper.setAttribute('style', 'padding-right:24px; padding-bottom:24px;')
                //  homeMarketValueCardWrapper.appendChild(this.element);

                this.dropMenuBackdrop.addEventListener('click', (e) => {
                    
                    this.element.setAttribute("show_menu", "false");
                    this.dropMenuBackdrop.style.display = "none";
                });
                

                this.element.addEventListener("on_menu_item_pressed", (e) => {
                    if(e.detail =='Edit Report'){
                        Pubsub.publish('edit_criteria', JSON.parse(this.element.getAttribute('market_report')));
                       
                    }
                    else if(e.detail == 'Delete Report'){
                        Pubsub.publish('delete_report_menu_pressed', this.report.id);
                    }
                });

                this.element.addEventListener("on_card_pressed", (e) => {
                    Pubsub.publish('open_market_report', {reportId: report.id, isNewReport: false});
                });

                this.element.addEventListener(`on_menu_open`, (e) => {    
                    
                    this.menuOpen = e.detail;
                    this.element.setAttribute("show_menu", this.menuOpen);

                    if(this.menuOpen){
                        this.dropMenuBackdrop.style.display = 'block';
                        this.element.setAttribute('z_index', 200);
                    }
                    else{
                        this.dropMenuBackdrop.style.display = 'none';
                        this.element.setAttribute('z_index', count);
                    }
                });
            } 
        }

        class ReportSection {
            constructor(blueroofMiddlewareApi) {
                
                let _this = this;
                
                this.blueroofMiddlewareApi = blueroofMiddlewareApi;
                this.element = document.getElementById('report-section');
            
                this.blueroofMiddlewareApi.getMarketReports().then((reports) => {

                    Pubsub.publish('market_reports', reports.length);
                    
                    let count = 100;
                    reports.forEach((report) => {
                        count--
                        if(report.lat_lng) {
                            this.addMarketReport(report,count)
                        }
                        else{
                            report.lat_lng = [0,0];
                            this.addMarketReport(report,count)
                        }
                    })
                })
                    
            }    

            addMarketReport(report, zindex) {
                    let homeMarketValueCard = new MarketHomeValueCard(report, zindex);
                
                this.element.append(homeMarketValueCard.element);
            }        
        }

        class CreateMarketReport {
                
            constructor(blueroofMiddlewareApi) {
                
                 
                this.blueroofMiddlewareApi = blueroofMiddlewareApi;
                this.element = document.querySelector('place-createmarketreport');
                
                this.element.addEventListener("on_change_text", (e) => {
                    if(e.detail.length > 0){
                        this.blueroofMiddlewareApi.googlePlaceSuggestions(e.detail).then((suggest) => {

                            let suggestions = page.structureAddressSuggestions(suggest.predictions)
                            this.element.setAttribute('data', JSON.stringify(suggestions));
                        })
                    }
                    
                });

                this.element.addEventListener("on_selected_location", (e) => {
                    Pubsub.publish('create_market_report_selected_location', {selectedLocation: e.detail});
                });

                document.querySelector("place-createmarketreport input").setAttribute("autocomplete","do-not-autofill");
            }      

            show() {
                
                this.element.setAttribute('style', 'display:flex;z-index:100')
            }

            hide() {
                this.element.setAttribute('style', 'display:none');
            }
        }

        class DeleteMarketReportModal {
            constructor(blueroofMiddlewareApi) {
                    
                this.element = document.getElementById('delete-market-report-modal');
                this.blueroofMiddlewareApi = blueroofMiddlewareApi;
                this.reportId = 0

                this.element.addEventListener("on_primary_press", (e) => {
                    Pubsub.publish('delete_market_report', this.reportId);
                });

                this.element.addEventListener("on_tertiary_press", (e) => {
                    this.hide();
                });

                this.element.addEventListener("on_close_press", (e) => {
                    this.hide();
                });

            }

            show(reportId) {
                this.reportId = reportId
                this.element.setAttribute('style', 'display:flex')
            }

            hide() {
                this.element.setAttribute('style', 'display:none');
            }
        }

        class MLSErrorModal {
            constructor() {
                    
                this.element = document.getElementById('mls-error-modal');
                this.element.setAttribute('sub_title', `It looks like that address is outside of your agent's MLS range. \n\nPlease contact your agent to find out more about your home value.`)

                this.element.addEventListener("on_primary_press", (e) => {
                    window.location.href = '/myportal/agent'
                });

                this.element.addEventListener("on_tertiary_press", (e) => {
                    this.hide();
                });

                this.element.addEventListener("on_close_press", (e) => {
                    this.hide();
                });

            }

            show() {
                this.element.setAttribute('style', 'display:flex')
            }

            hide() {
                this.element.setAttribute('style', 'display:none');
            }
        }

        class VerifyHomeEstimateModal {
            constructor() {
                    
                this.element = document.getElementById('verify-home-estimate-modal');
                this.element.setAttribute('sub_title', `Your agent will be notified and will reach out shortly to verify your home estimate!`)

                this.element.addEventListener("on_primary_press", (e) => {
                    Pubsub.publish('verifyMyHomeModalClicked')
                });

                this.element.addEventListener("on_tertiary_press", (e) => {
                    this.hide();
                });

                this.element.addEventListener("on_close_press", (e) => {
                    this.hide();
                });

            }

            show() {
                this.element.setAttribute('style', 'display:flex')
            }

            hide() {
                this.element.setAttribute('style', 'display:none');
            }
        }

        class BlueroofMiddlewareApi {
            constructor() {
                this.baseUrl = 'https://brivity-home-middleware.production.brivity.com';
                this.apiKey = localStorage.getItem('authorization');
            }

            getMLSIds = async () => {
                const response = await fetch(`${this.baseUrl}/autocomplete/mlsids`, {
                    method: 'GET',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `${this.apiKey}`
                    }
                });

                const data = await response.json();
                return data;
            }

            googlePlaceSuggestions = async(text) => {
                const response = await fetch(`${this.baseUrl}/googleAutocomplete/PlaceSuggestions`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `${this.apiKey}`
                    },
                    body: JSON.stringify({
                        input: text
                    })
                });

                const data = await response.json();
                return data;
            }

            getBrivityHomeAppInvite = async (number) => {
                const response = await fetch(`${this.baseUrl}/brivityLeads/sendHomeAppInvite`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `${this.apiKey}`
                    },
                    body: JSON.stringify({
                        "phoneNumber": number
                    })
                });

                if(!response.ok){
                    throw new Error();
                }

                const data = await response.json();
                return data;
            }

            getMarketReports = async () => {
                const response = await fetch(`${this.baseUrl}/cma/marketReports`, {
                    method: 'GET',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `${this.apiKey}`
                    } 
                });

                const data = await response.json();
                return data;
            }

            getMarketReport = async (id) => {
                const response = await fetch(`${this.baseUrl}/cma/marketReport/${id}`, {
                    method: 'GET',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `${this.apiKey}`
                    } 
                });

                const data = await response.json();
                return data;
            }

            updateMarketReport = async (id, reportData) => {
                const response = await fetch(`${this.baseUrl}/cma/marketReport/${id}`, {
                    method: 'PATCH',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `${this.apiKey}`
                    },
                    body: JSON.stringify(reportData)
                });

                if(!response.ok){
                    throw new Error();
                }

                const data = await response;
                return data;
            }

            deleteMarketReport = async (id) => {
                const response = await fetch(`${this.baseUrl}/cma/marketReport/${id}`, {
                    method: 'DELETE',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `${this.apiKey}`
                    }
                });

                if(!response.ok){
                    throw new Error();
                }

                const data = await response
                return data;
            }

            createMarketReport = async (reportData) => {
                const response = await fetch(`${this.baseUrl}/cma/marketReport`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `${this.apiKey}`
                    },
                    body: JSON.stringify(reportData)
                });

                if(!response.ok){
                    throw new Error();
                }

                const data = await response.json();
                return data;
            }

            previewMarketReport = async (reportData) => {
                const response = await fetch(`${this.baseUrl}/cma/marketReport/preview`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `${this.apiKey}`
                    },
                    body: JSON.stringify(reportData)
                });

                if(!response.ok){
                   Pubsub.publish('previewError', response.status);
                    throw new Error();
                }

                const data = await response.json();
                return data;
            }

            getGeocodeAddress = async (addressData) => {
                const response = await fetch(`${this.baseUrl}/address/geocode`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `${this.apiKey}`
                    },
                    body: JSON.stringify(addressData)
                });

                const data = await response.json();
                return data;
            }

            getGeoJson = async(addressData) => {
                const response = await fetch(`${this.baseUrl}/geoJson/areas/censusplaces/search`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `${this.apiKey}`
                    },
                    body: JSON.stringify(addressData)
                });

                const data = await response.json();
                return data;
            }

            getSlipStreamAVM = async (addressData) => {
                const response = await fetch(`${this.baseUrl}/slipstream/avm`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `${this.apiKey}`
                    },
                    body: JSON.stringify(addressData)
                });

                const data = await response.json();
                return data;
            }

            getZestimate = async (addressData) => {
                const response = await fetch(`${this.baseUrl}/zillow/zestimate`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `${this.apiKey}`
                    },
                    body: JSON.stringify(addressData)
                });

                const data = await response.json();
                return data;
            }

            getMlsValue = async (mlsData) => {
                const response = await fetch(`${this.baseUrl}/listings/stats/value`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `${this.apiKey}`
                    },
                    body:JSON.stringify(mlsData)
                });

                const data = await response.json();
                return data;
            }

            getLeadBasicInfo = async () => {
                const response = await fetch(`${this.baseUrl}/blueroofleads/basicinfo`, {
                    method: 'GET',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `${this.apiKey}`
                    },
                    
                });

                const data = await response.json();
                return data;
            }

            getAgentProfile = async (brivityUserId) => {
                const response = await fetch(`${this.baseUrl}/blueroofagents/profile`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `${this.apiKey}`
                    },
                    body: `{"brivityUserId": ${brivityUserId}}`
                    
                });

                const data = await response.json();
                return data;
            }

            getStreetViewImage = async (addressData) => {
                const response = await fetch(`${this.baseUrl}/googlestreetview/getstreetviewimage`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `${this.apiKey}`
                    },
                    body: JSON.stringify(addressData)
                });

                const imageBlob = await response.blob();
                const imageObjectURL = URL.createObjectURL(imageBlob);
                return imageObjectURL;
            }
        }

        class ReportListingBrivityHomeApp {
            constructor() {
                this.element = document.getElementById('reportListingViewGetHomeApp');

                this.element.addEventListener('on_button_pressed', (e) => {
                    Pubsub.publish('sendBrivityHomeAppInvite', e.detail);
                })
            }
        }

        class ReportViewBrivityHomeApp {
            constructor() {
                this.element = document.getElementById('reportViewGetHomeApp');

                this.element.addEventListener('on_button_pressed', (e) => {
                    Pubsub.publish('sendBrivityHomeAppInvite', e.detail);
                })
            }
        }

        class MarketReportModal {
            constructor(blueroofMiddlewareApi, page) {
                this.element = document.getElementById('market-report-modal');
                this.menuBackdrop = document.getElementById('menu-backdrop');
                this.blueroofMiddlewareApi = blueroofMiddlewareApi;
                this.marketReport = null;
                this.element.setAttribute('visible', 'false');

                this.blueroofMiddlewareApi.getMLSIds().then((data) => {
                    this.mlsIds = data
                })

                this.element.addEventListener('set_visible', (e) => {
                    this.hide();
                })

                this.menuBackdrop.addEventListener('click', (e) => {
                    this.hide();
                })

                this.element.addEventListener('on_change', (e) => {
                    if(e.detail.length > 0){
                        this.blueroofMiddlewareApi.googlePlaceSuggestions(e.detail).then((suggest) => {
                            
                            let suggestions = page.structureAddressSuggestions(suggest.predictions)
                            this.element.setAttribute('data', JSON.stringify(suggestions));
                        })
                    }
                })

                this.element.addEventListener('on_selected_location', (e) => {
                
                })

                this.element.addEventListener('on_save_button_press', (e) => {
                    Pubsub.publish('market_report_modal_save_button_pressed', {'changes':e.detail, "marketReport" : this.marketReport});
                })

                document.querySelectorAll("#market-report-modal input")[1].setAttribute("autocomplete","do-not-autofill");
            }

            show() {
                
                this.element.setAttribute('visible', 'true')
                this.menuBackdrop.style.display = 'flex'
            }

            hide() {
                this.element.setAttribute('visible', 'false');
                    this.menuBackdrop.style.display = 'none'
            }

            showReportName(value){
                this.element.setAttribute('show_report_name', value);
            }

            setMarketReportData(data) {
                this.marketReport = data
                this.element.setAttribute('market_report', JSON.stringify(data));
            }

        }

        class LoadingModal {
            constructor() {
                this.element = document.querySelector('place-loadingmodal');

                this.element.addEventListener('on_press', (e) => {
                    this.hide();
                })
            }

            show() {
                this.element.setAttribute('style', 'display:flex')
            }

            hide() {
                this.element.setAttribute('style', 'display:none');
            }
        }

        class EmptyMarketReport {

            constructor(blueroofMiddlewareApi, mlsIds) {
                this.blueroofMiddlewareApi = blueroofMiddlewareApi;
                this.element = document.querySelector('place-emptymarketreport')
                this.mlsIds = mlsIds;

                this.element.addEventListener("on_change", (e) => {
                    if(e.detail.length > 0){
                        this.blueroofMiddlewareApi.googlePlaceSuggestions(e.detail).then((suggest) => {
                            
                            let suggestions = page.structureAddressSuggestions(suggest.predictions)
                            this.element.setAttribute('data', JSON.stringify(suggestions));
                        })
                    }
                    
                });

                this.element.addEventListener("on_selected_location", (e) => {
                    Pubsub.publish('create_market_report_selected_location', {selectedLocation: e.detail});
                    
                });

                document.querySelector("place-emptymarketreport input").setAttribute("autocomplete","do-not-autofill");
            }

            show() {
                this.element.setAttribute('style', 'display:flex')
            }

            hide() {
                this.element.setAttribute('style', 'display:none');
            }
        }

        class SavedReportSection {
            constructor() {
                this.element = document.getElementById('saved-report-section');
            }

            show() {
                this.element.setAttribute('style', 'display:block')
            }

            hide() {
                this.element.setAttribute('style', 'display:none');
            }
        }

        class ViewReportSection{
            constructor() {
                this.element = document.getElementById('view-report-section');
            }

            show() {
                this.element.setAttribute('style', 'display:flex')
            }

            hide() {
                this.element.setAttribute('style', 'display:none');
            }
        }

        class Maps {
            constructor() {

                let _this = this;
                this.element = document.querySelector('place-mapblock');

                this.element.addEventListener('on_link_press', (e) => {
                    Pubsub.publish('mapLinkPressed', e.detail)
                });

                this.element.addEventListener('on_search_for_homes', (e) => {
                    Pubsub.publish('mapLinkPressed', e.detail)
                });
            }
        }

        class MarketReport {
            constructor(blueroofMiddlewareApi){
                this.blueroofMiddlewareApi = blueroofMiddlewareApi;

                this.title = document.querySelector('place-marketreporttitle');
                this.estimatedHomeValue = document.querySelector("place-estimatedhomevalue");
                this.equityEstimate = document.querySelector("place-equityestimate");
                this.homeEquity = document.querySelector("place-homeequity");
                this.thinkingAbout = document.querySelector("place-thinkingabout");
                this.temperature = document.querySelector('place-markettemperatureblock');
                this.marketStats = document.querySelector('place-marketstatsblock');
                this.map = document.querySelector('place-mapblock');
                this.sendMessage = document.querySelector('place-sendmessage');
                this.doesMyHomeCompare = document.querySelector('place-doesmyhomecompare');

                this.title.addEventListener('home_value_edit_button', (e) => {
                    Pubsub.publish('editHomeFactsClicked')
                });
                 
                 
            }
        }

        class HomeEquity  {
            constructor() {
                
                let _this = this;
                this.element = document.querySelector("place-homeequity");

                this.element.addEventListener('on_Agent_question_clicked', (e) => {
                    contact(
                        page?.lead?.fname, page?.lead?.lname, page?.lead?.email, page?.lead?.phone, "How quickly can I sell my home?",'contact_form_get_prequalified'
                    )
                        .then((response) => {  
                            toast.show("Message sent successfully!");
                        })
                        .catch((error) => {
                            toast.show("Error sending message");
                        });
                });
            }

            setSellPrice(sellPrice) {
                this.element.setAttribute('sell_price', sellPrice)
            }

            setRemainingBalance(remainingBalance) {
                this.element.setAttribute('remaining_balance', remainingBalance)
            }

            hide() {
                this.element.parentElement.setAttribute('style', 'display:none')
            }
        }

        class ThinkingAbout {
            constructor() {
                let _this = this;
                this.element = document.querySelector("place-thinkingabout");

                this.element.addEventListener('on_Agent_question_clicked', (e) => {
                    contact(
                        page?.lead?.fname, page?.lead?.lname, page?.lead?.email, page?.lead?.phone, "Iâ€™d like to discuss upgrading my home.",'contact_form_get_prequalified'
                    )
                        .then((response) => {  
                            toast.show("Message sent successfully!");
                        })
                        .catch((error) => {
                            toast.show("Error sending message");
                        });            
                    });
            }

            setSellPrice(sellPrice) {
                this.element.setAttribute('sell_price', sellPrice)
            }

            setRemainingBalance(remainingBalance) {
                this.element.setAttribute('remaining_balance', remainingBalance)
            }

            hide() {
                this.element.parentElement.setAttribute('style', 'display:none')
            }
        }

        class EquityEstimate  {
            constructor() {
                
                this.element = document.querySelector("place-equityestimate");

                this.element.addEventListener('on_press', (e) => {
                    Pubsub.publish('equityEstimateClicked')
                });
            }

            setLowEstimate(lowEstimate) {
                this.element.setAttribute('min_price', lowEstimate)
            }

            setHighEstimate(highEstimate) {
                this.element.setAttribute('max_price', highEstimate)
            }

            hide() {
                this.element.parentElement.setAttribute('style', 'display:none')
            }
        }

        class EditEstimatedEquityModal  {
            constructor(){
                
                let _this = this;
                this.element = document.querySelector('place-edithomeequity');

                this.element.addEventListener("close_button", (e) => {
                    _this.hide();
                });

                this.element.addEventListener("cancel_button", (e) => {
                    _this.hide();
                });

                this.element.addEventListener("save_facts", (e) => {
                    Pubsub.publish('editEstimatedEquityModalSaved', e.detail)
                    _this.hide();
                });
            }

            show() {
                this.element.setAttribute('style', 'display:flex')
            }

            hide() {
                this.element.setAttribute('style', 'display:none')
            }

            setEquityFacts(salePrice, remainingBalance){
                this.element.setAttribute('equity_facts', JSON.stringify({"home_sale_price":`${salePrice}`, "remaining_balance":`${remainingBalance}`,"estimated_equity":"0"}) )
            }

        

        }

        class OtherEstimatesModal {
            constructor() {
                let _this = this;
                this.element = document.querySelector('place-otherestimates');

                this.element.addEventListener("close_button", (e) => {
                    _this.hide();
                });
            }

            show() {
                this.element.setAttribute('style', 'display:flex')
            }

            hide() {
                this.element.setAttribute('style', 'display:none')
            }

            
            setZillowEstimate(zillowEstimate) {
                this.element.setAttribute('zillow', zillowEstimate)
            }

            setSlipstreamEstimate(slipstreamEstimate) {
                this.element.setAttribute('home_junction', slipstreamEstimate)
            }

            setMlsEstimate(mlsEstimate) {
                this.element.setAttribute('mls', mlsEstimate)
            }
        }

        class EstimatedHomeValue  {
            constructor() {
                
                let _this = this;
                this.element = document.querySelector("place-estimatedhomevalue");

                this.element.addEventListener('other_estimates_btn', (e) => {
                    Pubsub.publish('seeOtherEstimatesClicked')
                });

                this.element.addEventListener('on_press_btn', (e) => {             
                    Pubsub.publish('verifyMyHomeEstimateClicked')
                });
                
            }

            setEstimatedHomeEquity(estimatedHomeEquity) {
                this.element.setAttribute('estimated_home_equity', estimatedHomeEquity)
            }

            setLowEndPrice(lowEndPrice) {
                this.element.setAttribute('low_end_price', lowEndPrice)
            }

            setHighEndPrice(highEndPrice) {
                this.element.setAttribute('high_end_price', highEndPrice)
            }

            setSquareFeet(pricePerSquareFoot) {
                this.element.setAttribute('sqft', pricePerSquareFoot)
            }

            setTemperature(temperature) {
                this.element.setAttribute('temperature', temperature)
            }

            hide() {
                this.element.parentElement.setAttribute('style', 'display:none')
            }

        }

        class SendMessage {
            constructor() {
                
                let _this = this;
                this.element = document.querySelector('place-sendmessage');

                this.element.addEventListener('send_msg', (e) => {
                    this.element.setAttribute('loading', true);   

                    contact(
                        page?.lead?.fname, page?.lead?.lname, page?.lead?.email, page?.lead?.phone, `${e.detail?.subject} <br/> ${e.detail?.message}`,'contact_form_get_prequalified'
                    )
                        .then((response) => {
                            this.element.setAttribute('loading', false);   
                            toast.show("Message sent successfully!");
                        })
                        .catch((error) => {
                            this.element.setAttribute('loading', false);
                            toast.show("Error sending message");
                        });
                });
            }
        }

        class PageSubHeader  {
            constructor() {
                
                this.element = document.querySelector('place-pagesubheader')
                this.buttonDisplay = [false, false, false, false, false, false]

                this.getHomeValueButtonIndex = 0;
                this.sellMyHomeButtonIndex = 1;
                this.contactUsButtonIndex = 2;
                this.EditCriteriaIndex = 3;
                this.SaveReportButtonIndex = 4;
                this.MoreMenuButtonIndex = 5;

                this.buttons = [

                    {
                        name:"GetHomeValue",
                        title : "Get Home Value",
                        icon : "activity",
                        icon_fill : "none",
                        icon_stroke : "black",
                        icon_stroke_width : 2,
                        type : "none",
                        outline : true,
                        ghost : false,
                        text_styles : "text-[#000]"
                    },
                    {
                        name:"SellMyHome",
                        title : "Sell My Home",
                        icon : "home",
                        icon_fill : "none",
                        icon_stroke : "black",
                        icon_stroke_width : 2,
                        type : "none",
                        outline : true,
                        ghost : false,
                        text_styles : "text-[#000]",
                    },
                    {
                        name:"ContactUs",
                        title : "Contact Us",
                        icon : "mail",
                        icon_fill : "none",
                        icon_stroke : "black",
                        icon_stroke_width : 2,
                        type : "none",
                        outline : true,
                        ghost : false,
                        text_styles : "text-[#000]"
                    },
                    {
                        name:"EditCriteria",
                        title : "Edit Criteria",
                        icon : "",
                        icon_fill : "none",
                        icon_stroke : "black",
                        icon_stroke_width : 2,
                        type : "none",
                        outline : true,
                        ghost : false,
                        text_styles : "text-[#000]"
                    },
                    {
                        name:"SaveReport",
                        title : "Save Report",
                        icon : "",
                        icon_fill : "none",
                        icon_stroke : "black",
                        icon_stroke_width : 2,
                        type : "black",
                        outline : true,
                        ghost : false,
                        text_styles : "text-[#fff]"
                    },
                    {
                        name:"MoreMenuButton",
                        title : "More",
                        type: "black",
                        is_menu_button : true,
                        icon_stroke : "white",
                        menu_button_items : [
                            {icon:'edit-2', text: 'Edit Report'},
                            {icon:'bell', text: 'Manage Alerts'},
                            {icon:'trash', text: 'Delete Report'}
                        ]
                    }  
                ]

                this.element.setAttribute('buttons', JSON.stringify(this.buttons))
                this.element.setAttribute('dynamic_buttons_display', JSON.stringify( this.buttonDisplay))

                this.element.addEventListener('dynamic_button_on_press', (event) => {
                    let buttonName = event.detail

                    switch(buttonName){
                        case 'GetHomeValue':
                            Pubsub.publish('get_home_value')
                            break;
                        case 'SellMyHome':
                            Pubsub.publish('sell_my_home')
                            break;
                        case 'ContactUs':
                            Pubsub.publish('contact_us')
                            break;
                        case 'EditCriteria':
                            Pubsub.publish('edit_criteria');
                            break;
                        case 'SaveReport':
                            Pubsub.publish('save_report');
                            break;
                    }

                })

                this.element.addEventListener('dynamic_on_menu_item_pressed', (e) => {
                    Pubsub.publish('top_header_menu_item_pressed', e.detail)
                })

                this.element.addEventListener('top_header_on_press', (e) => {
                    Pubsub.publish('top_header_back_pressed', e)
                })
            }

            setTitle(title) {
                this.element.setAttribute('title', title)
            }

            setTopHeaderTitle(title){
                this.element.setAttribute('top_header_title', title)
            }

            showTopHeader(){
                this.element.setAttribute('show_top_header', true)
            }

            hideTopHeader(){
                this.element.setAttribute('show_top_header', false)
            } 

            showGetHomeValueButton() {
                this.buttonDisplay[this.getHomeValueButtonIndex] = true
                this.setDynamicButtonDisplay()
            }

            hideGetHomeValueButton() {
                this.buttonDisplay[this.getHomeValueButtonIndex] = false
                this.setDynamicButtonDisplay()
            }
            
            showSellMyHomeButton() {
                this.buttonDisplay[this.sellMyHomeButtonIndex] = true
                this.setDynamicButtonDisplay()
            }

            hideSellMyHomeButton() {
                this.buttonDisplay[this.sellMyHomeButtonIndex] = false
                this.setDynamicButtonDisplay()
            }

            showContactUsButton() {
                this.buttonDisplay[this.contactUsButtonIndex] = true
                this.setDynamicButtonDisplay()
            }

            hideContactUsButton() {
                this.buttonDisplay[this.contactUsButtonIndex] = false
                this.setDynamicButtonDisplay()
            }

            showEditCriteriaButton() {
                this.buttonDisplay[this.EditCriteriaIndex] = true
                this.setDynamicButtonDisplay()
            }

            hideEditCriteriaButton() {
                this.buttonDisplay[this.EditCriteriaIndex] = false
                this.setDynamicButtonDisplay()
            }

            showSaveReportButton() {
                this.buttonDisplay[this.SaveReportButtonIndex] = true
                this.setDynamicButtonDisplay()
            }

            hideSaveReportButton() {
                this.buttonDisplay[this.SaveReportButtonIndex] = false
                this.setDynamicButtonDisplay()
            }

            showMoreMenuButton() {
                this.buttonDisplay[this.MoreMenuButtonIndex] = true
                this.setDynamicButtonDisplay()
            }

            hideMoreMenuButton() {
                this.buttonDisplay[this.MoreMenuButtonIndex] = false
                this.setDynamicButtonDisplay()
            }

            setDynamicButtonDisplay(){
                this.element.setAttribute('dynamic_buttons_display', `[${this.buttonDisplay}]`)
            }
        }

        class Page {
            constructor(blueroofMiddlewareApi){
                this.isNewReport = false
                this.isEditingReport = false
                this.isReportSaved = false
                this.reportId = ''
                this.isViewingReport = false
                this.isReportLoaded = false
                this.lead = {}
                this.agent = {}
                this.mlsIds = []
                this.marketReport = {}

                this.bedOffset = 1
                this.bathOffset = 1
                this.sqftOffset = 500

                this.authorizationData = JSON.parse(atob(blueroofMiddlewareApi.apiKey.split('.')[1]));
                this.is_blueroof_person = this.authorizationData?.is_blueroof_person;

                window.onresize = function(event) {
                    Pubsub.publish('window_resize')
                };
            }

            structureAddressSuggestions(suggestedLocations) {
                let suggestions = [];
                suggestedLocations.forEach((suggestion) => {
                    let splitLocation =  suggestion.description.split(', ')
                    let address = ''
                    let city = ''
                    let state = ''
                    let postalCode = ''
                    if(suggestion.types[0] == 'locality'){
                        
                         city = splitLocation[0];
                         state = splitLocation[1];
                            }
                    else if(suggestion.types[0] == 'street_address' || suggestion.types[0] == 'route' || suggestion.types[0] == 'premise'){
                        
                        if(splitLocation.length == 4){
                             address = splitLocation[0];
                             city = splitLocation[1];
                             state = splitLocation[2];  }
                        else{
                             address = splitLocation[1];
                             city = splitLocation[2];
                             state = splitLocation[3];
                        }
                    }
                    else if(suggestion.types[0] == 'postal_code'){
                        
                         city = splitLocation[0];
                         state = splitLocation[1].split(' ')[0];
                         postalCode = splitLocation[1].split(' ')[1];
                    }

                    suggestions.push({text:suggestion.description,address:address,city:city,state:state,postalCode:postalCode, suggestType: suggestion.types[0] });
                    
                })

                return suggestions;
            }
        }

        class Estimates {
            constructor(blueroofMiddlewareApi) {
                this.blueroofMiddlewareApi = blueroofMiddlewareApi;
            }

            getSlipstreamEstimate = async (state, city, address, zipCode) => {

                const slipstreamData = {
                    deliveryLine: address,
                    city: city,
                    state: state,
                    zip: zipCode
                }

                let response = await this.blueroofMiddlewareApi.getSlipStreamAVM(slipstreamData)
                this.slipstreamEstimate = response?.result?.valuations?.general?.EMV || 0
                this.lotSize = response?.result?.attributes?.size || 0
                this.beds = response?.result?.attributes?.beds || 0
                this.baths = response?.result?.attributes?.baths || 0
                this.sqft = response?.result?.attributes?.size || 0
                return this.slipstreamEstimate
            }

            getZillowEstimate = async (state, city, address, zipCode) => {

                const zillowData = {
                    address: address,
                    city: city,
                    state: state,
                    postalCode: zipCode
                }

                let response = await this.blueroofMiddlewareApi.getZestimate(zillowData)
                this.zillowEstimate = response?.bundle[0]?.zestimate || 0
                
                return this.zillowEstimate
            }

            getMlsEstimate = async (beds, baths, sqft, streetAddress, city, state, zipCode) => {

                const mlsData = {
                    maxBeds : beds,
                    maxBaths : baths,
                    maxSqft : sqft,
                    streetAddress : `${streetAddress}, ${city}, ${state} ${zipCode}`
                }

                let response = await this.blueroofMiddlewareApi.getMlsValue(mlsData)
                this.mlsEstimate = response?.averagePrice;
                
                return this.mlsEstimate
 
            }
        }

        class EditHomeFactsModal {
            constructor(){
                
                let _this = this;
                this.element = document.querySelector('place-edithomefactsmodal');

                this.element.addEventListener("close_button", (e) => {
                    _this.hide();
                });

                this.element.addEventListener("cancel_button", (e) => {
                    _this.hide();
                });

                this.element.addEventListener("save_facts", (e) => {
                    Pubsub.publish('editHomeFactsModalSaved', e.detail)
                    _this.hide();
                });
            }
            // home_facts='{"beds": 3, "baths": 2, "sqft": 1500}'
            setHomeFacts(beds, baths, sqft){
                this.element.setAttribute('home_facts', JSON.stringify({beds: beds, baths: baths, sqft: sqft}))
            }

            show() {
                this.element.setAttribute('style', 'display:flex')
            }

            hide() {
                this.element.setAttribute('style', 'display:none')
            }
        }

        class IsThisYourHomeModal {
            constructor(blueroofMiddlewareApi) {
                this.element = document.querySelector('place-isthisyourhome');
                
                this.blueroofMiddlewareApi = blueroofMiddlewareApi;

                this.element.addEventListener('set_bed', (e) => {
                    this.bed = e.detail 
                })

                this.element.addEventListener('set_bath', (e) => {
                    this.bath = e.detail 
                })

                this.element.addEventListener('set_sqft', (e) => {
                    this.sqft = e.detail
                })

                this.element.addEventListener('set_year_built', (e) => {
                    this.yearBuilt = e.detail
                })

                this.element.addEventListener('on_close', (e) => {
                    this.hide()
                })

                this.element.addEventListener('save_inputs', (e) => {
                    this.bed = e.detail.beds;
                    this.bath = e.detail.baths;
                    this.sqft = e.detail.sqft;
                    let slipStreamData = e.detail
                    let reportData = this.reportData
                    this.hide();
                    Pubsub.publish('slipstream_is_this_your_home_create',{ slipStreamData, reportData}) 
                })
                
            }

            setImage(imageUrl){
                this.element.setAttribute('image_url', imageUrl);
            }

            setAddress(address){
                this.element.setAttribute('address', address);
            }
            
            setIsThisYourHome(beds,baths,sqft){
                this.element.setAttribute('is_this_your_home', JSON.stringify({beds,baths,sqft}))
            }

            setYearBuilt(yearBuilt){
                this.element.setAttribute('year_built', yearBuilt)
            }

            setPrice(price){
                this.element.setAttribute('price', price)
            }

            show(reportData) {
                this.reportData = reportData;
                this.element.setAttribute('style', 'display:flex')
            }

            hide() {
                this.element.setAttribute('style', 'display:none');
            }
        }

        class SaveReportModal {
            constructor(){
                this.element = document.querySelector('place-savereportpopup');
                
                this.element.addEventListener('close_button', (e) => {
                    this.hide()
                })

                this.element.addEventListener('cancel_button', (e) => {
                    this.hide()
                })

                this.element.addEventListener('save_info', (e) => {
                    Pubsub.publish('save_report_modal_save_clicked', e.detail)
                })
            }

            isLoading(value){
                this.element.setAttribute('loading', value)
            }

            show(reportData) {
                this.element.setAttribute('style', 'display:flex')
            }

            hide() {
                this.element.setAttribute('style', 'display:none');
            }
        }

        class FrequencyModal {
            constructor() {
                this.element = document.querySelector('place-frequencymodal');

                this.element.addEventListener('on_close_press', (e) => {
                    this.hide()
                })

                this.element.addEventListener('on_save_press', (e) => {
                    Pubsub.publish('report_frequency_modal_save_clicked', e.detail)
                }) 
            }

            show(reportData) {
                let description = `How often would you like to receive email updates on the ${reportData.name} report?`
                this.element.setAttribute('description', description);
                this.element.setAttribute('style', 'display:flex')
            }

            hide() {
                this.element.setAttribute('style', 'display:none');
            }
        }

        class DoesMyHomeCompare {
            constructor(blueroofMiddlewareApi){
                this.element = document.querySelector('place-doesmyhomecompare');
                this.blueroofMiddlewareApi = blueroofMiddlewareApi;
                this.address = ''

                this.element.addEventListener('on_selected_location', (e) => {
                    this.address =  e.detail
                })

                this.element.addEventListener('on_change', (e) => {
                    if(e.detail.length > 0){
                        this.blueroofMiddlewareApi.googlePlaceSuggestions(e.detail).then((suggest) => {
                            
                            let suggestions = page.structureAddressSuggestions(suggest.predictions)
                            this.element.setAttribute('data', JSON.stringify(suggestions));
                        })
                    }
                })

                this.element.addEventListener('on_search', (e) => {
                    Pubsub.publish('create_market_report_selected_location', {selectedLocation: this.address});
                })
            }
        }

        class GetYourHomeCTA {
            constructor(blueroofMiddlewareApi) {

                this.element = document.querySelector('place-getyourhomecta');
                this.blueroofMiddlewareApi = blueroofMiddlewareApi;
                this.address = ''
                this.currentCTAType = ''

                this.element.addEventListener('on_selected_location', (e) => {
                    this.address =  e.detail
                })

                this.element.addEventListener('save_inputs', (e) => {

                    if(this.currentCTAType == 'sell_my_home'){
                        Pubsub.publish('contact_my_agent_sell_my_home', e.detail);
                    }else if(this.currentCTAType == 'contact_us'){
                        Pubsub.publish('contact_my_agent_contact_us', e.detail);
                    }
                })

                this.element.addEventListener('on_close', () => {
                    this.hide()
                })

                this.element.addEventListener('on_change', (e) => {
                    if(e.detail.length > 0){
                        this.blueroofMiddlewareApi.googlePlaceSuggestions(e.detail).then((suggest) => {
                            
                            let suggestions = page.structureAddressSuggestions(suggest.predictions)
                            this.element.setAttribute('data', JSON.stringify(suggestions));
                        })
                    }
                })

                this.element.addEventListener('on_search', (e) => {
                    this.hide()
                    Pubsub.publish('create_market_report_selected_location', {selectedLocation: this.address});
                })
            }
            
            setData(data) {
                this.element.setAttribute('get_home_value', JSON.stringify(data))
            }

            showGetHomeValueCTA() {
                this.element.setAttribute('is_get_home_value_form', true)
                this.element.setAttribute('is_sell_my_home_form', false)
                this.element.setAttribute('is_contact_us_form', false)

                this.element.setAttribute('style', 'display:flex')
            }

            showSellMyHomeCTA() {

                this.currentCTAType = 'sell_my_home'

                this.element.setAttribute('is_get_home_value_form', false)
                this.element.setAttribute('is_sell_my_home_form', true)
                this.element.setAttribute('is_contact_us_form', false)

                this.element.setAttribute('style', 'display:flex')
            }

            showContactUsCTA() {

                this.currentCTAType = 'contact_us'

                this.element.setAttribute('is_get_home_value_form', false)
                this.element.setAttribute('is_sell_my_home_form', false)
                this.element.setAttribute('is_contact_us_form', true)

                this.element.setAttribute('style', 'display:flex')
            }

            hide() {
                this.element.setAttribute('style', 'display:none');
            }

             
        }

        class messagingEmitter extends Messaging.BaseEmitter {
                
            newMessage(message) {
                Pubsub.publish('messaging_emitter_new_message', message);
            }
        }

        const blueroofMiddlewareApi = new BlueroofMiddlewareApi();
        const page = new Page(blueroofMiddlewareApi);

        let url = 'https://messaging.brivity.com/'
        const messaging = new Messaging.Service(url, blueroofMiddlewareApi.apiKey, new messagingEmitter());

        (async () => {
            let lead =  await blueroofMiddlewareApi.getLeadBasicInfo();
            let agent = await blueroofMiddlewareApi.getAgentProfile(lead.data?.brivity_agent_id);
            let mlsIds = await blueroofMiddlewareApi.getMLSIds(lead.data?.brivity_agent_id);

            page.lead = lead.data;
            page.agent = agent.data;
            page.mlsIds = mlsIds

            const menu = new Menu(page?.is_blueroof_person || false, page?.agent, blueroofMiddlewareApi.baseUrl, blueroofMiddlewareApi.apiKey);
            const createMarketReport = new CreateMarketReport(blueroofMiddlewareApi, page);
            const pageSubHeader = new PageSubHeader();
            const reportSection = new ReportSection(blueroofMiddlewareApi);
            const reportListingBrivityHomeApp = new ReportListingBrivityHomeApp();
            const reportViewBrivityHomeApp = new ReportViewBrivityHomeApp();
            const deleteMarketReportModal = new DeleteMarketReportModal(blueroofMiddlewareApi);
            const marketReportModal = new MarketReportModal(blueroofMiddlewareApi, page);
            const loadingModal = new LoadingModal();
            const toast = new Toast();
            const savedReportSection = new SavedReportSection();
            const viewReportSection = new ViewReportSection();
            const marketReport = new MarketReport(blueroofMiddlewareApi);
            const estimatedHomeValue = new EstimatedHomeValue();
            const emptyMarketReport = new EmptyMarketReport(blueroofMiddlewareApi, page);
            const estimates = new Estimates(blueroofMiddlewareApi);
            const saveReportModal = new SaveReportModal();
            const isThisYourHomeModal = new IsThisYourHomeModal(blueroofMiddlewareApi);
            const frequencyModal = new FrequencyModal();
            const editHomeFactsModal = new EditHomeFactsModal();
            const verifyHomeEstimateModal = new VerifyHomeEstimateModal();
            const otherEstimatesModal = new OtherEstimatesModal();
            const mlsErrorModal = new MLSErrorModal();
            const sendMessage = new SendMessage(); 
            const editEstimatedEquityModal = new EditEstimatedEquityModal();
            const equityEstimate = new EquityEstimate();
            const homeEquity = new HomeEquity();
            const thinkingAbout = new ThinkingAbout();
            const maps = new Maps();
            const getYourHomeCTA = new GetYourHomeCTA(blueroofMiddlewareApi);
            const doesmyhomecompare = new DoesMyHomeCompare(blueroofMiddlewareApi);

           

            Pubsub.subscription('window_resize', () => {

            

                if(window.screen.width < 600){
                    pageSubHeader.element.setAttribute('button_container_styles', 'flex-col')
                    pageSubHeader.element.setAttribute('button_styles', 'my-2 mx-2')
                    pageSubHeader.element.setAttribute('inner_container_styles', 'flex-col')
                }
                else if(window.screen.width < 768) {
                    pageSubHeader.element.setAttribute('button_container_styles', 'flex-row')
                    pageSubHeader.element.setAttribute('button_styles', 'my-2 mx-2')
                    pageSubHeader.element.setAttribute('inner_container_styles', 'flex-col')
                }
                else {
                    pageSubHeader.element.setAttribute('button_container_styles', 'flex-row')
                    pageSubHeader.element.setAttribute('button_styles', '')
                    pageSubHeader.element.setAttribute('inner_container_styles', 'flex-row')
                }

            }).subscribe();

            Pubsub.subscription('contact_my_agent_sell_my_home', (data) =>{
                getYourHomeCTA.hide();
                const message = `
                    <p>
                    <br/>Street Address: ${data?.street_address}
                    <br/>City: ${data?.city}
                    <br/>State: ${data?.state}
                    <br/>Beds: ${data?.beds}
                    <br/>Baths: ${data?.baths}
                    <br/>Square Feet: ${data?.square_feet}
                    <br/>Year Built: ${data?.year_built}
                    <br/>Additional Comments: ${data?.message}
                    </p>
                `

                contact(
                    data?.first_name, data?.last_name, data?.email_address, data?.phone_number, message, 'contact_form'
                )
                .then((response) => {
                    toast.show("Email sent successfully!");
                })
                .catch((error) => {
                    toast.show("Error sending email");
                });

            }).subscribe();

            Pubsub.subscription('contact_my_agent_contact_us', (data) =>{
                getYourHomeCTA.hide();
                const message = `
                    <p>
                    <br/>Additional Comments: ${data?.message}
                    </p>
                `
                contact(
                    data?.first_name, data?.last_name, data?.email_address, data?.phone_number, message, 'contact_form'
                )
                .then((response) => {
                    toast.show("Email sent successfully!");
                })
                .catch((error) => {
                    toast.show("Error sending email");
                });

                
            }).subscribe();

            Pubsub.subscription('mapLinkPressed', (e) => {
                const url = `/search#?q_limit=36&mlsId=${page.mlsIds}&multi_search=${page.marketReport.city},${page.marketReport.state_abbreviation}&multi_cat=CityState&status=1|3&q_sort=createdAt-&q_offset=71`
                window.open(url , '_blank');
            }).subscribe();
            
            Pubsub.subscription('editEstimatedEquityModalSaved', (e) => {
                const estimatedEquity = e.estimated_equity.replace(/,/g, '')

                equityEstimate.element.setAttribute('min_price', parseInt(estimatedEquity, 10) * 0.2);
                equityEstimate.element.setAttribute('max_price', parseInt(estimatedEquity, 10) * 0.3);
                parseInt(estimatedEquity) > 0 ? equityEstimate.element.setAttribute('calculated_estimate', e.estimated_equity) : equityEstimate.element.setAttribute('calculated_estimate', '$0');

                homeEquity.setSellPrice(parseInt(estimatedEquity));
                homeEquity.setRemainingBalance(parseInt(e.remaining_balance.replace(/,/g, '')));
            }).subscribe();

            Pubsub.subscription('equityEstimateClicked', (e) => {
                editEstimatedEquityModal.show();
            }).subscribe();

            Pubsub.subscription('seeOtherEstimatesClicked', (e) => {
                otherEstimatesModal.show();
            }).subscribe();

            Pubsub.subscription('verifyMyHomeEstimateClicked' , (e) => {
                verifyHomeEstimateModal.show();
            }).subscribe();

            Pubsub.subscription('verifyMyHomeModalClicked' , (e) => {
                verifyHomeEstimateModal.hide();
                contact(
                        lead?.fname, lead?.lname, lead?.email, lead?.phone, "I'd like to verify my home's estimate.",
                    )
                    .then((response) => {  
                        toast.show("Message sent successfully!");            
                    })
                    .catch((error) => {
                        toast.show("Error sending message");
                    });  
            }).subscribe();

            Pubsub.subscription('messaging_emitter_new_message', (message) => {
                toast.show('New message from ' + message.createdByAlias)
            }).subscribe();

            Pubsub.subscription('sendBrivityHomeAppInvite', (info) => {
                blueroofMiddlewareApi.getBrivityHomeAppInvite(info).then((data) => {
                    toast.show('Invite has been sent!')
                }).catch((error) => {
                    toast.show('Error sending invite', true)
                })  
            }).subscribe()
                
            Pubsub.subscription('edit_criteria', (report) => {
                marketReportModal.setMarketReportData(report || page.marketReport);
                marketReportModal.show();
            }).subscribe()

            Pubsub.subscription("delete_report_menu_pressed",(e) => { deleteMarketReportModal.show(e) }).subscribe()
           
            Pubsub.subscription("market_reports", (saved_report_length) => { 
                if(saved_report_length == 0){
                    emptyMarketReport.show();
                }
                else{
                    createMarketReport.show();
                    $("#gethomeapp-parent").css('margin', '70px 0 32px');
                }
            }).subscribe()

            Pubsub.subscription('top_header_back_pressed', (e) => {
                this.location.href=`./reports`
            }).subscribe();

            Pubsub.subscription('top_header_menu_item_pressed', (menuItem) => {
                if(menuItem == 'Edit Report') {
                    marketReportModal.show();
                }
                else if(menuItem == 'Delete Report') {
                    deleteMarketReportModal.show(page.reportId)
                }
                else if(menuItem == 'Manage Alerts') {
                    frequencyModal.show(page.marketReport);
                }
            }).subscribe();
        
            Pubsub.subscription('open_market_report', (newReportData) => {

                (async () => {

                    loadingModal.show();
                    savedReportSection.hide();
                    pageSubHeader.showTopHeader();
                    pageSubHeader.setTopHeaderTitle('Market Reports');
                    viewReportSection.show();

                    let data  = {}

                    

                    if(newReportData.isNewReport){

                        page.isNewReport = true;
                        lifecycle.removeUnsavedChanges('unsavedChanges');
                        lifecycle.addUnsavedChanges('unsavedChanges');
                        data = newReportData.reportData;

                        pageSubHeader.showSaveReportButton();
                        pageSubHeader.showEditCriteriaButton();

                        marketReportModal.showReportName(false)
                        
                    }
                    else{
                        

                        if(!page.isReportLoaded){
                            data = await blueroofMiddlewareApi.getMarketReport(newReportData.reportId);
                            page.isReportLoaded = true;
                        }
                        else{
                            data = newReportData.reportData
                        }

                        if(data?.search_type == 'area'){
                            pageSubHeader.showGetHomeValueButton();
                        }
                       
                        pageSubHeader.showSellMyHomeButton();
                        pageSubHeader.showContactUsButton();

                        pageSubHeader.showMoreMenuButton();
                        marketReportModal.showReportName(true)
                    }

                    page.reportId = data.id
                    page.marketReport = data;
                
                    pageSubHeader.setTitle(page.marketReport?.name || '');


                    data?.listings?.forEach(function (listing) {
                        let image = []

                        listing.images.forEach(function (listingImage) {
                            image.push ({uri: listingImage}) 
                        })

                        listing.image = image
                        listing.address = listing.street_address
                        listing.sqft = listing.area
                        
                    });


                    let reportData = {
                        "report_name" : data.name,
                        "city" : data.city,
                        "property_type" : data.property_type,
                        "min_price": parseInt(data.min_price),
                        "max_price": parseInt(data.max_price),
                        "min_beds": parseInt(data.min_beds),
                        "max_beds": parseInt(data.max_beds),
                        "min_baths": parseInt(data.min_baths),
                        "max_baths": parseInt(data.max_baths),
                        "min_area": parseInt(data.min_area),
                        "max_area": parseInt(data.max_area),
                        "min_lot": parseInt(data.min_lot),
                        "max_lot": parseInt(data.max_lot),
                        "min_year_built": parseInt(data.min_year_built),
                        "max_year_built": parseInt(data.max_year_built),
                    }

                    marketReportModal.setMarketReportData(reportData)


                    let isMarketReport = true

                    if(data.street_address != null ) {
                        isMarketReport = false
                    }


                    if(!isMarketReport){
                       

                        let beds =  isThisYourHomeModal?.bed + page.bedOffset || data?.min_beds + page.bedOffset || estimates?.beds || 0
                        let baths = isThisYourHomeModal?.bath + page.bathOffset || data?.min_baths + page.bathOffset || estimates?.baths || 0
                        let sqft = isThisYourHomeModal?.sqft +  page.sqftOffset || data?.min_area + page.sqftOffset || estimates?.sqft || 0

                        let slipstreamEstimate = estimates.getSlipstreamEstimate(data?.state_abbreviation, data?.city, data?.street_address, data?.postal_code)
                        let mlsEstimate = estimates.getMlsEstimate(
                            beds,
                            baths,
                            sqft,
                            data?.street_address,
                            data?.city,
                            data?.state_abbreviation,
                            data?.postal_code
                        )
                        let zillowEstimate = estimates.getZillowEstimate(data?.state_abbreviation, data?.city, data?.street_address, data?.postal_code)
                
                        Promise.allSettled([slipstreamEstimate, mlsEstimate, zillowEstimate]).then((values) => {
                            divisorCount = 0
                            if(values[0].value > 0)
                            {
                                divisorCount++
                            }
                            if(values[1].value > 0)
                            {
                                divisorCount++
                            }
                            if(values[2].value > 0)
                            {
                                divisorCount++
                            }
                        

                            let averageEstimate 
                            if(divisorCount > 0){
                                averageEstimate = parseInt((parseInt(values[0].value) + parseInt(values[1].value) + parseInt(values[2].value)) / divisorCount)
                            }
                            else{
                                averageEstimate = 0
                            }

                            let equityLow = parseInt(averageEstimate * 0.2 )
                            let equityHigh = parseInt(averageEstimate * 0.3)
                            let estimatedHomeSellPrice = parseInt(averageEstimate * 0.8)
                            let remainingBalance = 50000
                            let estimatedHomeValueOffset = Math.round(averageEstimate * 0.10)

                            marketReport.title.setAttribute('state', data?.state_abbreviation || "")
                            marketReport.title.setAttribute('city', data?.city || "")

                            marketReport.title.setAttribute('beds', beds)
                            marketReport.title.setAttribute('baths',baths)
                            marketReport.title.setAttribute('sqft', sqft)
                            marketReport.title.setAttribute('address', data?.street_address || "")
                            marketReport.title.setAttribute('toggle_market_report', false)
                            marketReport.title.setAttribute('new_market_report_title', false)


                            editHomeFactsModal.setHomeFacts(beds,baths, sqft)

                            estimatedHomeValue.setEstimatedHomeEquity(averageEstimate)
                            estimatedHomeValue.setLowEndPrice(averageEstimate - estimatedHomeValueOffset)
                            estimatedHomeValue.setHighEndPrice(averageEstimate + estimatedHomeValueOffset)
                            estimatedHomeValue.setSquareFeet(estimates?.lotSize || 0)
                            estimatedHomeValue.setTemperature(50 || 0)

                            otherEstimatesModal.setSlipstreamEstimate(parseInt(values[0].value))
                            otherEstimatesModal.setMlsEstimate(parseInt(values[1].value))
                            otherEstimatesModal.setZillowEstimate(parseInt(values[2].value))

                            editEstimatedEquityModal.setEquityFacts(parseInt(estimatedHomeSellPrice), remainingBalance)

                            marketReport.equityEstimate.setAttribute('min_price',equityLow)
                            marketReport.equityEstimate.setAttribute('max_price',equityHigh)

                            marketReport.homeEquity.setAttribute('sell_price',estimatedHomeSellPrice)
                            marketReport.homeEquity.setAttribute('remaining_balance',remainingBalance)

                            thinkingAbout.setSellPrice(estimatedHomeSellPrice);
                            thinkingAbout.setRemainingBalance(remainingBalance);

                            marketReport.estimatedHomeValue.parentElement.setAttribute('style', 'display:block')
                            marketReport.equityEstimate.parentElement.setAttribute('style', 'display:block')
                            marketReport.homeEquity.parentElement.setAttribute('style', 'display:block')
                            marketReport.thinkingAbout.parentElement.setAttribute('style', 'display:block')

                            marketReport.doesMyHomeCompare.parentElement.setAttribute('style', 'display:none')
                            loadingModal.hide();

                        });

                    }
                    else {
                        marketReport.title.setAttribute('state', data?.state_abbreviation || "")
                        marketReport.title.setAttribute('city', data?.city || "")
                        marketReport.title.setAttribute('value_range_low', data?.min_price || 0)
                        marketReport.title.setAttribute('value_range_high', data?.max_price || 0)
                        marketReport.title.setAttribute('toggle_market_report', true)
                        marketReport.title.setAttribute('new_market_report_title', true)
                        marketReport.title.setAttribute('property_type', data?.property_type || "")

                        marketReport.estimatedHomeValue.parentElement.setAttribute('style', 'display:none')
                        marketReport.equityEstimate.parentElement.setAttribute('style', 'display:none')
                        marketReport.homeEquity.parentElement.setAttribute('style', 'display:none')
                        marketReport.thinkingAbout.parentElement.setAttribute('style', 'display:none')

                        loadingModal.hide();
                    }

                    if(data?.city){
                        marketReport.marketStats.setAttribute('label',`Last 30 days in ` + data?.city)
                    }
                    
                    marketReport.marketStats.setAttribute('items',`[
                        { "icon": "zap", "label": "New Homes", "value":${data?.trends?.trend_new_listings || 0}},
                        { "icon": "tag", "label": "Sold", "value": ${data?.trends?.trend_sold_listings || 0}},
                        { "icon": "dollar-sign", "label": "Average", "value": ${data?.trends?.trend_average_price || 0}},
                        { "icon": "calendar", "label": "Days On Market", "value": ${data?.trends?.trend_average_dom || 0}}
                    ]`)

                    marketReport.temperature.setAttribute('temperature', data?.market_temp || 50)
                    marketReport.temperature.setAttribute('city', data?.city || '')
                    marketReport.temperature.setAttribute('state', data?.state_abbreviation || '')


                    if(data?.geo_json){    
                        let geo = JSON.parse(data?.geo_json)?.coordinates[0] || [];
                        let geoArray = []

                        for(let i = 0; i < geo.length; i++){
                            geoArray.push({lat: geo[i][1], lng: geo[i][0]})
                        }

                        marketReport.map.setAttribute('polygon_points', JSON.stringify(geoArray))
                    }

                    marketReport.map.setAttribute('default_zoom', 12)
                    marketReport.map.setAttribute('area', data.city || '')
                    marketReport.map.setAttribute('state', data.state_abbreviation || '')
                    marketReport.map.setAttribute('mls_data', JSON.stringify(data.listings))

                    

                    

                    page.isViewingReport = true;
                    
                     
                })();  

            }).subscribe();

            Pubsub.subscription('create_market_report_selected_location', (data) => {

                loadingModal.show()

                const selectedLocation = data.selectedLocation;
                const city = selectedLocation?.city;
                const state = selectedLocation?.state;
                const postalCode = selectedLocation?.postalCode;
                const address = selectedLocation?.address;

                let reportData = {
                    property_type: 'Residential',
                    city: city,
                    postal_code: postalCode,
                    state_abbreviation: state,
                    street_address: address
                }

                if(selectedLocation.suggestType == 'street_address'){

                    const slipstreamData = {
                        deliveryLine: address,
                        city: city,
                        state: state,
                        zip: postalCode
                    }

                    blueroofMiddlewareApi.getSlipStreamAVM(slipstreamData).then((avm) => {

                        const beds = avm?.result?.attributes?.beds;
                        const baths = avm?.result?.attributes?.baths;
                        const sqft = avm?.result?.attributes?.size;
                        const yearBuilt = avm?.result?.attributes?.yearBuilt;
                        const price = avm?.result?.valuations?.default?.EMV;
                        const avmAddress = avm?.result?.address?.deliveryLine;
                        const latitude = avm?.result?.coordinates?.latitude;
                        const longitude = avm?.result?.coordinates?.longitude;

                        if(beds && baths && sqft){

                            estimates.beds = beds;
                            estimates.baths = baths;
                            estimates.sqft = sqft;

                            reportData.min_beds = beds - page.bedOffset;
                            reportData.max_beds = beds + page.bedOffset;
                            reportData.min_baths = baths - page.bathOffset;
                            reportData.max_baths = baths + page.bathOffset;
                            reportData.min_area = sqft - page.sqftOffset;
                            reportData.max_area = sqft + page.sqftOffset;

                            blueroofMiddlewareApi.previewMarketReport(reportData).then((data) => {
                                Pubsub.publish('open_market_report',{reportData: data, isNewReport:true})
                            }).catch((error) => {
                                loadingModal.hide()
                            })
                        }
                        else {
                            loadingModal.hide();

                            const getCodeAdress = {
                                streetAddress : address || avmAddress,
                                city : city,
                                state : state,
                                postalCode : postalCode
                            }

                            blueroofMiddlewareApi.getGeocodeAddress(getCodeAdress).then((geoCodeData) =>{
                                const streetViewData = {
                                    latitude: geoCodeData.latitude,
                                    longitude: geoCodeData.longitude,
                                    size: '200x200',
                                    fov: 50,
                                    heading: 0,
                                    pitch: 0
                                }

                                isThisYourHomeModal.setImage('');
                                blueroofMiddlewareApi.getStreetViewImage(streetViewData).then((image) => {
                                    isThisYourHomeModal.setImage(image);
                                }) 
                            
                                isThisYourHomeModal.setIsThisYourHome(beds || 0, baths || 0, sqft || 0)
                                isThisYourHomeModal.setYearBuilt(yearBuilt || 0);
                                isThisYourHomeModal.setPrice(price || 0);
                                isThisYourHomeModal.setAddress(address || avmAddress || "");
                                
                                isThisYourHomeModal.show(reportData);
                            })

                        
                        }
                    })
            
                }
                else{
                    blueroofMiddlewareApi.previewMarketReport(reportData).then((data) => {
                        Pubsub.publish('open_market_report',{reportData: data, isNewReport:true})
                    }).catch((error) => {
                        loadingModal.hide()
                    })
                }

            }).subscribe()

            Pubsub.subscription('delete_market_report', (reportId) => {
                
                blueroofMiddlewareApi.deleteMarketReport(reportId).then((data) => {
                    document.getElementById(reportId).remove();
                    deleteMarketReportModal.hide()

                    savedReportSection.show();
                    viewReportSection.hide();
                    pageSubHeader.hideTopHeader();
                    pageSubHeader.hideEditCriteriaButton();
                    pageSubHeader.hideSaveReportButton();
                    pageSubHeader.hideMoreMenuButton();
                    marketReportModal.hide();
                    pageSubHeader.setTitle('Market Reports');

                    page.isNewReport = false;
                    page.isEditingReport = false;
                    page.isReportSaved = false;
                    page.reportId = '';
                    page.isViewingReport = false;
                    page.isReportLoaded = false
                    
                    toast.show('Market Report Deleted')
                })
            }).subscribe()

            Pubsub.subscription('market_report_modal_save_button_pressed', (reportData) => {
                
                if(page.isViewingReport){
                    loadingModal.show()
                }
                const changes = reportData.changes;
                const marketReport = page.marketReport;
                let updatedReportData = {}

                updatedReportData.id = changes?.id || marketReport?.id;
                updatedReportData.name = changes?.report_name || marketReport?.report_name;
                updatedReportData.report_name = changes?.report_name || marketReport?.report_name;
                updatedReportData.mls_data_source_id = marketReport.mls_data_source_id;
                updatedReportData.recurring_frequency = 'every_week';
                updatedReportData.property_type = changes?.property_type || marketReport?.property_type;
                updatedReportData.radius = parseInt(changes.radius) || parseInt(marketReport.radius);
                updatedReportData.search_type = changes?.search_type || marketReport?.search_type;
                updatedReportData.city = changes?.city || marketReport?.city;
                updatedReportData.state_abbreviation = changes?.state_abbreviation || marketReport?.state_abbreviation;
                
                // these are broken out into if statements because
                // parseInt("0") return false and parseInt("1") returns true
                // so parseInt(changes.min_bath) || parseInt(marketReport.min_bath) will always
                // use the marketReport.min_bath value 
                if( changes?.min_baths ){
                    updatedReportData.min_baths = parseInt(changes.min_baths)
                }
                else{
                    updatedReportData.min_baths = parseInt(marketReport.min_baths)
                }
                
                if( changes?.max_baths ){
                    updatedReportData.max_baths = parseInt(changes.max_baths)
                }
                else{
                    updatedReportData.max_baths = parseInt(marketReport.max_baths)
                }

                if( changes?.min_beds ){
                    updatedReportData.min_beds = parseInt(changes.min_beds)
                }
                else{
                    updatedReportData.min_beds = parseInt(marketReport.min_beds)
                }

                if( changes?.max_beds ){
                    updatedReportData.max_beds = parseInt(changes.max_beds)
                }
                else{
                    updatedReportData.max_beds = parseInt(marketReport.max_beds)
                }

                if( changes?.min_price ){
                    updatedReportData.min_price = parseInt(changes.min_price)
                }
                else{
                    updatedReportData.min_price = parseInt(marketReport.min_price)
                }

                if( changes?.max_price ){
                    updatedReportData.max_price = parseInt(changes.max_price)
                }
                else{
                    updatedReportData.max_price = parseInt(marketReport.max_price)
                }

                if( changes?.min_area ){
                    updatedReportData.min_area = parseInt(changes.min_area)
                }
                else{
                    updatedReportData.min_area = parseInt(marketReport.min_area)
                }

                if( changes?.max_area ){
                    updatedReportData.max_area = parseInt(changes.max_area)
                }
                else{
                    updatedReportData.max_area = parseInt(marketReport.max_area)
                }

                if( changes?.min_year_built ){
                    updatedReportData.min_year_built = parseInt(changes.min_year_built)
                }
                else{
                    updatedReportData.min_year_built = parseInt(marketReport.min_year_built)
                }

                if( changes?.max_year_built ){
                    updatedReportData.max_year_built = parseInt(changes.max_year_built)
                }
                else{
                    updatedReportData.max_year_built = parseInt(marketReport.max_year_built)
                }

                if( changes?.min_lot ){
                    updatedReportData.min_lot = parseInt(changes.min_lot)
                }
                else{
                    updatedReportData.min_lot = parseInt(marketReport.min_lot)
                }

                if( changes?.max_lot ){
                    updatedReportData.max_lot = parseInt(changes.max_lot)
                }
                else{
                    updatedReportData.max_lot = parseInt(marketReport.max_lot)
                }
                
            
                if(marketReport.search_type == 'area'){
                    
                    updatedReportData.geo_json = changes?.geo_json || marketReport?.geo_json;
                            
                }
                else {
                    updatedReportData.lat_lng = changes?.lat_lng || marketReport?.lat_lng;
                }

                if(page.isViewingReport){
                     blueroofMiddlewareApi.previewMarketReport(updatedReportData).then((data) => {
                        data.name = updatedReportData?.name || 'Preview Market Report';
                        Pubsub.publish('open_market_report',{reportData: data, isNewReport:page.isNewReport})

                        if(!page.isNewReport){
                            blueroofMiddlewareApi.updateMarketReport(updatedReportData.id, updatedReportData).then((data) => {
                                lifecycle.removeUnsavedChanges('unsavedChanges');
                                
                                toast.show('Market Report Saved')
                            }).catch((e) => {
                                
                                toast.show('Error saving market report', true)
                            })
                        }
                        marketReportModal.setMarketReportData(updatedReportData)
                        marketReportModal.hide();
                        
                        loadingModal.hide()
                        
                    }).catch((e) => {
                        loadingModal.hide()
                    })
                }
                else{
                    let updatedMarketReport = document.getElementById(reportData.marketReport.id);
                    
                    updatedMarketReport.setAttribute('market_report', JSON.stringify(updatedReportData));

                    marketReportModal.setMarketReportData(updatedReportData)

                    blueroofMiddlewareApi.updateMarketReport(reportData.marketReport.id, updatedReportData).then((data) => {
                        lifecycle.removeUnsavedChanges('unsavedChanges');
                        
                        toast.show('Market Report Saved')
                    }).catch((e) => {
                        
                        toast.show('Error saving market report',true)
                    })

                    }
            }).subscribe()

            Pubsub.subscription('save_report_modal_save_clicked', (data) => {

                let name = data.report_title
                let frequency;

                    //valid options for frequency  { never, every_week, every_2_weeks, every_month, quarterly, annually }
                switch(data.report_frequency){
                    case 'Never':
                        frequency = 'never';
                        break;
                    case 'Every Week':
                        frequency = 'every_week';
                        break;
                    case 'Every 2 Weeks':
                        frequency = 'every_2_weeks';
                        break;
                    case 'Every Month':
                        frequency = 'every_month';
                        break;
                    case 'Quarterly':
                        frequency = 'quarterly';
                        break;
                    case 'Annually':
                        frequency = 'annually';
                        break;
                }
                
                let newSavedMarketReport = {
                    mls_data_source_id : page?.marketReport?.mls_data_source_id,
                    property_type: page?.marketReport?.property_type,
                    radius: parseInt(page?.marketReport?.radius),
                    search_type: page?.marketReport?.search_type,
                    recurring_frequency : frequency,
                    geo_json: page?.marketReport?.geo_json,
                    city: page?.marketReport?.city,
                    lat_lng: page?.marketReport?.lat_lng,
                    min_area: parseInt(page?.marketReport?.min_area ),
                    min_baths: parseInt(page?.marketReport?.min_baths ),
                    min_beds: parseInt(page?.marketReport?.min_beds ),
                    min_lot: parseInt(page?.marketReport?.min_lot ),
                    min_price: parseInt(page?.marketReport?.min_price ),
                    min_year_built: parseInt(page?.marketReport?.min_year_built),
                    max_area: parseInt(page?.marketReport?.max_area),
                    max_baths: parseInt(page?.marketReport?.max_baths),
                    max_beds: parseInt(page?.marketReport?.max_beds),
                    max_lot: parseInt(page?.marketReport?.max_lot),
                    max_price: parseInt(page?.marketReport?.max_price),
                    max_year_built: parseInt(page?.marketReport?.max_year_built),
                    name : name,
                    postal_code: page?.marketReport?.postal_code,
                    state_abbreviation: page?.marketReport?.state_abbreviation,
                    street_address: page?.marketReport?.street_address

                }

                  

                if(page.isNewReport){

                
                    blueroofMiddlewareApi.createMarketReport(newSavedMarketReport).then((data) => {
                        lifecycle.removeUnsavedChanges('unsavedChanges');
                        saveReportModal.hide();
                        toast.show('Market Report Saved')

                        pageSubHeader.hideEditCriteriaButton();
                        pageSubHeader.hideSaveReportButton();

                        if(data?.search_type == 'area'){
                            pageSubHeader.showGetHomeValueButton();
                        }
                        pageSubHeader.showSellMyHomeButton();
                        pageSubHeader.showContactUsButton();

                        pageSubHeader.showMoreMenuButton();
                        pageSubHeader.setTitle(data?.name || '');

                        page.isNewReport = false;
                        page.marketReport = data;
                        page.reportId = data.id;

                    }).catch((e) => {
                        saveReportModal.hide();
                        toast.show('Error saving market report', true)
                    })
                }
                else{
                    blueroofMiddlewareApi.updateMarketReport(page.reportId, newSavedMarketReport).then((data) => {
                        lifecycle.removeUnsavedChanges('unsavedChanges');
                        saveReportModal.hide();
                        toast.show('Market Report Saved')
                    }).catch((e) => {
                        saveReportModal.hide();
                        toast.show('Error saving market report', true)
                    })
                }
            }).subscribe()

            Pubsub.subscription('save_report', () => {
                saveReportModal.show();
            }).subscribe()

            Pubsub.subscription('report_frequency_modal_save_clicked', (reportFrequency) => {

                let frequency;

                //valid options for frequency  { never, every_week, every_2_weeks, every_month, quarterly, annually }
                switch(reportFrequency){
                    case 'Never':
                        frequency = 'never';
                        break;
                    case 'Every Week':
                        frequency = 'every_week';
                        break;
                    case 'Every 2 Weeks':
                        frequency = 'every_2_weeks';
                        break;
                    case 'Every Month':
                        frequency = 'every_month';
                        break;
                    case 'Quarterly':
                        frequency = 'quarterly';
                        break;
                    case 'Annually':
                        frequency = 'annually';
                        break;
                }

                page.marketReport.recurring_frequency = frequency

                blueroofMiddlewareApi.updateMarketReport(page.reportId, page.marketReport).then((data) => {
                    lifecycle.removeUnsavedChanges('unsavedChanges');
                    toast.show('Market Report Saved')
                    frequencyModal.hide();
                }).catch((e) => {
                    toast.show('Error saving market report', true)
                })
                
            }).subscribe()

            Pubsub.subscription('slipstream_is_this_your_home_create', (data) => {

                const beds = parseInt(data?.slipStreamData?.beds || 0);
                const baths = parseInt(data?.slipStreamData?.baths || 0);
                const sqft = parseInt(data?.slipStreamData?.sqft?.toString().replaceAll(',','') || 0);

                let reportData = data.reportData

                if(beds > 0){
                    reportData.min_beds = beds - page.bedOffset;
                    reportData.max_beds = beds + page.bedOffset;
                }
                if(baths > 0){
                    reportData.min_baths = baths - page.bathOffset;
                    reportData.max_baths = baths + page.bathOffset;
                }
                if(sqft > 0){
                    reportData.min_area = sqft - page.sqftOffset;
                    reportData.max_area = sqft + page.sqftOffset;
                }
                loadingModal.show();

                blueroofMiddlewareApi.previewMarketReport(reportData).then((data) => {
                    Pubsub.publish('open_market_report',{reportData: data, isNewReport:true})
                }).catch((error) => {
                    loadingModal.hide()
                })

            }).subscribe()

            Pubsub.subscription('editHomeFactsClicked', (e) => {                
                if(page.marketReport.search_type == 'area'){
                    marketReportModal.show();
                }   
                else{
                    editHomeFactsModal.show();
                }  
            }).subscribe();

            Pubsub.subscription('editHomeFactsModalSaved', (e) => {
                marketReport.title.setAttribute('sqft',e?.sqft || 0)
                marketReport.title.setAttribute('beds', e?.beds || 0)
                marketReport.title.setAttribute('baths', e?.baths || 0)
                marketReport.estimatedHomeValue.setAttribute('sqft',e?.sqft || 0)
            }).subscribe();

            Pubsub.subscription('previewError', (statusCode) => {
                if(statusCode == 410){
                    mlsErrorModal.show()
                }
                else{
                    toast.show('Error building market report preview', true)
                }
            }).subscribe();


            Pubsub.subscription('get_home_value', () => {
                getYourHomeCTA.showGetHomeValueCTA();
            }).subscribe()

            Pubsub.subscription('sell_my_home', () => {
                let ctaProps = {
                    first_name : page.lead?.fname || '',
                    last_name : page.lead?.lname || '',
                    email_address : page.lead?.email || '',
                    phone_number : page.lead?.phone || '',
                    street_address : page.marketReport?.street_address || '',
                    city : page.marketReport?.city || '',
                    state : page.marketReport?.state_abbreviation || '',
                    beds : page.marketReport?.beds || 0,
                    baths : page.marketReport?.baths || 0,
                    sqft : page.marketReport?.sqft || 0,
                    year_built : ''
                }
                
                getYourHomeCTA.setData(ctaProps)
                getYourHomeCTA.showSellMyHomeCTA();
                 
            }).subscribe()

            Pubsub.subscription('contact_us', () => {
                let ctaProps = {
                    first_name : page.lead?.fname || '',
                    last_name : page.lead?.lname || '',
                    email_address : page.lead?.email || '',
                    phone_number : page.lead?.phone || '',
                }
               
                getYourHomeCTA.setData(ctaProps)
                getYourHomeCTA.showContactUsCTA();
            }).subscribe()

            Pubsub.publish('window_resize')

            let modalBackdrop = document.getElementsByClassName('center-modal');
            for(let i = 0; i < modalBackdrop.length; i++){
                modalBackdrop[i].addEventListener('click', (e) => {
                    if(e.target == modalBackdrop[i]){
                        modalBackdrop[i].style.display = 'none';
                    }
                });
            }

            document.addEventListener("click", (e) => {
                if(emptyMarketReport.element.getAttribute('data') != '[]') {
                    emptyMarketReport.element.setAttribute('data', '[]');
                }
            });
        })();
    }
});


</script>
 <div id="myportal-page" style="display:none">
    <div style=" position:relative; width:100%;";>
                <div id="drop-menu-backdrop" style="position:absolute; display:none; top:0; bottom:0; right:0;  width:100%; height:100%; display:none;z-index:200"></div>
        <div style="position:absolute;z-index:110; top:0; bottom:0; ">
             <place-menu></place-menu>
        </div>

        <div id="menu-backdrop" style="position:absolute; display:none; top:0; bottom:0; right:0;  width:100%; height:100%; display:none;z-index:205"></div>
        <div style="position:absolute;z-index:210; top:0; bottom:0; right:0">
        
            <place-marketreportmodal
                id="market-report-modal">
            </place-marketreportmodal>
        </div>
            
        <div class="collection-page" style="flex:1;">
            <div class="page-width-parent">
                <place-pagesubheader
                    title="MARKET REPORTS"  
                    show_top_header="false" 
                    show_button="false"
                ></place-pagesubheader>

                <div id="saved-report-section">
            
                    <place-emptymarketreport image="https://images.brivityidx.com/assets/images/mobile-library-images/empty_house.png" style="display:none" data="%5b%5d.html"></place-emptymarketreport>
                
            
                    <div id="report-section" style="display:flex; flex-wrap:wrap; margin-top:24px;" >
                        <place-createmarketreport style="display:none;z-index:100;" data="%5b%5d.html">
                        </place-createmarketreport>
                    </div>
                    <place-pagination id="reports-pagination" style="display:none"></place-pagination>

                    <div id="gethomeapp-parent" style="margin:0 0 32px">
                        <place-gethomeappreports id="reportListingViewGetHomeApp" container_styles="bg-[#F9F9F9]"></place-gethomeappreports>
                    </div>
                </div>

                <div id="view-report-section" class="report" style="display:none">
                    <div   class="report-section-container">
                        <place-marketreporttitle 
                            new_market_report_title="false"
                            toggle_market_report="true"
                            state=""
                            city=""
                            value_range_low="0"
                            value_range_high="0">
                        </place-marketreporttitle>
                    </div>

                    <div id="estimatedHomeValue" class="report-section-container">
                        <place-estimatedhomevalue
                        
                        ></place-estimatedhomevalue>
                    </div>
                    
                    <div id="equityEstimate" class="report-section-container">
                        <place-equityestimate
                        min_price="0"
                        max_price="0"
                        ></place-equityestimate>
                    </div>
                    
                    <div id="homeEquity" class="report-section-container">
                        <place-homeequity
                            sell_price="0"
                            remaining_balance="0"
                        ></place-homeequity>
                    </div>
                    
                    <div id="thinkingAbout" class="report-section-container">
                        <place-thinkingabout></place-thinkingabout>
                    </div>

                    <div class="report-section-container">
                        <place-markettemperatureblock>
                        </place-markettemperatureblock>
                    </div>

                    <div class="report-section-container">
                        <place-doesmyhomecompare>
                        </place-doesmyhomecompare>
                    </div>

                    <div class="report-section-container">
                        <place-marketstatsblock
                            items='[{ "icon": "zap", "label": "New Homes", "value": "0"},{ "icon": "tag", "label": "Sold", "value": "1"},{ "icon": "dollar-sign", "label": "Average", "value": ""},{ "icon": "calendar", "label": "Days On Market", "value": "3"}]'>
                        </place-marketstatsblock>
                    </div>

                    <div class="report-section-container" id="map">
                        <place-mapblock> 
                        </place-mapblock>
                    </div>

                    <div id="sendMessage" class="report-section-container">
                        <place-sendmessage></place-sendmessage>
                    </div>

                    <div id="getHomeApp" class="report-section-container">
                        <place-gethomeapp id="reportViewGetHomeApp" container_styles="rounded-[12px]" column_view="true"></place-gethomeapp>
                    </div>
                
                </div>
            </div>
        </div>
    </div> 

    <place-getyourhomecta
        class="center-modal"
        style="display:none"
        interest_items='[{"text":"Looking to sell ASAP"},{"text":"Looking to sell (1-3 months)"},{"text":"Looking to sell (3-6 months)"},  {"text":"Looking to sell (6-12 months)"},{"text":"Looking to sell (12+ months)"}, {"text":"Just curious"}]'
    >
    </place-getyourhomecta>


    <place-basicmodal 
        id="delete-market-report-modal"
        class="center-modal"
        style="display:none"
        title="Delete Market Report"
        sub_title="Deleting this market report will permanently remove it from your account. Are you sure you would like to delete this report?"
        title_icon="trash"
        primary_button_text="Delete"
        tertiary_button_text="Cancel"
    ></place-basicmodal>

    <place-basicmodal 
        id="mls-error-modal"
        class="center-modal"
        style="display:none"
        title="Home Value Estimate"
        sub_title=""
        title_icon=""
        primary_button_text="Contact Agent"
        tertiary_button_text="Close"
    ></place-basicmodal>

    <place-basicmodal 
        container_style="w-[412px] h-[292px] rounded-[1px]"
        id="verify-home-estimate-modal"
        class="center-modal"
        style="display:none"
        title="Verify My Home Estimate"
        sub_title="Your agent will be notified and will reach out shortly to verify your home estimate!"
        title_icon=""
        primary_button_text="Verify My Home Estimate"
        tertiary_button_text="Cancel"
        stacked_buttons="true"
    ></place-basicmodal>

    <place-loadingmodal
       title="Hang tight while we build your report"
       image="../../cdn1.brivityidx.com/assets/images/mobile-library-images/loadinghouse.gif"
       sub_title=""
       class="center-modal"
      style="display:none">
    </place-loadingmodal>

    <place-isthisyourhome class="center-modal" style="display:none"></place-isthisyourhome>

    <place-savereportpopup
        loading="false"
        report_name=""
        class="center-modal"
        style="display:none"
    >
    </place-savereportpopup>

    <place-frequencymodal
        class="center-modal"
        style="display:none"
        title="Market Report Frequency"
        title_icon="clock"
        menu_items='[{ "text": "Every Week" },{ "text": "Every 2 Weeks" },{ "text": "Every Month" },{ "text": "Quarterly" },{ "text": "Annually" },{ "text": "Never" }]'
        selected_menu_item="Never"
    >
    </place-frequencymodal>

    <place-edithomefactsmodal
            class="center-modal"
            style="display:none"
            home_facts='{"beds": 3, "baths": 2, "sqft": 1500}'
    ></place-edithomefactsmodal>

    <place-otherestimates
        class="center-modal"
        style="display:none"     
    ></place-otherestimates>

    <place-edithomeequity
        class="center-modal equity-modal"
        style="display:none"
        equity_facts='{"home_sale_price":"0","remaining_balance":"0","estimated_equity":"0"}'
    ></place-edithomeequity>

    <place-generictoast appear_from_both="true" container_style="right-1/2 z-200"></place-generictoast>
</div>

<!-- Load JS here for greater good =============================-->

<!-- js includes --><!-- end js includes -->


<footer id="footer-9n" data-selector="footer" style="outline: none; cursor: inherit;"><div class="container">
        <div class="row">
            <div class="col-md-2">
                <div class="render-menu hot-nav">
                    <ul class="" style="outline: none; cursor: inherit;"><li class="nav-item" data-selector="li" style="outline: none; cursor: inherit;">
                            <a href="../index-2.html" style="outline: none; cursor: inherit;">Home</a>
                        </li>
                        <li class="nav-item" data-selector="li" style="outline: none; cursor: inherit;">
                            <a href="../search.html" style="outline: none; cursor: inherit;">Listings</a>
                        </li>
                        <li class="nav-item" data-selector="li" style="outline: none; cursor: inherit;">
                            <a href="../buying.html" style="outline: none; cursor: inherit;">Buying</a>
                        </li>
                        <li class="nav-item" data-selector="li" style="outline: none; cursor: inherit;">
                            <a class="white" href="../selling.html" style="outline: none; cursor: inherit;">Selling</a>
                        </li>
                        <!--
                        <li class="nav-item" data-selector="li" style="outline: none; cursor: inherit;">
                            <a href="/sitemap/city">Cities</a>
                        </li>
                        -->
                        <li class="nav-item" data-selector="li" style="outline: none; cursor: inherit;">
                            <a href="../financing.html" style="outline: none; cursor: inherit;">Financing</a>
                        </li>
                        <li class="nav-item" data-selector="li" style="outline: none; cursor: inherit;">
                            <a href="../homevalue.html" style="outline: none; cursor: inherit;">Home Value</a>
                        </li>
                        <li class="nav-item" data-selector="li" style="outline: none; cursor: inherit;">
                            <a href="../realestateagent/search.html" style="outline: none; cursor: inherit;">Who We Are</a>
                        </li>
                        <li class="nav-item" data-selector="li" style="outline: none; cursor: inherit;">
                            <a href="../connect.html" style="outline: none; cursor: inherit;">Connect</a>
                        </li>
                    </ul></div>
            </div>
            
            <div class="col-md-7 col-md-offset-1">
                <form id="form-contact1" action="#" class="form-contact">
                    <div class="row margin-bottom-0">
                        <div class="col-sm-6" style="margin-bottom: 20px;">
                            <div class="form-group">
                                <input name="contact1_fname" id="contact1_fname" placeholder="First Name" class="form-control contact_fname" type="text" required="" style='background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAfBJREFUWAntVk1OwkAUZkoDKza4Utm61iP0AqyIDXahN2BjwiHYGU+gizap4QDuegWN7lyCbMSlCQjU7yO0TOlAi6GwgJc0fT/fzPfmzet0crmD7HsFBAvQbrcrw+Gw5fu+AfOYvgylJ4TwCoVCs1ardYTruqfj8fgV5OUMSVVT93VdP9dAzpVvm5wJHZFbg2LQ2pEYOlZ/oiDvwNcsFoseY4PBwMCrhaeCJyKWZU37KOJcYdi27QdhcuuBIb073BvTNL8ln4NeeR6NRi/wxZKQcGurQs5oNhqLshzVTMBewW/LMU3TTNlO0ieTiStjYhUIyi6DAp0xbEdgTt+LE0aCKQw24U4llsCs4ZRJrYopB6RwqnpA1YQ5NGFZ1YQ41Z5S8IQQdP5laEBRJcD4Vj5DEsW2gE6s6g3d/YP/g+BDnT7GNi2qCjTwGd6riBzHaaCEd3Js01vwCPIbmWBRx1nwAN/1ov+/drgFWIlfKpVukyYihtgkXNp4mABK+1GtVr+SBhJDbBIubVw+Cd/TDgKO2DPiN3YUo6y/nDCNEIsqTKH1en2tcwA9FKEItyDi3aIh8Gl1sRrVnSDzNFDJT1bAy5xpOYGn5fP5JuL95ZjMIn1ya7j5dPGfv0A5eAnpZUY3n5jXcoec5J67D9q+VuAPM47D3XaSeL4AAAAASUVORK5CYII="); background-repeat: no-repeat; background-attachment: scroll; background-size: 16px 18px; background-position: 98% 50%; cursor: auto;'></div>
                        </div>
                        <div class="col-sm-6" style="margin-bottom: 20px;">
                            <div class="form-group">
                                <input name="contact1_lname" id="contact1_lname" placeholder="Last Name" class="form-control contact_lname" type="text" required=""></div>
                        </div>
                    </div>
                    <div class="row margin-bottom-0">
                        <div class="col-sm-6" style="margin-bottom: 20px;">
                            <div class="form-group">
                                <input name="contact1_email" id="contact1_email" placeholder="Email Address" class="form-control contact_email" type="email" required=""></div>        
                        </div>
                        <div class="col-sm-6" style="margin-bottom: 20px;">
                            <div class="form-group">
                                <input name="contact1_phone" id="contact1_phone" placeholder="Phone Number" class="form-control contact_phone" type="tel" required=""></div>                                
                        </div>
                    </div>
                    <div class="row margin-bottom-0">
                        <div class="col-sm-12" style="margin-bottom: 20px;">
                            <i class="fa fa-caret-down" style="position: absolute; top: 13px; right: 30px; font-size: 14px; outline: none; cursor: inherit;" data-selector=".fa"></i>
                            <select name="lead_type" style="width: 100%; height: 40px; padding-left: 12px; font-size: 14px; border-radius: 0; -webkit-appearance: none; -webkit-border-radius: 0px;"><option value="buyer">I'm interested in buying a home</option><option value="seller">I'm interested in selling a home</option><option value="seller/buyer">I'm interested in buying and selling</option><option value="tenant">I'm interested in finding a home to rent</option><option value="recruit">I'm interested in a real estate career</option><option value="n/a">Other reason to contact an agent</option></select></div>
                    </div>
                    <div class="row margin-bottom-0">
                        <div class="col-sm-12" style="margin-bottom: 20px;">
                            <textarea name="contact1_message" id="contact1_message" class="form-control contact_message" rows="3" placeholder="Your Message"></textarea></div>
                    </div>
                    <div class="text-right">
                        <input type="text" id="contact1_robot_field" name="contact1_robot_field" style="display: none;"><button type="submit" class="btn btn-primary squared" data-selector="a.btn, button.btn, button" style="outline: none; cursor: inherit;">Send Us A Message</button>
                    </div>
                <div id="honeypot-div">
                            <input name="age_required" id="age_required" value="" type="text" style="display: none;"></div></form>
            </div>
            
            <div class="col-md-2 col-md-offset-1">
                <img class="ftr-logo" src="../../images.brivityidx.com/assets/images/uploads/100590/team-logo-green.html" alt="Buy and Sell Homes Real Estate" data-selector="img" style="border-style: none; outline: none; cursor: inherit;"><h3 class="text-left margin-top-40" data-selector="h1, h2, h3, h4, h5, h6" style="outline: none; cursor: inherit;">Reach Out</h3>
                <div class="text-left" style="outline: medium none; cursor: inherit;">
                    <ul style="list-style-type: none; outline: none; cursor: inherit;"><li data-selector="li" style="outline: none; cursor: inherit;">
                            <span class="agent_address_dynamic dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading">37915 Heather Place</span>
                            <br><span class="agent_city_dynamic dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading">Dade City</span>, <span class="agent_state_dynamic dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading">FL</span> <span class="agent_zip_dynamic dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading">33525</span>
                        </li>
                        <li data-selector="li" style="outline: none; cursor: inherit;">
                            <a class="agent_phone_dynamic dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading" href="tel:3524375673" src="tel:" style="outline: none; cursor: inherit;">(352) 437-5673</a>
                        </li>
                    </ul></div>
            </div>
        </div>
        
        <div class="row ftr-anchor">
            <div class="col-sm-6 anchor-col no-padding editContent" style="outline: none; cursor: inherit;" data-selector=".editContent">
                <p class="no-margin" style="outline: none; cursor: inherit;" data-selector="p"><span class="get_this_year">2022</span> Â© <b>Vitis Realty</b></p>
                <p style="margin: 10px 0px; outline: none; cursor: inherit;" data-selector="p"> 
                    <img src="../../images.brivityidx.com/assets/images/uploads/1428/Equal-Housing-Realtor_gray50.html" alt="Equal Housing | Realtor" style="width: 50px; outline: none; cursor: inherit;" data-selector="img">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â </p>
            </div>
            <div class="col-sm-6 anchor-col no-padding">
                <ul class="list-inline social" style="outline: none; cursor: inherit;"><li data-selector="li" style="outline: none; cursor: inherit;">
                        <a class="agent_facebook_dynamic dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading" href="https://www.facebook.com/vitisrealty" target="_blank" style="outline: none; cursor: inherit;">
                            <svg viewbox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg></a>
                    </li>
                
                    <li data-selector="li" style="outline: none; cursor: inherit;">
                        <a class="agent_twitter_dynamic dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading" href="https://twitter.com/vitisrealty" target="_blank" style="outline: none; cursor: inherit;">
                           <svg viewbox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg></a>
                    </li>
                
                    <li data-selector="li" style="outline: none; cursor: inherit;">
                        <a class="agent_linkedin_dynamic dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading" href="https://www.linkedin.com/company/vitis-realty" target="_blank" style="outline: none; cursor: inherit;">
                            <svg viewbox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg></a>
                    </li>
                    <li data-selector="li" style="outline: none; cursor: inherit;">
                        <a class="agent_instagram_dynamic dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading" href="https://www.instagram.com/vitisrealty" target="_blank" style="outline: none; cursor: inherit;">
                            <svg viewbox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round" class="css-i6dzq1"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.5" y2="6.5"></line></svg></a>
                    </li>
                   
                    <li data-selector="li" style="outline: none; cursor: inherit;">
                        <a class="agent_youtube_dynamic dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading" href="https://www.youtube.com/user/BrivityInfo" target="_blank" style="outline: none; cursor: inherit;">
                          </a>
                    </li>
                     <li data-selector="li" style="outline: none; cursor: inherit;">
                        <a class="agent_pinterest_dynamic dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading dynamic_loading" href="https://www.pinterest.com/brivityv/" target="_blank" style="outline: none; cursor: inherit;"></a>
                    </li>
                    
                </ul></div>
        </div>
    </div>
</footer>
        </div>
        <!-- /#page -->

        <!-- SEO Footer Anchor -->
        <section id="seo-anchor">
            <div class="container">
                <ul class="powered-by">
                    <li>Powered by <a class="pb-vendor" href="http://www.brivity.com/"> Brivity</a></li>
                    <li class="pb-admin-login"><a href="https://sitebuilder.brivity.com/signon"><span class='pb-admin-login-text'>Admin Log In</span></a></li>
                </ul>

                <ul class="seo-anchor-links">
                    <li><a href="../privacy_policy.html">Privacy Policy</a></li>
                    <li><a href="../tos.html">DMCA &amp; Terms of Service</a></li>
                    <li><a id="sitemapUrl" href="#" style="display: none;">Sitemap</a></li>
                    <!---show_seo_is_present <li><a href="/sitemap/newest-listings">Listings for Sale</a></li> show_seo_is_present-->
                </ul>

            </div>
        </section>

        <!--    ask for change password modal form-->
        <div class="modal fade" id="asking-password-modal" tabindex="-1" role="dialog">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-body text-center">
                        <h2 class="margin-bottom-20">Send Me a Recovery Email</h2>
                        <div id="get-token-success-msg" class="alert alert-success hide">
                            <strong>Success!</strong> <span>Email sent.</span>
                        </div>

                        <div class="alert alert-danger hide">
                            <strong>Error!</strong> <span>Error sending email.</span>
                        </div>
                        <div class="row margin-bottom-0">
                            <div class="col-md-8 col-md-offset-2">
                                <div class="form-group">
                                    <input type="email" id="asking_password" class="form-control" placeholder="Your Email Address">
                                </div>
                            </div>
                        </div>
                        <div class="flex jc-center">
                            <button id="get-email-token" class="btn btn-primary"><div class="flex ai-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>Send me an email</div></button>
                            <a id="cancel-ask-token" data-dismiss="modal" class="btn btn-default"><div class="flex ai-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>Cancel</div></a>
                        </div>

                        <div class="flex jc-center">
                            <a id="back-to-sign-up"><h5>Back to Sign up</h5></a>
                        </div>

                    </div>
                </div>
            </div>
        </div>

        <!--    change password modal form-->
        <div class="modal fade" id="change-password-modal" tabindex="-1" role="dialog">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-body text-center">
                        <h2 class="margin-bottom-20">Change Password</h2>

                        <div id="pwchange-success" class="alert alert-success hide">
                            <strong>Success!</strong> <span>Password changed.</span>
                        </div>

                        <div id="pwchange-error" class="alert alert-danger hide">
                            <strong>Error!</strong> <span>Error on changing password.</span>
                        </div>

                        <div class="row margin-bottom-0">
                            <div class="col-md-8 col-md-offset-2">
                                <div class="form-group">
                                    <input type="password" id="user_npassword" class="form-control" placeholder="New password">
                                </div>
                            </div>
                            <div class="col-md-8 col-md-offset-2">
                                <div class="form-group">
                                    <input type="password" id="user_npassword_c" class="form-control" placeholder="Repeat passwords">
                                </div>
                            </div>
                        </div>
                        <div class="flex jc-center">
                            <button id="changePassword" class="btn btn-primary"><div class="flex ai-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg> Change Password<div></button>
                            <a data-dismiss="modal" class="btn btn-default"><div class="flex ai-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg> Cancel</div></a>
                        </div>
                        <div class="flex jc-center">
                            <a href="#" id="go-to-login">
                                <h5>Back to login</h5>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- facebook login modal -->
        <div class="modal fade" id="facebook-login-modal" tabindex="-1" role="dialog">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-body text-center">
                        <h2 class="margin-bottom-20">Confirm Your Account</h2>
                        <div class="row margin-bottom-0">
                            <div class="col-md-8 col-md-offset-2">
                                <p>Search and view Exclusive Property Listings.</p>
                            </div>
                        </div>
                        <div class="flex jc-center">
                        <button class=" btn frc-btn-facebook" onclick="fbLogin()" scope="public_profile,email" onlogin="checkLoginState();">
                            <div class="flex ai-center">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/>
                                </svg>
                                <span>Continue with Facebook</span>
                            </div>
                        </button>
                        </div>
                        <div class="flex jc-center">
                            <p>We'll never post to your social networks</p>
                        </div>
                        
                    </div>
                </div>
            </div>
        </div>

        <!-- Sign Up Modal -->
        <div class="modal fade" id="sign-up-modal" tabindex="-1" role="dialog">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-body text-center">
                        <div class="tab-content">
                            <div role="tabpanel" class="tab-pane fade in active" id="create">
                                <form id="signupForm" action="#">
                                    <h2>Sign Up for a Free Account</h2>
                                    <p>When you sign up for an account, you can save properties, receive new listing notifications,
                                        view property comparables, and sign up to receive monthly market reports.</p>
                                    <input type="text" id="sgnf_h_robot_field" name="sgnf_h_robot_field" style="display: none;">
                                    <div class="row margin-bottom-0">
                                        <div class="col-md-8 col-md-offset-2">
                                            <div class="form-group">
                                                <input type="text" id="signup_fname" class="form-control" required pattern="\b\w+\b(?:.*?\b\w+\b){1}" oninvalid="setCustomValidity('Please enter First and Last Name')"
                                                    onchange="try{setCustomValidity('')}catch(e){}" placeholder="Full Name">
                                            </div>
                                            <div class="form-group">
                                                <input type="email" id="signup_email" class="form-control" required="" placeholder="Your Email Address">
                                            </div>
                                            <div class="form-group">
                                                <input type="tel" id="signup_phone" class="form-control" required placeholder="Your Phone Number (Used as password)">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="flex jc-center">
                                        <button type="submit" id="signupBtn" class="btn btn-primary"><div class="flex ai-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg> Create <span class="hidden-xs hidden-sm">My Free Account</span></div></button>

                                        <a id="signupCancelBtn" class="btn btn-default" data-dismiss="modal"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg> Cancel</a>
                                    </div>
                                    <a href="#signin" aria-controls="signin" role="tab" data-toggle="tab">
                                        <h5>Already Have an Account?</h5>
                                    </a>
                                </form>
                                <div class="flex jc-center">
                                    <button class=" btn frc-btn-facebook" onclick="fbLogin()" scope="public_profile,email" onlogin="checkLoginState();">
                                        <div class="flex ai-center">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/>
                                            </svg>
                                            <span>Facebook</span>
                                        </div>
                                    </button>

                                    <button class="btn frc-btn-google google-signin-btn" onlogin="checkLoginState();">
                                    <div class="flex ai-center">
                                        <svg version="1.1" id="Layer_1" style="width: 20px; height: 20px; fill: #fff;" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve">
                                            <g>
                                                <g>
                                                    <path d="M507.527,208.179c-0.908-4.782-5.088-8.242-9.955-8.242H261.404c-5.596,0-10.132,4.536-10.132,10.132v97.266
                                                        c0,5.596,4.536,10.132,10.132,10.132h115.967c-11.752,23.149-30.065,42.7-52.671,55.958c-20.729,12.168-44.485,18.599-68.7,18.599
                                                        c-56.417,0-107.615-35.479-127.404-88.296c-5.72-15.213-8.62-31.271-8.62-47.729c0-15.134,2.471-30.009,7.34-44.206
                                                        c18.871-54.919,70.586-91.818,128.685-91.818c25.528,0,50.398,7.11,71.916,20.561c3.684,2.303,8.427,2.001,11.788-0.752
                                                        l79.65-65.209c2.341-1.917,3.703-4.78,3.714-7.804c0.011-3.026-1.332-5.897-3.66-7.83C373.632,20.933,315.599,0,256,0
                                                        C114.841,0,0,114.841,0,256c0,42.345,10.552,84.299,30.516,121.326C75.307,460.396,161.708,512,256,512
                                                        c59.004,0,116.586-20.556,162.139-57.879c44.922-36.807,76.269-88.19,88.261-144.677c3.715-17.449,5.6-35.431,5.6-53.445
                                                        C512,239.906,510.495,223.817,507.527,208.179z M256,20.264c50.746,0,100.257,16.477,140.753,46.628l-64.4,52.724
                                                        c-23.24-13.043-49.482-19.904-76.353-19.904c-61.934,0-117.53,36.511-142.555,92.184l-62.849-51.454
                                                        C91.079,68.767,167.977,20.264,256,20.264z M20.264,256c0-34.585,7.488-67.453,20.924-97.071l64.819,53.067
                                                        c-4.173,14.251-6.295,29.018-6.295,44.004c0,16.43,2.525,32.523,7.502,47.94l-64.412,52.727
                                                        C28.041,325.39,20.264,290.848,20.264,256z M256,491.736c-84.05,0-161.291-44.532-203.565-116.768l62.675-51.305
                                                        c11.504,23.986,28.887,44.597,50.889,60.122c26.427,18.647,57.549,28.504,90,28.504c25.424,0,50.411-6.197,72.719-17.94
                                                        l64.854,53.093C353.689,476.097,305.388,491.736,256,491.736z M486.581,305.23c-10.63,50.067-37.787,95.775-76.714,129.362
                                                        l-62.917-51.508c25.118-18.016,44.552-43.208,55.414-72.195c1.166-3.111,0.732-6.597-1.16-9.327
                                                        c-1.893-2.73-5.005-4.359-8.327-4.359H271.536v-77.003h217.493c1.798,11.78,2.707,23.786,2.707,35.799
                                                        C491.736,272.599,490.002,289.161,486.581,305.23z"></path>
                                                </g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                        </svg>
                                        Google
                                    </div>
                                </button>
                                </div>
                                <div class="opt-out"> By digitally signing this form you are providing <span class="agent_name_dynamic"></span> with your express written consent to send you business and marketing communications via text messages (SMS), email, and by calls or prerecorded messages dialed by a natural person or by an automatic or automated telephone dialing system. This express written consent applies to each such email address or telephone number that you provide to us now or in the future and permits such communications regardless of their purpose.</div>
                                <div class="opt-out-href">
                                    <a href="../privacy_policy.html">Privacy Policy</a>
                                    |
                                    <a href="../tos.html">Terms & Conditions</a>
                                </div>
                            </div>
                            <div role="tabpanel" class="tab-pane fade" id="signin">
                                <h2 class="margin-bottom-20">Login to Your Account</h2>
                                <div class="row margin-bottom-0">
                                    <div class="col-md-8 col-md-offset-2">
                                        <div class="form-group">
                                            <input type="email" id="search_username" class="form-control" placeholder="Your Email Address">
                                        </div>
                                        <div class="form-group">
                                            <input type="password" id="search_password" class="form-control" required="" placeholder="Your Password">
                                        </div>
                                    </div>
                                </div>
                                <div class="flex jc-center">
                                    <span id="loginErrorMessage" class="alert alert-warning" style="display: none;"></span>
                                </div>
                                <div class="flex jc-center">
                                    <button id="loginBtn" class="btn btn-primary"><div class="flex ai-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-log-in"><path d="M14 22h5a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-5"></path><polyline points="11 16 15 12 11 8"></polyline><line x1="15" y1="12" x2="3" y2="12"></line></svg> Login <span class="hidden-xs hidden-sm">to My Account</span></div></button>
                                    <a id="loginCancelBtn" class="btn btn-default" data-dismiss="modal">
                                        <div class="flex ai-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg> Cancel</div>
                                    </a>
                                </div>
                                <div class="flex jc-center ai-center">
                                    <button class=" btn frc-btn-facebook" onclick="fbLogin()" scope="public_profile,email" onlogin="checkLoginState();">
                                        <div class="flex ai-center">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/>
                                            </svg>
                                            <span>Facebook</span>
                                        </div>
                                    </button>

                                    <button class="btn frc-btn-google google-signin-btn" onlogin="checkLoginState();">
                                    <div class="flex ai-center">
                                        <svg version="1.1" id="Layer_1" style="width: 20px; height: 20px; fill: #fff;" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve">
                                            <g>
                                                <g>
                                                    <path d="M507.527,208.179c-0.908-4.782-5.088-8.242-9.955-8.242H261.404c-5.596,0-10.132,4.536-10.132,10.132v97.266
                                                        c0,5.596,4.536,10.132,10.132,10.132h115.967c-11.752,23.149-30.065,42.7-52.671,55.958c-20.729,12.168-44.485,18.599-68.7,18.599
                                                        c-56.417,0-107.615-35.479-127.404-88.296c-5.72-15.213-8.62-31.271-8.62-47.729c0-15.134,2.471-30.009,7.34-44.206
                                                        c18.871-54.919,70.586-91.818,128.685-91.818c25.528,0,50.398,7.11,71.916,20.561c3.684,2.303,8.427,2.001,11.788-0.752
                                                        l79.65-65.209c2.341-1.917,3.703-4.78,3.714-7.804c0.011-3.026-1.332-5.897-3.66-7.83C373.632,20.933,315.599,0,256,0
                                                        C114.841,0,0,114.841,0,256c0,42.345,10.552,84.299,30.516,121.326C75.307,460.396,161.708,512,256,512
                                                        c59.004,0,116.586-20.556,162.139-57.879c44.922-36.807,76.269-88.19,88.261-144.677c3.715-17.449,5.6-35.431,5.6-53.445
                                                        C512,239.906,510.495,223.817,507.527,208.179z M256,20.264c50.746,0,100.257,16.477,140.753,46.628l-64.4,52.724
                                                        c-23.24-13.043-49.482-19.904-76.353-19.904c-61.934,0-117.53,36.511-142.555,92.184l-62.849-51.454
                                                        C91.079,68.767,167.977,20.264,256,20.264z M20.264,256c0-34.585,7.488-67.453,20.924-97.071l64.819,53.067
                                                        c-4.173,14.251-6.295,29.018-6.295,44.004c0,16.43,2.525,32.523,7.502,47.94l-64.412,52.727
                                                        C28.041,325.39,20.264,290.848,20.264,256z M256,491.736c-84.05,0-161.291-44.532-203.565-116.768l62.675-51.305
                                                        c11.504,23.986,28.887,44.597,50.889,60.122c26.427,18.647,57.549,28.504,90,28.504c25.424,0,50.411-6.197,72.719-17.94
                                                        l64.854,53.093C353.689,476.097,305.388,491.736,256,491.736z M486.581,305.23c-10.63,50.067-37.787,95.775-76.714,129.362
                                                        l-62.917-51.508c25.118-18.016,44.552-43.208,55.414-72.195c1.166-3.111,0.732-6.597-1.16-9.327
                                                        c-1.893-2.73-5.005-4.359-8.327-4.359H271.536v-77.003h217.493c1.798,11.78,2.707,23.786,2.707,35.799
                                                        C491.736,272.599,490.002,289.161,486.581,305.23z"></path>
                                                </g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                            <g>
                                            </g>
                                        </svg>
                                        Google
                                    </div>
                                </button>
                                </div>

                                <div class="row">
                                    <div class="col-sm-6">
                                        <a href="#create" aria-controls="create" role="tab" data-toggle="tab">
                                            <h5>Don't Have an Account?</h5>
                                        </a>
                                    </div>
                                    <div class="col-sm-6">
                                        <a href="#" id="open-forgot-pass">
                                            <h5>Forgot your password?</h5>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- sign up questions -->
        <div class="popupOverlay"></div>
        <div class="popupCTA">
            <div class="closeCTA">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
            </div>
            <div class="popupBody">
                <iframe id="signup-question-iframe" style="display:none" src="#" frameborder="0"></iframe>
                <div class="followUp message">
                    <img class="messageIcon" src="../../cdn1.brivityidx.com/assets/images/house1.png" alt="home">
                    <h3 class="popupHeadline">Are you buying or selling a home?</h3>
                    <div class="circleBtns">
                        <div class="circleBtnWrapper followUpBtns">
                            <div class="circleBtn" onclick="signupQuestionNext('buy','Buying')" id="buying">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-check"><polyline points="20 6 9 17 4 12"></polyline></svg>
                            </div>
                            <span class="circleBtnLabel">Buying</span>
                        </div>

                        <div class="circleBtnWrapper followUpBtns">
                            <div class="circleBtn" onclick="signupQuestionNext('sell','Selling')" id="selling">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-check"><polyline points="20 6 9 17 4 12"></polyline></svg>
                            </div>
                            <span class="circleBtnLabel">Selling</span>
                        </div>

                        <div class="circleBtnWrapper followUpBtns">
                            <div class="circleBtn" onclick="signupQuestionNext('both','Both')" id="both">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-check"><polyline points="20 6 9 17 4 12"></polyline></svg>
                            </div>
                            <span class="circleBtnLabel">Both</span>
                        </div>
                    </div>
                </div>
                <!-- BUYING ROUTE -->
                <!-- Timeline Q1 -->
                <div class="buyTimeline message">
                    <img class="messageIcon" src="../../cdn1.brivityidx.com/assets/images/search.png" alt="home">
                    <h3 class="popupHeadline">When are you planning on buying a new home?</h3>
                    <div class="circleBtns">
                        <div class="circleBtnWrapper followUpBtns">
                            <div class="circleBtn" onclick="signupQuestionNext('','1-3 months')" id="threeMoBuy">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-check"><polyline points="20 6 9 17 4 12"></polyline></svg>
                            </div>
                            <span class="circleBtnLabel">1-3 Mo</span>
                        </div>

                        <div class="circleBtnWrapper followUpBtns">
                            <div class="circleBtn" onclick="signupQuestionNext('','3-6 months')" id="sixMoBuy">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-check"><polyline points="20 6 9 17 4 12"></polyline></svg>
                            </div>
                            <span class="circleBtnLabel">3-6 Mo</span>
                        </div>

                        <div class="circleBtnWrapper followUpBtns">
                            <div class="circleBtn" onclick="signupQuestionNext('','6+ months')" id="overSixMoBuy">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-check"><polyline points="20 6 9 17 4 12"></polyline></svg>
                            </div>
                            <span class="circleBtnLabel">6+ Mo</span>
                        </div>
                    </div> <!-- .circleBtns / -->
                    <a onclick="signupQuestionBack()" class="backBtn">Back</a>
                </div>

                <!-- Mortgage Q2 -->
                <div class="mortgage message">
                    <img class="messageIcon" src="../../cdn1.brivityidx.com/assets/images/contract.png" alt="home">
                    <h3 class="popupHeadline">Are you pre-approved for a mortgage?</h3>
                    <div class="circleBtns">
                        <div class="circleBtnWrapper followUpBtns">
                            <div class="circleBtn" onclick="signupQuestionNext('','Yes')" id="mortgageYes">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-check"><polyline points="20 6 9 17 4 12"></polyline></svg>
                            </div>
                            <span class="circleBtnLabel">Yes</span>
                        </div>

                        <div class="circleBtnWrapper followUpBtns">
                            <div class="circleBtn" onclick="signupQuestionNext('','No')" id="mortgageNo">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                            </div>
                            <span class="circleBtnLabel">No</span>
                        </div>

                        <div class="circleBtnWrapper followUpBtns">
                            <div class="circleBtn" onclick="signupQuestionNext('','Using Cash')" id="cash">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-dollar-sign"><line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path></svg>
                            </div>
                            <span class="circleBtnLabel">Using Cash</span>
                        </div>
                    </div> <!-- .circleBtns / -->
                    <a onclick="signupQuestionBack()" class="backBtn">Back</a>
                </div>

                <!-- Consult Q3 -->
                <div class="consult message" id="consult">
                    <img class="messageIcon" src="../../cdn1.brivityidx.com/assets/images/house3.png" alt="home">
                    <h3 class="popupHeadline">Would you like to schedule a consultation now?</h3>
                    <div class="circleBtns">
                        <div class="circleBtnWrapper followUpBtns">
                            <div class="circleBtn" onclick="signupQuestionNext('','Yes')" id="consultYes">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-check"><polyline points="20 6 9 17 4 12"></polyline></svg>
                            </div>
                            <span class="circleBtnLabel">Yes</span>
                        </div>

                        <div class="circleBtnWrapper followUpBtns">
                            <div class="circleBtn" onclick="signupQuestionsSet('No')" id="consultNo">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                            </div>
                            <span class="circleBtnLabel">No</span>
                        </div>
                    </div> <!-- .circleBtns / -->
                    <a onclick="signupQuestionBack()" class="backBtn">Back</a>
                </div>

                <!-- Schedule Consult Q4 -->
                <div class="scheduleConsult message">
                    <h3 class="popupHeadline">When would you like us to call?</h3>
                    <textarea id="signupQuestionConsultTimes" placeholder="What times work for you?"></textarea>
                    <div class="followUpBtns">
                        <button id="consultYesBtn">Submit</button>
                    </div>
                </div>

                <!-- Confirm Q5 -->
                <div class="confirmConsult message">
                    <h3 class="popupHeadline">Thanks! Weâ€™ll give you a call as soon as possible.</h3>
                    <div class="followUpBtns">
                        <button id="finishCTA">Done</button>
                    </div>
                </div>

                <!-- SELLING ROUTE -->
                <!-- Sell Timeline Q1 -->
                <div class="sellTimeline message" id="sellTimeline">
                    <img class="messageIcon" src="../../cdn1.brivityidx.com/assets/images/search.png" alt="home">
                    <h3 class="popupHeadline">When are you planning on selling your home?</h3>
                    <div class="circleBtns">
                        <div class="circleBtnWrapper followUpBtns">
                            <div class="circleBtn" onclick="signupQuestionNext('','1-3 months')" id="threeMoSell">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-check"><polyline points="20 6 9 17 4 12"></polyline></svg>
                            </div>
                            <span class="circleBtnLabel">1-3 Mo</span>
                        </div>

                        <div class="circleBtnWrapper followUpBtns">
                            <div class="circleBtn" onclick="signupQuestionNext('','3-6 months')" id="sixMoSell">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-check"><polyline points="20 6 9 17 4 12"></polyline></svg>
                            </div>
                            <span class="circleBtnLabel">3-6 Mo</span>
                        </div>

                        <div class="circleBtnWrapper followUpBtns">
                            <div class="circleBtn" onclick="signupQuestionNext('','6+ months')" id="overSixMoSell">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-check"><polyline points="20 6 9 17 4 12"></polyline></svg>
                            </div>
                            <span class="circleBtnLabel">6+ Mo</span>
                        </div>
                    </div> <!-- .circleBtns / -->
                    <a onclick="signupQuestionBack()" class="backBtn">Back</a>
                </div>

                <!-- Sell Timeline Q2 -->
                <div class="consultOrValue message">
                    <h3 class="popupHeadline">Would you like to schedule a consultation or see your home value?</h3>
                    <div class="circleBtns">
                        <div class="circleBtnWrapper followUpBtns">
                            <div class="circleBtn" onclick="signupQuestionNext('','Yes')" id="sellConsultYes">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-check"><polyline points="20 6 9 17 4 12"></polyline></svg>
                            </div>
                            <span class="circleBtnLabel">Schedule Consultation</span>
                        </div>

                        <div class="circleBtnWrapper followUpBtns">
                            <div class="circleBtn" onclick="signupQuestionHomeValue()" id="seeHomeValue">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-home"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
                            </div>
                            <span class="circleBtnLabel">My Home Value</span>
                        </div>
                    </div> <!-- .circleBtns / -->
                    <a onclick="signupQuestionBack()" class="backBtn">Back</a>
                </div>
            </div> <!-- /.popupBody -->
        </div>
        <!-- end signup questions -->

        <!-- home value modal -->
        <div class="modal fade" id="modal_subject_home" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="myModalLabel">Please confirm your property details:</h4>
              </div>
              <div class="modal-body">
                <div class="row">
                  <div class="col-sm-9">
                    <h2 id="home_address"></h2>
                  </div>
                </div>
                  <form id="subjectHomeForm" class="form-horizontal" data-toggle="validator" onsubmit="return false;">
                    <input type="hidden" name="latitude"  value="" id="CmaLatitude" />
                    <input type="hidden" name="longitude" value="" id="CmaLongitude" />
                    <input type="hidden" name="street" value="" id="street">
                    <input type="hidden" name="address"   value=""  id="address" />
                    <input type="hidden" name="address_auto" value="" id="address_auto" />
                    <input type="hidden" name="state"     value="" id="state" />
                    <input type="hidden" name="zipcode"   value="" id="zipcode" />
                    <input type="hidden" name="city"      value="" id="city" />
                    <input type="hidden" name="county"      value="" id="county" />
                    <div class="form-group">
                      <div class="col-sm-12 col-md-12 hv_search_address_container">
                        <label for="year">Address:</label>
                        <input type="text" id="search_address_modal" name="search_address_modal" autocomplete="off" value="" placeholder="Address, City and Zip Code" class="form-control">
                      </div>
                      <div class="col-md-6">
                          <label for="property_type">Property Type:</label>
                          <select id="property_type" name="property_type" class="form-control">
                            <option value="2">Residential</option>
                            <option value="1">Commercial</option>
                            <option value="3">Vacant</option>
                          </select>
                      </div>
                      <div class="col-md-6">
                        <label for="search_area">Search Area:</label>
                        <select id="search_area" name="search_area" class="form-control">
                            <option value="0.5">0.5 m</option>
                            <option value="1">1 m</option>
                            <option value="1.5">1.5 m</option>
                            <option value="2">2 m</option>
                        </select>
                      </div>
                    </div>
                    <div class="form-group">
                      <div class="col-sm-3">
                        <label for="year">Year:</label>
                        <input type="text" id="year" name="year" value="" placeholder="Year Built" class="form-control">
                      </div>
                      <div class=" col-sm-3" id="acreage_sec">
                        <label for="acreage">Acreage:</label>
                        <input type="text" id="acreage" name="acreage" value="" placeholder="Acreage" class="form-control">
                      </div>
                      <div class=" col-sm-3">
                        <label for="sq_feet">SQFT:</label>
                        <input type="text" id="sq_feet" name="sq_feet" value="" placeholder="Sq Feet" class="form-control">
                      </div>
                    </div>
                    <div class="form-group">
                      <div class=" col-sm-3">
                        <label for="beds">Beds:</label>
                        <input type="text" id="beds" name="beds" value="" placeholder="Beds" class="form-control">
                      </div>
                      <div class=" col-sm-3">
                        <label for="bath_full">Bathrooms:</label>
                        <input type="text" id="bath_full" name="bath_full" value="" placeholder="Baths" class="form-control">
                      </div>
                      <div class=" col-sm-3">
                        <label for="garage_cap">Garage:</label>
                        <input type="text" id="garage_cap" name="garage_cap" value="" placeholder="Garage" class="form-control">
                      </div>
                    </div>
                    <div class="form-group">
                      <div class="col-sm-12">
                        <button type="submit" id="submit_homeform" class="btn btn-primary btn-lg btn-block">Find out home value</button>
                      </div>
                    </div>
                  </form>
              </div>
              <div class="modal-footer">
              </div>
             </div>
          </div>
        </div>

        <!-- end home value modal -->

        <!-- Phone Confirm Modal -->
        <div class="modal fade" id="phone-confirm-modal" tabindex="-1" role="dialog">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-body text-center">
                        <div class="tab-content">
                            <div role="tabpanel" class="tab-pane fade in active" id="phoneConfirm">
                                <form id="phoneConfirmForm" action="#" onsubmit="return false;">
                                    <h2 class="margin-bottom-20">Confirm Password</h2>
                                    <p>Confirm your password by entering your phone number.</p>
                                    <div class="row margin-bottom-0">
                                        <div class="col-md-8 col-md-offset-2">
                                            <div class="form-group">
                                                <input type="tel" id="confirm_phone" class="form-control" required="" placeholder="Your Phone Number (Used as password)">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="flex jc-center">
                                        <button id="confirmPhoneBtn" class="btn btn-primary">
                                            <div class="flex ai-center">
                                              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                                                <path d="M14 22h5a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-5" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/>
                                                <polyline points="11 16 15 12 11 8" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/>
                                                <line x1="15" y1="12" x2="3" y2="12" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/>
                                              </svg> <span>Confirm Phone</span>
                                            </div>
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quick Search's results not found modal -->
        <div class="modal fade" id="not-found-modal" tabindex="-1" role="dialog">
          <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
              <div class="modal-header">Sorry, we couldnâ€™t find '<span id="search_value"></span>' <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">Ã—</span><span class="sr-only">Close</span></button></div>
              <div class="modal-body">
                <p>Please check the spelling, try clearing the search box, or try reformatting to match these examples:</p>
                <p>
                  <b>Address:</b> '123 Main St, Anytown'<br>
                  <b>Neighborhood:</b> 'Downtown'<br>
                  <b>Zip:</b> '98115'<br>
                  <b>City:</b> 'Anytown' or 'Anytown, State/Province'<br>
                  <b>MLS number:</b> 'MLS# 38065544'<br>
                </p>
              </div>
              <div class="modal-footer">
                <span style="float: left; margin-right: 10px;"><svg class="SvgIcon rfSvg info" style="fill: rgb(12, 130, 165); height: 18px; width: 18px;"><svg viewBox="0 0 24 24"><path d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10S2 17.514 2 12 6.486 2 12 2m0-2C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm1 16v-5.75a.25.25 0 0 0-.25-.25h-2.5a.25.25 0 0 0-.25.25V12h1v4h-1v1.75c0 .138.112.25.25.25h3.5a.25.25 0 0 0 .25-.25V16h-1zm-.25-8h-1.5a.25.25 0 0 1-.25-.25v-1.5a.25.25 0 0 1 .25-.25h1.5a.25.25 0 0 1 .25.25v1.5a.25.25 0 0 1-.25.25z" fill-rule="evenodd"></path></svg></svg></span>
                Don't see what you're looking for? Your search might be outside our <a href="../city.html">service areas.</a></div> or could be off market.
            </div>
          </div>
        </div>

        <!-- Quick Search's 'did you mean' modal -->
        <div class="modal fade" id="did-you-mean-modal" tabindex="-1" role="dialog">
          <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
              <div class="modal-header">Did You Mean <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">Ã—</span><span class="sr-only">Close</span></button></div>
              <div class="modal-body">
              </div>
              <div class="modal-footer" style="display: flex">
                <span style="float: left; margin-right: 10px;"><svg class="SvgIcon rfSvg info" style="fill: rgb(12, 130, 165); height: 18px; width: 18px;"><svg viewBox="0 0 24 24"><path d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10S2 17.514 2 12 6.486 2 12 2m0-2C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm1 16v-5.75a.25.25 0 0 0-.25-.25h-2.5a.25.25 0 0 0-.25.25V12h1v4h-1v1.75c0 .138.112.25.25.25h3.5a.25.25 0 0 0 .25-.25V16h-1zm-.25-8h-1.5a.25.25 0 0 1-.25-.25v-1.5a.25.25 0 0 1 .25-.25h1.5a.25.25 0 0 1 .25.25v1.5a.25.25 0 0 1-.25.25z" fill-rule="evenodd"></path></svg></svg></span>
                <div>
                    Don't see what you're looking for? Your search might be outside our <a href="../city.html">service areas</a> or could be off the market.</div>
                </div>
            </div>
          </div>
        </div>

        
        <!-- Google one tap container -->
        <div id="credential_picker_container_centered">
            <div id="credential_picker_header_bar">
            <p><a onclick="showSignupModal();">Sign up</a> or <a onclick="showLoginModal();">Login</a> another way</p>
            </div>
            <div id="credential_picker_header_bar_separator"></div>
        </div>

        <!-- Load JS here for greater good =============================-->
        <script type="text/javascript" src="../../www.google.com/recaptcha/apie16d.js?render=6LfNOsoUAAAAAKTst6hjCdK0tmeiA4GVzqBjwScC"></script>
        
        
        <script src="https://accounts.google.com/gsi/client" async defer></script>
        <script src="https://maps.googleapis.com/maps/api/js?libraries=geometry,places,drawing&amp;key=AIzaSyD8bZKOWgjz86nY7BHDH1_4v8i8UweYE6k"></script>
        <script src="../../cdn1.brivityidx.com/assets/js/build.min22a7.js?ck="></script>
        <script src="../../cdn1.brivityidx.com/assets/js/top_bar_v2.min22a7.js?ck="></script>
    <script type="text/javascript" src="../../cdn1.brivityidx.com/assets/js/jquery.geocomplete.min.js"></script><script type="text/javascript" src="../../cdnjs.cloudflare.com/ajax/libs/jquery.bootstrapvalidator/0.5.3/js/bootstrapValidator.min.js"></script><script type="text/javascript" src="../../cdn1.brivityidx.com/assets/js/menu2.js"></script><script type="text/javascript" src="../../cdn1.brivityidx.com/assets/js/member_area_components.js"></script><script type="text/javascript" src="https://cdn1.brivityidx.com/assets/"></script><script type="text/javascript" src="../../cdn.jsdelivr.net/gh/GoogleChromeLabs/page-lifecycle%400.1.2/dist/lifecycle.es5.js"></script><script type="text/javascript" src="../../mobile-component-services-library-dev.s3.amazonaws.com/web-components.mincdfe.js?ck=1"></script><script type="text/javascript" src="../../mobile-component-services-library.s3.amazonaws.com/messaging_service.mincdfe.js?ck=1"></script><script type="text/javascript" src="../../cdn1.brivityidx.com/assets/js/update_agent_info.min.js"></script>
<script src="../../cdn.jsdelivr.net/gh/GoogleChromeLabs/page-lifecycle%400.1.2/dist/lifecycle.es5.js"></script>
<script src="../../mobile-component-services-library-dev.s3.amazonaws.com/web-components.mincdfe.js?ck=1"></script>
<script src="../../mobile-component-services-library.s3.amazonaws.com/messaging_service.mincdfe.js?ck=1"></script>
<script>
$(document).ready(function(){
  $("ul.seo-anchor-links li:nth-of-type(4) a").attr("href", "/search");
});
</script>

<script>
$(document).ready(function() { 
$("#sitemap-listings > div.container > div > div.col-xs-12.col-md-12.col-lg-4.col-lg-push-8.seo-intro > a").attr("href", "/search")
}); 
</script><script type="text/javascript">
              /* <![CDATA[ */
              goog_snippet_vars = function() {
                var w = window;
                w.google_conversion_id = G-FE9ZPGZ2RP;
                w.google_conversion_label = "4087429668";
                w.google_remarketing_only = false;
              }
              // DO NOT CHANGE THE CODE BELOW.
              goog_report_conversion = function(url) {
                goog_snippet_vars();
                window.google_conversion_format = "3";
                var opt = new Object();
                opt.onload_callback = function() {
                if (typeof(url) != 'undefined') {
                  window.location = url;
                }
              }
              var conv_handler = window['google_trackConversion'];
              if (typeof(conv_handler) == 'function') {
                conv_handler(opt);
              }
            }
            /* ]]> */
            </script>
            <script type="text/javascript" src="../../www.googleadservices.com/pagead/f.txt">
            </script>
            <script type="text/javascript">
            /* <![CDATA[ */
            var google_conversion_id = G-FE9ZPGZ2RP;
            var google_custom_params = window.google_tag_params;
            var google_remarketing_only = true;
            /* ]]> */
            </script>
            <script type="text/javascript" src="../../www.googleadservices.com/pagead/f-2.txt">
            </script>
            <noscript>
            <div style="display:inline;">
            <img height="1" width="1" style="border-style:none;" alt="" src="http://googleads.g.doubleclick.net/pagead/viewthroughconversion/G-FE9ZPGZ2RP/?guid=ON&amp;script=0"/>
            </div>
            </noscript></body>

    
<!-- Mirrored from www.vitisrealty.com/myportal/reports by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 31 Jul 2023 02:04:30 GMT -->
</html>
