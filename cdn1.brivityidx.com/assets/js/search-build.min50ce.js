/*! jQuery v1.11.2 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */
/*!
 * Bootstrap v3.3.2 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */
if(function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,(function(e,t){var a=[],i=a.slice,o=a.concat,n=a.push,r=a.indexOf,s={},l=s.toString,c=s.hasOwnProperty,d={},u="1.11.2",h=function(e,t){return new h.fn.init(e,t)},p=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,m=/^-ms-/,f=/-([\da-z])/gi,g=function(e,t){return t.toUpperCase()};function v(e){var t=e.length,a=h.type(e);return"function"!==a&&!h.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===a||0===t||"number"==typeof t&&t>0&&t-1 in e))}h.fn=h.prototype={jquery:u,constructor:h,selector:"",length:0,toArray:function(){return i.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:i.call(this)},pushStack:function(e){var t=h.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return h.each(this,e,t)},map:function(e){return this.pushStack(h.map(this,(function(t,a){return e.call(t,a,t)})))},slice:function(){return this.pushStack(i.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,a=+e+(0>e?t:0);return this.pushStack(a>=0&&t>a?[this[a]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:n,sort:a.sort,splice:a.splice},h.extend=h.fn.extend=function(){var e,t,a,i,o,n,r=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof r&&(c=r,r=arguments[s]||{},s++),"object"==typeof r||h.isFunction(r)||(r={}),s===l&&(r=this,s--);l>s;s++)if(null!=(o=arguments[s]))for(i in o)e=r[i],r!==(a=o[i])&&(c&&a&&(h.isPlainObject(a)||(t=h.isArray(a)))?(t?(t=!1,n=e&&h.isArray(e)?e:[]):n=e&&h.isPlainObject(e)?e:{},r[i]=h.extend(c,n,a)):void 0!==a&&(r[i]=a));return r},h.extend({expando:"jQuery"+(u+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===h.type(e)},isArray:Array.isArray||function(e){return"array"===h.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!h.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==h.type(e)||e.nodeType||h.isWindow(e))return!1;try{if(e.constructor&&!c.call(e,"constructor")&&!c.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(d.ownLast)for(t in e)return c.call(e,t);for(t in e);return void 0===t||c.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?s[l.call(e)]||"object":typeof e},globalEval:function(t){t&&h.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(m,"ms-").replace(f,g)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,a){var i=0,o=e.length,n=v(e);if(a){if(n)for(;o>i&&!1!==t.apply(e[i],a);i++);else for(i in e)if(!1===t.apply(e[i],a))break}else if(n)for(;o>i&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(p,"")},makeArray:function(e,t){var a=t||[];return null!=e&&(v(Object(e))?h.merge(a,"string"==typeof e?[e]:e):n.call(a,e)),a},inArray:function(e,t,a){var i;if(t){if(r)return r.call(t,e,a);for(i=t.length,a=a?0>a?Math.max(0,i+a):a:0;i>a;a++)if(a in t&&t[a]===e)return a}return-1},merge:function(e,t){for(var a=+t.length,i=0,o=e.length;a>i;)e[o++]=t[i++];if(a!=a)for(;void 0!==t[i];)e[o++]=t[i++];return e.length=o,e},grep:function(e,t,a){for(var i=[],o=0,n=e.length,r=!a;n>o;o++)!t(e[o],o)!==r&&i.push(e[o]);return i},map:function(e,t,a){var i,n=0,r=e.length,s=[];if(v(e))for(;r>n;n++)null!=(i=t(e[n],n,a))&&s.push(i);else for(n in e)null!=(i=t(e[n],n,a))&&s.push(i);return o.apply([],s)},guid:1,proxy:function(e,t){var a,o,n;return"string"==typeof t&&(n=e[t],t=e,e=n),h.isFunction(e)?(a=i.call(arguments,2),o=function(){return e.apply(t||this,a.concat(i.call(arguments)))},o.guid=e.guid=e.guid||h.guid++,o):void 0},now:function(){return+new Date},support:d}),h.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(e,t){s["[object "+t+"]"]=t.toLowerCase()}));var _=function(e){var t,a,i,o,n,r,s,l,c,d,u,h,p,m,f,g,v,_,y,b="sizzle"+1*new Date,$=e.document,w=0,x=0,k=re(),C=re(),S=re(),T=function(e,t){return e===t&&(u=!0),0},L=1<<31,M={}.hasOwnProperty,A=[],N=A.pop,D=A.push,I=A.push,O=A.slice,E=function(e,t){for(var a=0,i=e.length;i>a;a++)if(e[a]===t)return a;return-1},P="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",q="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",B=q.replace("w","w#"),j="\\["+F+"*("+q+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+B+"))|)"+F+"*\\]",R=":("+q+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+j+")*)|.*)\\)|)",H=new RegExp(F+"+","g"),U=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),z=new RegExp("^"+F+"*,"+F+"*"),V=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),W=new RegExp("="+F+"*([^\\]'\"]*?)"+F+"*\\]","g"),Q=new RegExp(R),G=new RegExp("^"+B+"$"),J={ID:new RegExp("^#("+q+")"),CLASS:new RegExp("^\\.("+q+")"),TAG:new RegExp("^("+q.replace("w","w*")+")"),ATTR:new RegExp("^"+j),PSEUDO:new RegExp("^"+R),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+P+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},Z=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=/'|\\/g,ae=new RegExp("\\\\([\\da-f]{1,6}"+F+"?|("+F+")|.)","ig"),ie=function(e,t,a){var i="0x"+t-65536;return i!=i||a?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},oe=function(){h()};try{I.apply(A=O.call($.childNodes),$.childNodes),A[$.childNodes.length].nodeType}catch(e){I={apply:A.length?function(e,t){D.apply(e,O.call(t))}:function(e,t){for(var a=e.length,i=0;e[a++]=t[i++];);e.length=a-1}}}function ne(e,t,i,o){var n,s,c,d,u,m,v,_,w,x;if((t?t.ownerDocument||t:$)!==p&&h(t),i=i||[],d=(t=t||p).nodeType,"string"!=typeof e||!e||1!==d&&9!==d&&11!==d)return i;if(!o&&f){if(11!==d&&(n=K.exec(e)))if(c=n[1]){if(9===d){if(!(s=t.getElementById(c))||!s.parentNode)return i;if(s.id===c)return i.push(s),i}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(c))&&y(t,s)&&s.id===c)return i.push(s),i}else{if(n[2])return I.apply(i,t.getElementsByTagName(e)),i;if((c=n[3])&&a.getElementsByClassName)return I.apply(i,t.getElementsByClassName(c)),i}if(a.qsa&&(!g||!g.test(e))){if(_=v=b,w=t,x=1!==d&&e,1===d&&"object"!==t.nodeName.toLowerCase()){for(m=r(e),(v=t.getAttribute("id"))?_=v.replace(te,"\\$&"):t.setAttribute("id",_),_="[id='"+_+"'] ",u=m.length;u--;)m[u]=_+ge(m[u]);w=ee.test(e)&&me(t.parentNode)||t,x=m.join(",")}if(x)try{return I.apply(i,w.querySelectorAll(x)),i}catch(e){}finally{v||t.removeAttribute("id")}}}return l(e.replace(U,"$1"),t,i,o)}function re(){var e=[];return function t(a,o){return e.push(a+" ")>i.cacheLength&&delete t[e.shift()],t[a+" "]=o}}function se(e){return e[b]=!0,e}function le(e){var t=p.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ce(e,t){for(var a=e.split("|"),o=e.length;o--;)i.attrHandle[a[o]]=t}function de(e,t){var a=t&&e,i=a&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||L)-(~e.sourceIndex||L);if(i)return i;if(a)for(;a=a.nextSibling;)if(a===t)return-1;return e?1:-1}function ue(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function he(e){return function(t){var a=t.nodeName.toLowerCase();return("input"===a||"button"===a)&&t.type===e}}function pe(e){return se((function(t){return t=+t,se((function(a,i){for(var o,n=e([],a.length,t),r=n.length;r--;)a[o=n[r]]&&(a[o]=!(i[o]=a[o]))}))}))}function me(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in a=ne.support={},n=ne.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},h=ne.setDocument=function(e){var t,o,r=e?e.ownerDocument||e:$;return r!==p&&9===r.nodeType&&r.documentElement?(p=r,m=r.documentElement,(o=r.defaultView)&&o!==o.top&&(o.addEventListener?o.addEventListener("unload",oe,!1):o.attachEvent&&o.attachEvent("onunload",oe)),f=!n(r),a.attributes=le((function(e){return e.className="i",!e.getAttribute("className")})),a.getElementsByTagName=le((function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length})),a.getElementsByClassName=Y.test(r.getElementsByClassName),a.getById=le((function(e){return m.appendChild(e).id=b,!r.getElementsByName||!r.getElementsByName(b).length})),a.getById?(i.find.ID=function(e,t){if(void 0!==t.getElementById&&f){var a=t.getElementById(e);return a&&a.parentNode?[a]:[]}},i.filter.ID=function(e){var t=e.replace(ae,ie);return function(e){return e.getAttribute("id")===t}}):(delete i.find.ID,i.filter.ID=function(e){var t=e.replace(ae,ie);return function(e){var a=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return a&&a.value===t}}),i.find.TAG=a.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):a.qsa?t.querySelectorAll(e):void 0}:function(e,t){var a,i=[],o=0,n=t.getElementsByTagName(e);if("*"===e){for(;a=n[o++];)1===a.nodeType&&i.push(a);return i}return n},i.find.CLASS=a.getElementsByClassName&&function(e,t){return f?t.getElementsByClassName(e):void 0},v=[],g=[],(a.qsa=Y.test(r.querySelectorAll))&&(le((function(e){m.appendChild(e).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+F+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+F+"*(?:value|"+P+")"),e.querySelectorAll("[id~="+b+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+b+"+*").length||g.push(".#.+[+~]")})),le((function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+F+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")}))),(a.matchesSelector=Y.test(_=m.matches||m.webkitMatchesSelector||m.mozMatchesSelector||m.oMatchesSelector||m.msMatchesSelector))&&le((function(e){a.disconnectedMatch=_.call(e,"div"),_.call(e,"[s!='']:x"),v.push("!=",R)})),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),t=Y.test(m.compareDocumentPosition),y=t||Y.test(m.contains)?function(e,t){var a=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(a.contains?a.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},T=t?function(e,t){if(e===t)return u=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!a.sortDetached&&t.compareDocumentPosition(e)===i?e===r||e.ownerDocument===$&&y($,e)?-1:t===r||t.ownerDocument===$&&y($,t)?1:d?E(d,e)-E(d,t):0:4&i?-1:1)}:function(e,t){if(e===t)return u=!0,0;var a,i=0,o=e.parentNode,n=t.parentNode,s=[e],l=[t];if(!o||!n)return e===r?-1:t===r?1:o?-1:n?1:d?E(d,e)-E(d,t):0;if(o===n)return de(e,t);for(a=e;a=a.parentNode;)s.unshift(a);for(a=t;a=a.parentNode;)l.unshift(a);for(;s[i]===l[i];)i++;return i?de(s[i],l[i]):s[i]===$?-1:l[i]===$?1:0},r):p},ne.matches=function(e,t){return ne(e,null,null,t)},ne.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&h(e),t=t.replace(W,"='$1']"),!(!a.matchesSelector||!f||v&&v.test(t)||g&&g.test(t)))try{var i=_.call(e,t);if(i||a.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return ne(t,p,null,[e]).length>0},ne.contains=function(e,t){return(e.ownerDocument||e)!==p&&h(e),y(e,t)},ne.attr=function(e,t){(e.ownerDocument||e)!==p&&h(e);var o=i.attrHandle[t.toLowerCase()],n=o&&M.call(i.attrHandle,t.toLowerCase())?o(e,t,!f):void 0;return void 0!==n?n:a.attributes||!f?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},ne.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ne.uniqueSort=function(e){var t,i=[],o=0,n=0;if(u=!a.detectDuplicates,d=!a.sortStable&&e.slice(0),e.sort(T),u){for(;t=e[n++];)t===e[n]&&(o=i.push(n));for(;o--;)e.splice(i[o],1)}return d=null,e},o=ne.getText=function(e){var t,a="",i=0,n=e.nodeType;if(n){if(1===n||9===n||11===n){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)a+=o(e)}else if(3===n||4===n)return e.nodeValue}else for(;t=e[i++];)a+=o(t);return a},i=ne.selectors={cacheLength:50,createPseudo:se,match:J,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ae,ie),e[3]=(e[3]||e[4]||e[5]||"").replace(ae,ie),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ne.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ne.error(e[0]),e},PSEUDO:function(e){var t,a=!e[6]&&e[2];return J.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":a&&Q.test(a)&&(t=r(a,!0))&&(t=a.indexOf(")",a.length-t)-a.length)&&(e[0]=e[0].slice(0,t),e[2]=a.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ae,ie).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=k[e+" "];return t||(t=new RegExp("(^|"+F+")"+e+"("+F+"|$)"))&&k(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,a){return function(i){var o=ne.attr(i,e);return null==o?"!="===t:!t||(o+="","="===t?o===a:"!="===t?o!==a:"^="===t?a&&0===o.indexOf(a):"*="===t?a&&o.indexOf(a)>-1:"$="===t?a&&o.slice(-a.length)===a:"~="===t?(" "+o.replace(H," ")+" ").indexOf(a)>-1:"|="===t&&(o===a||o.slice(0,a.length+1)===a+"-"))}},CHILD:function(e,t,a,i,o){var n="nth"!==e.slice(0,3),r="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===o?function(e){return!!e.parentNode}:function(t,a,l){var c,d,u,h,p,m,f=n!==r?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),_=!l&&!s;if(g){if(n){for(;f;){for(u=t;u=u[f];)if(s?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;m=f="only"===e&&!m&&"nextSibling"}return!0}if(m=[r?g.firstChild:g.lastChild],r&&_){for(p=(c=(d=g[b]||(g[b]={}))[e]||[])[0]===w&&c[1],h=c[0]===w&&c[2],u=p&&g.childNodes[p];u=++p&&u&&u[f]||(h=p=0)||m.pop();)if(1===u.nodeType&&++h&&u===t){d[e]=[w,p,h];break}}else if(_&&(c=(t[b]||(t[b]={}))[e])&&c[0]===w)h=c[1];else for(;(u=++p&&u&&u[f]||(h=p=0)||m.pop())&&((s?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++h||(_&&((u[b]||(u[b]={}))[e]=[w,h]),u!==t)););return(h-=o)===i||h%i==0&&h/i>=0}}},PSEUDO:function(e,t){var a,o=i.pseudos[e]||i.setFilters[e.toLowerCase()]||ne.error("unsupported pseudo: "+e);return o[b]?o(t):o.length>1?(a=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?se((function(e,a){for(var i,n=o(e,t),r=n.length;r--;)e[i=E(e,n[r])]=!(a[i]=n[r])})):function(e){return o(e,0,a)}):o}},pseudos:{not:se((function(e){var t=[],a=[],i=s(e.replace(U,"$1"));return i[b]?se((function(e,t,a,o){for(var n,r=i(e,null,o,[]),s=e.length;s--;)(n=r[s])&&(e[s]=!(t[s]=n))})):function(e,o,n){return t[0]=e,i(t,null,n,a),t[0]=null,!a.pop()}})),has:se((function(e){return function(t){return ne(e,t).length>0}})),contains:se((function(e){return e=e.replace(ae,ie),function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}})),lang:se((function(e){return G.test(e||"")||ne.error("unsupported lang: "+e),e=e.replace(ae,ie).toLowerCase(),function(t){var a;do{if(a=f?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(a=a.toLowerCase())===e||0===a.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var a=e.location&&e.location.hash;return a&&a.slice(1)===t.id},root:function(e){return e===m},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return Z.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:pe((function(){return[0]})),last:pe((function(e,t){return[t-1]})),eq:pe((function(e,t,a){return[0>a?a+t:a]})),even:pe((function(e,t){for(var a=0;t>a;a+=2)e.push(a);return e})),odd:pe((function(e,t){for(var a=1;t>a;a+=2)e.push(a);return e})),lt:pe((function(e,t,a){for(var i=0>a?a+t:a;--i>=0;)e.push(i);return e})),gt:pe((function(e,t,a){for(var i=0>a?a+t:a;++i<t;)e.push(i);return e}))}},i.pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=ue(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=he(t);function fe(){}function ge(e){for(var t=0,a=e.length,i="";a>t;t++)i+=e[t].value;return i}function ve(e,t,a){var i=t.dir,o=a&&"parentNode"===i,n=x++;return t.first?function(t,a,n){for(;t=t[i];)if(1===t.nodeType||o)return e(t,a,n)}:function(t,a,r){var s,l,c=[w,n];if(r){for(;t=t[i];)if((1===t.nodeType||o)&&e(t,a,r))return!0}else for(;t=t[i];)if(1===t.nodeType||o){if((s=(l=t[b]||(t[b]={}))[i])&&s[0]===w&&s[1]===n)return c[2]=s[2];if(l[i]=c,c[2]=e(t,a,r))return!0}}}function _e(e){return e.length>1?function(t,a,i){for(var o=e.length;o--;)if(!e[o](t,a,i))return!1;return!0}:e[0]}function ye(e,t,a,i,o){for(var n,r=[],s=0,l=e.length,c=null!=t;l>s;s++)(n=e[s])&&(!a||a(n,i,o))&&(r.push(n),c&&t.push(s));return r}function be(e,t,a,i,o,n){return i&&!i[b]&&(i=be(i)),o&&!o[b]&&(o=be(o,n)),se((function(n,r,s,l){var c,d,u,h=[],p=[],m=r.length,f=n||function(e,t,a){for(var i=0,o=t.length;o>i;i++)ne(e,t[i],a);return a}(t||"*",s.nodeType?[s]:s,[]),g=!e||!n&&t?f:ye(f,h,e,s,l),v=a?o||(n?e:m||i)?[]:r:g;if(a&&a(g,v,s,l),i)for(c=ye(v,p),i(c,[],s,l),d=c.length;d--;)(u=c[d])&&(v[p[d]]=!(g[p[d]]=u));if(n){if(o||e){if(o){for(c=[],d=v.length;d--;)(u=v[d])&&c.push(g[d]=u);o(null,v=[],c,l)}for(d=v.length;d--;)(u=v[d])&&(c=o?E(n,u):h[d])>-1&&(n[c]=!(r[c]=u))}}else v=ye(v===r?v.splice(m,v.length):v),o?o(null,r,v,l):I.apply(r,v)}))}function $e(e){for(var t,a,o,n=e.length,r=i.relative[e[0].type],s=r||i.relative[" "],l=r?1:0,d=ve((function(e){return e===t}),s,!0),u=ve((function(e){return E(t,e)>-1}),s,!0),h=[function(e,a,i){var o=!r&&(i||a!==c)||((t=a).nodeType?d(e,a,i):u(e,a,i));return t=null,o}];n>l;l++)if(a=i.relative[e[l].type])h=[ve(_e(h),a)];else{if((a=i.filter[e[l].type].apply(null,e[l].matches))[b]){for(o=++l;n>o&&!i.relative[e[o].type];o++);return be(l>1&&_e(h),l>1&&ge(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(U,"$1"),a,o>l&&$e(e.slice(l,o)),n>o&&$e(e=e.slice(o)),n>o&&ge(e))}h.push(a)}return _e(h)}function we(e,t){var a=t.length>0,o=e.length>0,n=function(n,r,s,l,d){var u,h,m,f=0,g="0",v=n&&[],_=[],y=c,b=n||o&&i.find.TAG("*",d),$=w+=null==y?1:Math.random()||.1,x=b.length;for(d&&(c=r!==p&&r);g!==x&&null!=(u=b[g]);g++){if(o&&u){for(h=0;m=e[h++];)if(m(u,r,s)){l.push(u);break}d&&(w=$)}a&&((u=!m&&u)&&f--,n&&v.push(u))}if(f+=g,a&&g!==f){for(h=0;m=t[h++];)m(v,_,r,s);if(n){if(f>0)for(;g--;)v[g]||_[g]||(_[g]=N.call(l));_=ye(_)}I.apply(l,_),d&&!n&&_.length>0&&f+t.length>1&&ne.uniqueSort(l)}return d&&(w=$,c=y),v};return a?se(n):n}return fe.prototype=i.filters=i.pseudos,i.setFilters=new fe,r=ne.tokenize=function(e,t){var a,o,n,r,s,l,c,d=C[e+" "];if(d)return t?0:d.slice(0);for(s=e,l=[],c=i.preFilter;s;){for(r in(!a||(o=z.exec(s)))&&(o&&(s=s.slice(o[0].length)||s),l.push(n=[])),a=!1,(o=V.exec(s))&&(a=o.shift(),n.push({value:a,type:o[0].replace(U," ")}),s=s.slice(a.length)),i.filter)!(o=J[r].exec(s))||c[r]&&!(o=c[r](o))||(a=o.shift(),n.push({value:a,type:r,matches:o}),s=s.slice(a.length));if(!a)break}return t?s.length:s?ne.error(e):C(e,l).slice(0)},s=ne.compile=function(e,t){var a,i=[],o=[],n=S[e+" "];if(!n){for(t||(t=r(e)),a=t.length;a--;)(n=$e(t[a]))[b]?i.push(n):o.push(n);(n=S(e,we(o,i))).selector=e}return n},l=ne.select=function(e,t,o,n){var l,c,d,u,h,p="function"==typeof e&&e,m=!n&&r(e=p.selector||e);if(o=o||[],1===m.length){if((c=m[0]=m[0].slice(0)).length>2&&"ID"===(d=c[0]).type&&a.getById&&9===t.nodeType&&f&&i.relative[c[1].type]){if(!(t=(i.find.ID(d.matches[0].replace(ae,ie),t)||[])[0]))return o;p&&(t=t.parentNode),e=e.slice(c.shift().value.length)}for(l=J.needsContext.test(e)?0:c.length;l--&&(d=c[l],!i.relative[u=d.type]);)if((h=i.find[u])&&(n=h(d.matches[0].replace(ae,ie),ee.test(c[0].type)&&me(t.parentNode)||t))){if(c.splice(l,1),!(e=n.length&&ge(c)))return I.apply(o,n),o;break}}return(p||s(e,m))(n,t,!f,o,ee.test(e)&&me(t.parentNode)||t),o},a.sortStable=b.split("").sort(T).join("")===b,a.detectDuplicates=!!u,h(),a.sortDetached=le((function(e){return 1&e.compareDocumentPosition(p.createElement("div"))})),le((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||ce("type|href|height|width",(function(e,t,a){return a?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),a.attributes&&le((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||ce("value",(function(e,t,a){return a||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue})),le((function(e){return null==e.getAttribute("disabled")}))||ce(P,(function(e,t,a){var i;return a?void 0:!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null})),ne}(e);h.find=_,h.expr=_.selectors,h.expr[":"]=h.expr.pseudos,h.unique=_.uniqueSort,h.text=_.getText,h.isXMLDoc=_.isXML,h.contains=_.contains;var y=h.expr.match.needsContext,b=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,$=/^.[^:#\[\.,]*$/;function w(e,t,a){if(h.isFunction(t))return h.grep(e,(function(e,i){return!!t.call(e,i,e)!==a}));if(t.nodeType)return h.grep(e,(function(e){return e===t!==a}));if("string"==typeof t){if($.test(t))return h.filter(t,e,a);t=h.filter(t,e)}return h.grep(e,(function(e){return h.inArray(e,t)>=0!==a}))}h.filter=function(e,t,a){var i=t[0];return a&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?h.find.matchesSelector(i,e)?[i]:[]:h.find.matches(e,h.grep(t,(function(e){return 1===e.nodeType})))},h.fn.extend({find:function(e){var t,a=[],i=this,o=i.length;if("string"!=typeof e)return this.pushStack(h(e).filter((function(){for(t=0;o>t;t++)if(h.contains(i[t],this))return!0})));for(t=0;o>t;t++)h.find(e,i[t],a);return(a=this.pushStack(o>1?h.unique(a):a)).selector=this.selector?this.selector+" "+e:e,a},filter:function(e){return this.pushStack(w(this,e||[],!1))},not:function(e){return this.pushStack(w(this,e||[],!0))},is:function(e){return!!w(this,"string"==typeof e&&y.test(e)?h(e):e||[],!1).length}});var x,k=e.document,C=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,S=h.fn.init=function(e,t){var a,i;if(!e)return this;if("string"==typeof e){if(!(a="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:C.exec(e))||!a[1]&&t)return!t||t.jquery?(t||x).find(e):this.constructor(t).find(e);if(a[1]){if(t=t instanceof h?t[0]:t,h.merge(this,h.parseHTML(a[1],t&&t.nodeType?t.ownerDocument||t:k,!0)),b.test(a[1])&&h.isPlainObject(t))for(a in t)h.isFunction(this[a])?this[a](t[a]):this.attr(a,t[a]);return this}if((i=k.getElementById(a[2]))&&i.parentNode){if(i.id!==a[2])return x.find(e);this.length=1,this[0]=i}return this.context=k,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):h.isFunction(e)?void 0!==x.ready?x.ready(e):e(h):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),h.makeArray(e,this))};S.prototype=h.fn,x=h(k);var T=/^(?:parents|prev(?:Until|All))/,L={children:!0,contents:!0,next:!0,prev:!0};function M(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}h.extend({dir:function(e,t,a){for(var i=[],o=e[t];o&&9!==o.nodeType&&(void 0===a||1!==o.nodeType||!h(o).is(a));)1===o.nodeType&&i.push(o),o=o[t];return i},sibling:function(e,t){for(var a=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&a.push(e);return a}}),h.fn.extend({has:function(e){var t,a=h(e,this),i=a.length;return this.filter((function(){for(t=0;i>t;t++)if(h.contains(this,a[t]))return!0}))},closest:function(e,t){for(var a,i=0,o=this.length,n=[],r=y.test(e)||"string"!=typeof e?h(e,t||this.context):0;o>i;i++)for(a=this[i];a&&a!==t;a=a.parentNode)if(a.nodeType<11&&(r?r.index(a)>-1:1===a.nodeType&&h.find.matchesSelector(a,e))){n.push(a);break}return this.pushStack(n.length>1?h.unique(n):n)},index:function(e){return e?"string"==typeof e?h.inArray(this[0],h(e)):h.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(h.unique(h.merge(this.get(),h(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),h.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return h.dir(e,"parentNode")},parentsUntil:function(e,t,a){return h.dir(e,"parentNode",a)},next:function(e){return M(e,"nextSibling")},prev:function(e){return M(e,"previousSibling")},nextAll:function(e){return h.dir(e,"nextSibling")},prevAll:function(e){return h.dir(e,"previousSibling")},nextUntil:function(e,t,a){return h.dir(e,"nextSibling",a)},prevUntil:function(e,t,a){return h.dir(e,"previousSibling",a)},siblings:function(e){return h.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return h.sibling(e.firstChild)},contents:function(e){return h.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:h.merge([],e.childNodes)}},(function(e,t){h.fn[e]=function(a,i){var o=h.map(this,t,a);return"Until"!==e.slice(-5)&&(i=a),i&&"string"==typeof i&&(o=h.filter(i,o)),this.length>1&&(L[e]||(o=h.unique(o)),T.test(e)&&(o=o.reverse())),this.pushStack(o)}}));var A,N=/\S+/g,D={};function I(){k.addEventListener?(k.removeEventListener("DOMContentLoaded",O,!1),e.removeEventListener("load",O,!1)):(k.detachEvent("onreadystatechange",O),e.detachEvent("onload",O))}function O(){(k.addEventListener||"load"===event.type||"complete"===k.readyState)&&(I(),h.ready())}h.Callbacks=function(e){e="string"==typeof e?D[e]||function(e){var t=D[e]={};return h.each(e.match(N)||[],(function(e,a){t[a]=!0})),t}(e):h.extend({},e);var t,a,i,o,n,r,s=[],l=!e.once&&[],c=function(u){for(a=e.memory&&u,i=!0,n=r||0,r=0,o=s.length,t=!0;s&&o>n;n++)if(!1===s[n].apply(u[0],u[1])&&e.stopOnFalse){a=!1;break}t=!1,s&&(l?l.length&&c(l.shift()):a?s=[]:d.disable())},d={add:function(){if(s){var i=s.length;!function t(a){h.each(a,(function(a,i){var o=h.type(i);"function"===o?e.unique&&d.has(i)||s.push(i):i&&i.length&&"string"!==o&&t(i)}))}(arguments),t?o=s.length:a&&(r=i,c(a))}return this},remove:function(){return s&&h.each(arguments,(function(e,a){for(var i;(i=h.inArray(a,s,i))>-1;)s.splice(i,1),t&&(o>=i&&o--,n>=i&&n--)})),this},has:function(e){return e?h.inArray(e,s)>-1:!(!s||!s.length)},empty:function(){return s=[],o=0,this},disable:function(){return s=l=a=void 0,this},disabled:function(){return!s},lock:function(){return l=void 0,a||d.disable(),this},locked:function(){return!l},fireWith:function(e,a){return!s||i&&!l||(a=[e,(a=a||[]).slice?a.slice():a],t?l.push(a):c(a)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!i}};return d},h.extend({Deferred:function(e){var t=[["resolve","done",h.Callbacks("once memory"),"resolved"],["reject","fail",h.Callbacks("once memory"),"rejected"],["notify","progress",h.Callbacks("memory")]],a="pending",i={state:function(){return a},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return h.Deferred((function(a){h.each(t,(function(t,n){var r=h.isFunction(e[t])&&e[t];o[n[1]]((function(){var e=r&&r.apply(this,arguments);e&&h.isFunction(e.promise)?e.promise().done(a.resolve).fail(a.reject).progress(a.notify):a[n[0]+"With"](this===i?a.promise():this,r?[e]:arguments)}))})),e=null})).promise()},promise:function(e){return null!=e?h.extend(e,i):i}},o={};return i.pipe=i.then,h.each(t,(function(e,n){var r=n[2],s=n[3];i[n[1]]=r.add,s&&r.add((function(){a=s}),t[1^e][2].disable,t[2][2].lock),o[n[0]]=function(){return o[n[0]+"With"](this===o?i:this,arguments),this},o[n[0]+"With"]=r.fireWith})),i.promise(o),e&&e.call(o,o),o},when:function(e){var t,a,o,n=0,r=i.call(arguments),s=r.length,l=1!==s||e&&h.isFunction(e.promise)?s:0,c=1===l?e:h.Deferred(),d=function(e,a,o){return function(n){a[e]=this,o[e]=arguments.length>1?i.call(arguments):n,o===t?c.notifyWith(a,o):--l||c.resolveWith(a,o)}};if(s>1)for(t=new Array(s),a=new Array(s),o=new Array(s);s>n;n++)r[n]&&h.isFunction(r[n].promise)?r[n].promise().done(d(n,o,r)).fail(c.reject).progress(d(n,a,t)):--l;return l||c.resolveWith(o,r),c.promise()}}),h.fn.ready=function(e){return h.ready.promise().done(e),this},h.extend({isReady:!1,readyWait:1,holdReady:function(e){e?h.readyWait++:h.ready(!0)},ready:function(e){if(!0===e?! --h.readyWait:!h.isReady){if(!k.body)return setTimeout(h.ready);h.isReady=!0,!0!==e&&--h.readyWait>0||(A.resolveWith(k,[h]),h.fn.triggerHandler&&(h(k).triggerHandler("ready"),h(k).off("ready")))}}}),h.ready.promise=function(t){if(!A)if(A=h.Deferred(),"complete"===k.readyState)setTimeout(h.ready);else if(k.addEventListener)k.addEventListener("DOMContentLoaded",O,!1),e.addEventListener("load",O,!1);else{k.attachEvent("onreadystatechange",O),e.attachEvent("onload",O);var a=!1;try{a=null==e.frameElement&&k.documentElement}catch(e){}a&&a.doScroll&&function e(){if(!h.isReady){try{a.doScroll("left")}catch(t){return setTimeout(e,50)}I(),h.ready()}}()}return A.promise(t)};var E,P="undefined";for(E in h(d))break;d.ownLast="0"!==E,d.inlineBlockNeedsLayout=!1,h((function(){var e,t,a,i;(a=k.getElementsByTagName("body")[0])&&a.style&&(t=k.createElement("div"),(i=k.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",a.appendChild(i).appendChild(t),typeof t.style.zoom!==P&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",d.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(a.style.zoom=1)),a.removeChild(i))})),function(){var e=k.createElement("div");if(null==d.deleteExpando){d.deleteExpando=!0;try{delete e.test}catch(e){d.deleteExpando=!1}}e=null}(),h.acceptData=function(e){var t=h.noData[(e.nodeName+" ").toLowerCase()],a=+e.nodeType||1;return(1===a||9===a)&&(!t||!0!==t&&e.getAttribute("classid")===t)};var F=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,q=/([A-Z])/g;function B(e,t,a){if(void 0===a&&1===e.nodeType){var i="data-"+t.replace(q,"-$1").toLowerCase();if("string"==typeof(a=e.getAttribute(i))){try{a="true"===a||"false"!==a&&("null"===a?null:+a+""===a?+a:F.test(a)?h.parseJSON(a):a)}catch(e){}h.data(e,t,a)}else a=void 0}return a}function j(e){var t;for(t in e)if(("data"!==t||!h.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function R(e,t,i,o){if(h.acceptData(e)){var n,r,s=h.expando,l=e.nodeType,c=l?h.cache:e,d=l?e[s]:e[s]&&s;if(d&&c[d]&&(o||c[d].data)||void 0!==i||"string"!=typeof t)return d||(d=l?e[s]=a.pop()||h.guid++:s),c[d]||(c[d]=l?{}:{toJSON:h.noop}),("object"==typeof t||"function"==typeof t)&&(o?c[d]=h.extend(c[d],t):c[d].data=h.extend(c[d].data,t)),r=c[d],o||(r.data||(r.data={}),r=r.data),void 0!==i&&(r[h.camelCase(t)]=i),"string"==typeof t?null==(n=r[t])&&(n=r[h.camelCase(t)]):n=r,n}}function H(e,t,a){if(h.acceptData(e)){var i,o,n=e.nodeType,r=n?h.cache:e,s=n?e[h.expando]:h.expando;if(r[s]){if(t&&(i=a?r[s]:r[s].data)){h.isArray(t)?t=t.concat(h.map(t,h.camelCase)):t in i?t=[t]:t=(t=h.camelCase(t))in i?[t]:t.split(" "),o=t.length;for(;o--;)delete i[t[o]];if(a?!j(i):!h.isEmptyObject(i))return}(a||(delete r[s].data,j(r[s])))&&(n?h.cleanData([e],!0):d.deleteExpando||r!=r.window?delete r[s]:r[s]=null)}}}h.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?h.cache[e[h.expando]]:e[h.expando])&&!j(e)},data:function(e,t,a){return R(e,t,a)},removeData:function(e,t){return H(e,t)},_data:function(e,t,a){return R(e,t,a,!0)},_removeData:function(e,t){return H(e,t,!0)}}),h.fn.extend({data:function(e,t){var a,i,o,n=this[0],r=n&&n.attributes;if(void 0===e){if(this.length&&(o=h.data(n),1===n.nodeType&&!h._data(n,"parsedAttrs"))){for(a=r.length;a--;)r[a]&&(0===(i=r[a].name).indexOf("data-")&&B(n,i=h.camelCase(i.slice(5)),o[i]));h._data(n,"parsedAttrs",!0)}return o}return"object"==typeof e?this.each((function(){h.data(this,e)})):arguments.length>1?this.each((function(){h.data(this,e,t)})):n?B(n,e,h.data(n,e)):void 0},removeData:function(e){return this.each((function(){h.removeData(this,e)}))}}),h.extend({queue:function(e,t,a){var i;return e?(t=(t||"fx")+"queue",i=h._data(e,t),a&&(!i||h.isArray(a)?i=h._data(e,t,h.makeArray(a)):i.push(a)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var a=h.queue(e,t),i=a.length,o=a.shift(),n=h._queueHooks(e,t);"inprogress"===o&&(o=a.shift(),i--),o&&("fx"===t&&a.unshift("inprogress"),delete n.stop,o.call(e,(function(){h.dequeue(e,t)}),n)),!i&&n&&n.empty.fire()},_queueHooks:function(e,t){var a=t+"queueHooks";return h._data(e,a)||h._data(e,a,{empty:h.Callbacks("once memory").add((function(){h._removeData(e,t+"queue"),h._removeData(e,a)}))})}}),h.fn.extend({queue:function(e,t){var a=2;return"string"!=typeof e&&(t=e,e="fx",a--),arguments.length<a?h.queue(this[0],e):void 0===t?this:this.each((function(){var a=h.queue(this,e,t);h._queueHooks(this,e),"fx"===e&&"inprogress"!==a[0]&&h.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){h.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var a,i=1,o=h.Deferred(),n=this,r=this.length,s=function(){--i||o.resolveWith(n,[n])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";r--;)(a=h._data(n[r],e+"queueHooks"))&&a.empty&&(i++,a.empty.add(s));return s(),o.promise(t)}});var U=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,z=["Top","Right","Bottom","Left"],V=function(e,t){return e=t||e,"none"===h.css(e,"display")||!h.contains(e.ownerDocument,e)},W=h.access=function(e,t,a,i,o,n,r){var s=0,l=e.length,c=null==a;if("object"===h.type(a))for(s in o=!0,a)h.access(e,t,s,a[s],!0,n,r);else if(void 0!==i&&(o=!0,h.isFunction(i)||(r=!0),c&&(r?(t.call(e,i),t=null):(c=t,t=function(e,t,a){return c.call(h(e),a)})),t))for(;l>s;s++)t(e[s],a,r?i:i.call(e[s],s,t(e[s],a)));return o?e:c?t.call(e):l?t(e[0],a):n},Q=/^(?:checkbox|radio)$/i;!function(){var e=k.createElement("input"),t=k.createElement("div"),a=k.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d.leadingWhitespace=3===t.firstChild.nodeType,d.tbody=!t.getElementsByTagName("tbody").length,d.htmlSerialize=!!t.getElementsByTagName("link").length,d.html5Clone="<:nav></:nav>"!==k.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,a.appendChild(e),d.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",d.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,a.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",d.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,d.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",(function(){d.noCloneEvent=!1})),t.cloneNode(!0).click()),null==d.deleteExpando){d.deleteExpando=!0;try{delete t.test}catch(e){d.deleteExpando=!1}}}(),function(){var t,a,i=k.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})a="on"+t,(d[t+"Bubbles"]=a in e)||(i.setAttribute(a,"t"),d[t+"Bubbles"]=!1===i.attributes[a].expando);i=null}();var G=/^(?:input|select|textarea)$/i,J=/^key/,Z=/^(?:mouse|pointer|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\.(.+)|)$/;function K(){return!0}function ee(){return!1}function te(){try{return k.activeElement}catch(e){}}function ae(e){var t=ie.split("|"),a=e.createDocumentFragment();if(a.createElement)for(;t.length;)a.createElement(t.pop());return a}h.event={global:{},add:function(e,t,a,i,o){var n,r,s,l,c,d,u,p,m,f,g,v=h._data(e);if(v){for(a.handler&&(a=(l=a).handler,o=l.selector),a.guid||(a.guid=h.guid++),(r=v.events)||(r=v.events={}),(d=v.handle)||(d=v.handle=function(e){return typeof h===P||e&&h.event.triggered===e.type?void 0:h.event.dispatch.apply(d.elem,arguments)},d.elem=e),s=(t=(t||"").match(N)||[""]).length;s--;)m=g=(n=Y.exec(t[s])||[])[1],f=(n[2]||"").split(".").sort(),m&&(c=h.event.special[m]||{},m=(o?c.delegateType:c.bindType)||m,c=h.event.special[m]||{},u=h.extend({type:m,origType:g,data:i,handler:a,guid:a.guid,selector:o,needsContext:o&&h.expr.match.needsContext.test(o),namespace:f.join(".")},l),(p=r[m])||((p=r[m]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(e,i,f,d)||(e.addEventListener?e.addEventListener(m,d,!1):e.attachEvent&&e.attachEvent("on"+m,d))),c.add&&(c.add.call(e,u),u.handler.guid||(u.handler.guid=a.guid)),o?p.splice(p.delegateCount++,0,u):p.push(u),h.event.global[m]=!0);e=null}},remove:function(e,t,a,i,o){var n,r,s,l,c,d,u,p,m,f,g,v=h.hasData(e)&&h._data(e);if(v&&(d=v.events)){for(c=(t=(t||"").match(N)||[""]).length;c--;)if(m=g=(s=Y.exec(t[c])||[])[1],f=(s[2]||"").split(".").sort(),m){for(u=h.event.special[m]||{},p=d[m=(i?u.delegateType:u.bindType)||m]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=n=p.length;n--;)r=p[n],!o&&g!==r.origType||a&&a.guid!==r.guid||s&&!s.test(r.namespace)||i&&i!==r.selector&&("**"!==i||!r.selector)||(p.splice(n,1),r.selector&&p.delegateCount--,u.remove&&u.remove.call(e,r));l&&!p.length&&(u.teardown&&!1!==u.teardown.call(e,f,v.handle)||h.removeEvent(e,m,v.handle),delete d[m])}else for(m in d)h.event.remove(e,m+t[c],a,i,!0);h.isEmptyObject(d)&&(delete v.handle,h._removeData(e,"events"))}},trigger:function(t,a,i,o){var n,r,s,l,d,u,p,m=[i||k],f=c.call(t,"type")?t.type:t,g=c.call(t,"namespace")?t.namespace.split("."):[];if(s=u=i=i||k,3!==i.nodeType&&8!==i.nodeType&&!X.test(f+h.event.triggered)&&(f.indexOf(".")>=0&&(g=f.split("."),f=g.shift(),g.sort()),r=f.indexOf(":")<0&&"on"+f,(t=t[h.expando]?t:new h.Event(f,"object"==typeof t&&t)).isTrigger=o?2:3,t.namespace=g.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),a=null==a?[t]:h.makeArray(a,[t]),d=h.event.special[f]||{},o||!d.trigger||!1!==d.trigger.apply(i,a))){if(!o&&!d.noBubble&&!h.isWindow(i)){for(l=d.delegateType||f,X.test(l+f)||(s=s.parentNode);s;s=s.parentNode)m.push(s),u=s;u===(i.ownerDocument||k)&&m.push(u.defaultView||u.parentWindow||e)}for(p=0;(s=m[p++])&&!t.isPropagationStopped();)t.type=p>1?l:d.bindType||f,(n=(h._data(s,"events")||{})[t.type]&&h._data(s,"handle"))&&n.apply(s,a),(n=r&&s[r])&&n.apply&&h.acceptData(s)&&(t.result=n.apply(s,a),!1===t.result&&t.preventDefault());if(t.type=f,!o&&!t.isDefaultPrevented()&&(!d._default||!1===d._default.apply(m.pop(),a))&&h.acceptData(i)&&r&&i[f]&&!h.isWindow(i)){(u=i[r])&&(i[r]=null),h.event.triggered=f;try{i[f]()}catch(e){}h.event.triggered=void 0,u&&(i[r]=u)}return t.result}},dispatch:function(e){e=h.event.fix(e);var t,a,o,n,r,s=[],l=i.call(arguments),c=(h._data(this,"events")||{})[e.type]||[],d=h.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,e)){for(s=h.event.handlers.call(this,e,c),t=0;(n=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=n.elem,r=0;(o=n.handlers[r++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,void 0!==(a=((h.event.special[o.origType]||{}).handle||o.handler).apply(n.elem,l))&&!1===(e.result=a)&&(e.preventDefault(),e.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,e),e.result}},handlers:function(e,t){var a,i,o,n,r=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(o=[],n=0;s>n;n++)void 0===o[a=(i=t[n]).selector+" "]&&(o[a]=i.needsContext?h(a,this).index(l)>=0:h.find(a,this,null,[l]).length),o[a]&&o.push(i);o.length&&r.push({elem:l,handlers:o})}return s<t.length&&r.push({elem:this,handlers:t.slice(s)}),r},fix:function(e){if(e[h.expando])return e;var t,a,i,o=e.type,n=e,r=this.fixHooks[o];for(r||(this.fixHooks[o]=r=Z.test(o)?this.mouseHooks:J.test(o)?this.keyHooks:{}),i=r.props?this.props.concat(r.props):this.props,e=new h.Event(n),t=i.length;t--;)e[a=i[t]]=n[a];return e.target||(e.target=n.srcElement||k),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,r.filter?r.filter(e,n):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var a,i,o,n=t.button,r=t.fromElement;return null==e.pageX&&null!=t.clientX&&(o=(i=e.target.ownerDocument||k).documentElement,a=i.body,e.pageX=t.clientX+(o&&o.scrollLeft||a&&a.scrollLeft||0)-(o&&o.clientLeft||a&&a.clientLeft||0),e.pageY=t.clientY+(o&&o.scrollTop||a&&a.scrollTop||0)-(o&&o.clientTop||a&&a.clientTop||0)),!e.relatedTarget&&r&&(e.relatedTarget=r===e.target?t.toElement:r),e.which||void 0===n||(e.which=1&n?1:2&n?3:4&n?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==te()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===te()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return h.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return h.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,a,i){var o=h.extend(new h.Event,a,{type:e,isSimulated:!0,originalEvent:{}});i?h.event.trigger(o,null,t):h.event.dispatch.call(t,o),o.isDefaultPrevented()&&a.preventDefault()}},h.removeEvent=k.removeEventListener?function(e,t,a){e.removeEventListener&&e.removeEventListener(t,a,!1)}:function(e,t,a){var i="on"+t;e.detachEvent&&(typeof e[i]===P&&(e[i]=null),e.detachEvent(i,a))},h.Event=function(e,t){return this instanceof h.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?K:ee):this.type=e,t&&h.extend(this,t),this.timeStamp=e&&e.timeStamp||h.now(),void(this[h.expando]=!0)):new h.Event(e,t)},h.Event.prototype={isDefaultPrevented:ee,isPropagationStopped:ee,isImmediatePropagationStopped:ee,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=K,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=K,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=K,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},h.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){h.event.special[e]={delegateType:t,bindType:t,handle:function(e){var a,i=e.relatedTarget,o=e.handleObj;return(!i||i!==this&&!h.contains(this,i))&&(e.type=o.origType,a=o.handler.apply(this,arguments),e.type=t),a}}})),d.submitBubbles||(h.event.special.submit={setup:function(){return!h.nodeName(this,"form")&&void h.event.add(this,"click._submit keypress._submit",(function(e){var t=e.target,a=h.nodeName(t,"input")||h.nodeName(t,"button")?t.form:void 0;a&&!h._data(a,"submitBubbles")&&(h.event.add(a,"submit._submit",(function(e){e._submit_bubble=!0})),h._data(a,"submitBubbles",!0))}))},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&h.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return!h.nodeName(this,"form")&&void h.event.remove(this,"._submit")}}),d.changeBubbles||(h.event.special.change={setup:function(){return G.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(h.event.add(this,"propertychange._change",(function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)})),h.event.add(this,"click._change",(function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),h.event.simulate("change",this,e,!0)}))),!1):void h.event.add(this,"beforeactivate._change",(function(e){var t=e.target;G.test(t.nodeName)&&!h._data(t,"changeBubbles")&&(h.event.add(t,"change._change",(function(e){!this.parentNode||e.isSimulated||e.isTrigger||h.event.simulate("change",this.parentNode,e,!0)})),h._data(t,"changeBubbles",!0))}))},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return h.event.remove(this,"._change"),!G.test(this.nodeName)}}),d.focusinBubbles||h.each({focus:"focusin",blur:"focusout"},(function(e,t){var a=function(e){h.event.simulate(t,e.target,h.event.fix(e),!0)};h.event.special[t]={setup:function(){var i=this.ownerDocument||this,o=h._data(i,t);o||i.addEventListener(e,a,!0),h._data(i,t,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this,o=h._data(i,t)-1;o?h._data(i,t,o):(i.removeEventListener(e,a,!0),h._removeData(i,t))}}})),h.fn.extend({on:function(e,t,a,i,o){var n,r;if("object"==typeof e){for(n in"string"!=typeof t&&(a=a||t,t=void 0),e)this.on(n,t,a,e[n],o);return this}if(null==a&&null==i?(i=t,a=t=void 0):null==i&&("string"==typeof t?(i=a,a=void 0):(i=a,a=t,t=void 0)),!1===i)i=ee;else if(!i)return this;return 1===o&&(r=i,i=function(e){return h().off(e),r.apply(this,arguments)},i.guid=r.guid||(r.guid=h.guid++)),this.each((function(){h.event.add(this,e,i,a,t)}))},one:function(e,t,a,i){return this.on(e,t,a,i,1)},off:function(e,t,a){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,h(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return(!1===t||"function"==typeof t)&&(a=t,t=void 0),!1===a&&(a=ee),this.each((function(){h.event.remove(this,e,a,t)}))},trigger:function(e,t){return this.each((function(){h.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var a=this[0];return a?h.event.trigger(e,t,a,!0):void 0}});var ie="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",oe=/ jQuery\d+="(?:null|\d+)"/g,ne=new RegExp("<(?:"+ie+")[\\s/>]","i"),re=/^\s+/,se=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,le=/<([\w:]+)/,ce=/<tbody/i,de=/<|&#?\w+;/,ue=/<(?:script|style|link)/i,he=/checked\s*(?:[^=]|=\s*.checked.)/i,pe=/^$|\/(?:java|ecma)script/i,me=/^true\/(.*)/,fe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ge={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:d.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ve=ae(k).appendChild(k.createElement("div"));function _e(e,t){var a,i,o=0,n=typeof e.getElementsByTagName!==P?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==P?e.querySelectorAll(t||"*"):void 0;if(!n)for(n=[],a=e.childNodes||e;null!=(i=a[o]);o++)!t||h.nodeName(i,t)?n.push(i):h.merge(n,_e(i,t));return void 0===t||t&&h.nodeName(e,t)?h.merge([e],n):n}function ye(e){Q.test(e.type)&&(e.defaultChecked=e.checked)}function be(e,t){return h.nodeName(e,"table")&&h.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function $e(e){return e.type=(null!==h.find.attr(e,"type"))+"/"+e.type,e}function we(e){var t=me.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function xe(e,t){for(var a,i=0;null!=(a=e[i]);i++)h._data(a,"globalEval",!t||h._data(t[i],"globalEval"))}function ke(e,t){if(1===t.nodeType&&h.hasData(e)){var a,i,o,n=h._data(e),r=h._data(t,n),s=n.events;if(s)for(a in delete r.handle,r.events={},s)for(i=0,o=s[a].length;o>i;i++)h.event.add(t,a,s[a][i]);r.data&&(r.data=h.extend({},r.data))}}function Ce(e,t){var a,i,o;if(1===t.nodeType){if(a=t.nodeName.toLowerCase(),!d.noCloneEvent&&t[h.expando]){for(i in(o=h._data(t)).events)h.removeEvent(t,i,o.handle);t.removeAttribute(h.expando)}"script"===a&&t.text!==e.text?($e(t).text=e.text,we(t)):"object"===a?(t.parentNode&&(t.outerHTML=e.outerHTML),d.html5Clone&&e.innerHTML&&!h.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===a&&Q.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===a?t.defaultSelected=t.selected=e.defaultSelected:("input"===a||"textarea"===a)&&(t.defaultValue=e.defaultValue)}}ge.optgroup=ge.option,ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,h.extend({clone:function(e,t,a){var i,o,n,r,s,l=h.contains(e.ownerDocument,e);if(d.html5Clone||h.isXMLDoc(e)||!ne.test("<"+e.nodeName+">")?n=e.cloneNode(!0):(ve.innerHTML=e.outerHTML,ve.removeChild(n=ve.firstChild)),!(d.noCloneEvent&&d.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||h.isXMLDoc(e)))for(i=_e(n),s=_e(e),r=0;null!=(o=s[r]);++r)i[r]&&Ce(o,i[r]);if(t)if(a)for(s=s||_e(e),i=i||_e(n),r=0;null!=(o=s[r]);r++)ke(o,i[r]);else ke(e,n);return(i=_e(n,"script")).length>0&&xe(i,!l&&_e(e,"script")),i=s=o=null,n},buildFragment:function(e,t,a,i){for(var o,n,r,s,l,c,u,p=e.length,m=ae(t),f=[],g=0;p>g;g++)if((n=e[g])||0===n)if("object"===h.type(n))h.merge(f,n.nodeType?[n]:n);else if(de.test(n)){for(s=s||m.appendChild(t.createElement("div")),l=(le.exec(n)||["",""])[1].toLowerCase(),u=ge[l]||ge._default,s.innerHTML=u[1]+n.replace(se,"<$1></$2>")+u[2],o=u[0];o--;)s=s.lastChild;if(!d.leadingWhitespace&&re.test(n)&&f.push(t.createTextNode(re.exec(n)[0])),!d.tbody)for(o=(n="table"!==l||ce.test(n)?"<table>"!==u[1]||ce.test(n)?0:s:s.firstChild)&&n.childNodes.length;o--;)h.nodeName(c=n.childNodes[o],"tbody")&&!c.childNodes.length&&n.removeChild(c);for(h.merge(f,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=m.lastChild}else f.push(t.createTextNode(n));for(s&&m.removeChild(s),d.appendChecked||h.grep(_e(f,"input"),ye),g=0;n=f[g++];)if((!i||-1===h.inArray(n,i))&&(r=h.contains(n.ownerDocument,n),s=_e(m.appendChild(n),"script"),r&&xe(s),a))for(o=0;n=s[o++];)pe.test(n.type||"")&&a.push(n);return s=null,m},cleanData:function(e,t){for(var i,o,n,r,s=0,l=h.expando,c=h.cache,u=d.deleteExpando,p=h.event.special;null!=(i=e[s]);s++)if((t||h.acceptData(i))&&(r=(n=i[l])&&c[n])){if(r.events)for(o in r.events)p[o]?h.event.remove(i,o):h.removeEvent(i,o,r.handle);c[n]&&(delete c[n],u?delete i[l]:typeof i.removeAttribute!==P?i.removeAttribute(l):i[l]=null,a.push(n))}}}),h.fn.extend({text:function(e){return W(this,(function(e){return void 0===e?h.text(this):this.empty().append((this[0]&&this[0].ownerDocument||k).createTextNode(e))}),null,e,arguments.length)},append:function(){return this.domManip(arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||be(this,e).appendChild(e)}))},prepend:function(){return this.domManip(arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=be(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return this.domManip(arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return this.domManip(arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},remove:function(e,t){for(var a,i=e?h.filter(e,this):this,o=0;null!=(a=i[o]);o++)t||1!==a.nodeType||h.cleanData(_e(a)),a.parentNode&&(t&&h.contains(a.ownerDocument,a)&&xe(_e(a,"script")),a.parentNode.removeChild(a));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&h.cleanData(_e(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&h.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return h.clone(this,e,t)}))},html:function(e){return W(this,(function(e){var t=this[0]||{},a=0,i=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(oe,""):void 0;if(!("string"!=typeof e||ue.test(e)||!d.htmlSerialize&&ne.test(e)||!d.leadingWhitespace&&re.test(e)||ge[(le.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(se,"<$1></$2>");try{for(;i>a;a++)1===(t=this[a]||{}).nodeType&&(h.cleanData(_e(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,(function(t){e=this.parentNode,h.cleanData(_e(this)),e&&e.replaceChild(t,this)})),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=o.apply([],e);var a,i,n,r,s,l,c=0,u=this.length,p=this,m=u-1,f=e[0],g=h.isFunction(f);if(g||u>1&&"string"==typeof f&&!d.checkClone&&he.test(f))return this.each((function(a){var i=p.eq(a);g&&(e[0]=f.call(this,a,i.html())),i.domManip(e,t)}));if(u&&(a=(l=h.buildFragment(e,this[0].ownerDocument,!1,this)).firstChild,1===l.childNodes.length&&(l=a),a)){for(n=(r=h.map(_e(l,"script"),$e)).length;u>c;c++)i=l,c!==m&&(i=h.clone(i,!0,!0),n&&h.merge(r,_e(i,"script"))),t.call(this[c],i,c);if(n)for(s=r[r.length-1].ownerDocument,h.map(r,we),c=0;n>c;c++)i=r[c],pe.test(i.type||"")&&!h._data(i,"globalEval")&&h.contains(s,i)&&(i.src?h._evalUrl&&h._evalUrl(i.src):h.globalEval((i.text||i.textContent||i.innerHTML||"").replace(fe,"")));l=a=null}return this}}),h.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){h.fn[e]=function(e){for(var a,i=0,o=[],r=h(e),s=r.length-1;s>=i;i++)a=i===s?this:this.clone(!0),h(r[i])[t](a),n.apply(o,a.get());return this.pushStack(o)}}));var Se,Te={};function Le(t,a){var i,o=h(a.createElement(t)).appendTo(a.body),n=e.getDefaultComputedStyle&&(i=e.getDefaultComputedStyle(o[0]))?i.display:h.css(o[0],"display");return o.detach(),n}function Me(e){var t=k,a=Te[e];return a||("none"!==(a=Le(e,t))&&a||((t=((Se=(Se||h("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentWindow||Se[0].contentDocument).document).write(),t.close(),a=Le(e,t),Se.detach()),Te[e]=a),a}!function(){var e;d.shrinkWrapBlocks=function(){return null!=e?e:(e=!1,(a=k.getElementsByTagName("body")[0])&&a.style?(t=k.createElement("div"),(i=k.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",a.appendChild(i).appendChild(t),typeof t.style.zoom!==P&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(k.createElement("div")).style.width="5px",e=3!==t.offsetWidth),a.removeChild(i),e):void 0);var t,a,i}}();var Ae,Ne,De=/^margin/,Ie=new RegExp("^("+U+")(?!px)[a-z%]+$","i"),Oe=/^(top|right|bottom|left)$/;function Ee(e,t){return{get:function(){var a=e();if(null!=a)return a?void delete this.get:(this.get=t).apply(this,arguments)}}}e.getComputedStyle?(Ae=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},Ne=function(e,t,a){var i,o,n,r,s=e.style;return r=(a=a||Ae(e))?a.getPropertyValue(t)||a[t]:void 0,a&&(""!==r||h.contains(e.ownerDocument,e)||(r=h.style(e,t)),Ie.test(r)&&De.test(t)&&(i=s.width,o=s.minWidth,n=s.maxWidth,s.minWidth=s.maxWidth=s.width=r,r=a.width,s.width=i,s.minWidth=o,s.maxWidth=n)),void 0===r?r:r+""}):k.documentElement.currentStyle&&(Ae=function(e){return e.currentStyle},Ne=function(e,t,a){var i,o,n,r,s=e.style;return null==(r=(a=a||Ae(e))?a[t]:void 0)&&s&&s[t]&&(r=s[t]),Ie.test(r)&&!Oe.test(t)&&(i=s.left,(n=(o=e.runtimeStyle)&&o.left)&&(o.left=e.currentStyle.left),s.left="fontSize"===t?"1em":r,r=s.pixelLeft+"px",s.left=i,n&&(o.left=n)),void 0===r?r:r+""||"auto"}),function(){var t,a,i,o,n,r,s;if((t=k.createElement("div")).innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=(i=t.getElementsByTagName("a")[0])&&i.style){function l(){var t,a,i,l;(a=k.getElementsByTagName("body")[0])&&a.style&&(t=k.createElement("div"),(i=k.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",a.appendChild(i).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=n=!1,s=!0,e.getComputedStyle&&(o="1%"!==(e.getComputedStyle(t,null)||{}).top,n="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,(l=t.appendChild(k.createElement("div"))).style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",l.style.marginRight=l.style.width="0",t.style.width="1px",s=!parseFloat((e.getComputedStyle(l,null)||{}).marginRight),t.removeChild(l)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(l=t.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(r=0===l[0].offsetHeight)&&(l[0].style.display="",l[1].style.display="none",r=0===l[0].offsetHeight),a.removeChild(i))}a.cssText="float:left;opacity:.5",d.opacity="0.5"===a.opacity,d.cssFloat=!!a.cssFloat,t.style.backgroundClip="content-box",t.cloneNode(!0).style.backgroundClip="",d.clearCloneStyle="content-box"===t.style.backgroundClip,d.boxSizing=""===a.boxSizing||""===a.MozBoxSizing||""===a.WebkitBoxSizing,h.extend(d,{reliableHiddenOffsets:function(){return null==r&&l(),r},boxSizingReliable:function(){return null==n&&l(),n},pixelPosition:function(){return null==o&&l(),o},reliableMarginRight:function(){return null==s&&l(),s}})}}(),h.swap=function(e,t,a,i){var o,n,r={};for(n in t)r[n]=e.style[n],e.style[n]=t[n];for(n in o=a.apply(e,i||[]),t)e.style[n]=r[n];return o};var Pe=/alpha\([^)]*\)/i,Fe=/opacity\s*=\s*([^)]*)/,qe=/^(none|table(?!-c[ea]).+)/,Be=new RegExp("^("+U+")(.*)$","i"),je=new RegExp("^([+-])=("+U+")","i"),Re={position:"absolute",visibility:"hidden",display:"block"},He={letterSpacing:"0",fontWeight:"400"},Ue=["Webkit","O","Moz","ms"];function ze(e,t){if(t in e)return t;for(var a=t.charAt(0).toUpperCase()+t.slice(1),i=t,o=Ue.length;o--;)if((t=Ue[o]+a)in e)return t;return i}function Ve(e,t){for(var a,i,o,n=[],r=0,s=e.length;s>r;r++)(i=e[r]).style&&(n[r]=h._data(i,"olddisplay"),a=i.style.display,t?(n[r]||"none"!==a||(i.style.display=""),""===i.style.display&&V(i)&&(n[r]=h._data(i,"olddisplay",Me(i.nodeName)))):(o=V(i),(a&&"none"!==a||!o)&&h._data(i,"olddisplay",o?a:h.css(i,"display"))));for(r=0;s>r;r++)(i=e[r]).style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?n[r]||"":"none"));return e}function We(e,t,a){var i=Be.exec(t);return i?Math.max(0,i[1]-(a||0))+(i[2]||"px"):t}function Qe(e,t,a,i,o){for(var n=a===(i?"border":"content")?4:"width"===t?1:0,r=0;4>n;n+=2)"margin"===a&&(r+=h.css(e,a+z[n],!0,o)),i?("content"===a&&(r-=h.css(e,"padding"+z[n],!0,o)),"margin"!==a&&(r-=h.css(e,"border"+z[n]+"Width",!0,o))):(r+=h.css(e,"padding"+z[n],!0,o),"padding"!==a&&(r+=h.css(e,"border"+z[n]+"Width",!0,o)));return r}function Ge(e,t,a){var i=!0,o="width"===t?e.offsetWidth:e.offsetHeight,n=Ae(e),r=d.boxSizing&&"border-box"===h.css(e,"boxSizing",!1,n);if(0>=o||null==o){if((0>(o=Ne(e,t,n))||null==o)&&(o=e.style[t]),Ie.test(o))return o;i=r&&(d.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+Qe(e,t,a||(r?"border":"content"),i,n)+"px"}function Je(e,t,a,i,o){return new Je.prototype.init(e,t,a,i,o)}h.extend({cssHooks:{opacity:{get:function(e,t){if(t){var a=Ne(e,"opacity");return""===a?"1":a}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:d.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,a,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,n,r,s=h.camelCase(t),l=e.style;if(t=h.cssProps[s]||(h.cssProps[s]=ze(l,s)),r=h.cssHooks[t]||h.cssHooks[s],void 0===a)return r&&"get"in r&&void 0!==(o=r.get(e,!1,i))?o:l[t];if("string"===(n=typeof a)&&(o=je.exec(a))&&(a=(o[1]+1)*o[2]+parseFloat(h.css(e,t)),n="number"),null!=a&&a==a&&("number"!==n||h.cssNumber[s]||(a+="px"),d.clearCloneStyle||""!==a||0!==t.indexOf("background")||(l[t]="inherit"),!r||!("set"in r)||void 0!==(a=r.set(e,a,i))))try{l[t]=a}catch(e){}}},css:function(e,t,a,i){var o,n,r,s=h.camelCase(t);return t=h.cssProps[s]||(h.cssProps[s]=ze(e.style,s)),(r=h.cssHooks[t]||h.cssHooks[s])&&"get"in r&&(n=r.get(e,!0,a)),void 0===n&&(n=Ne(e,t,i)),"normal"===n&&t in He&&(n=He[t]),""===a||a?(o=parseFloat(n),!0===a||h.isNumeric(o)?o||0:n):n}}),h.each(["height","width"],(function(e,t){h.cssHooks[t]={get:function(e,a,i){return a?qe.test(h.css(e,"display"))&&0===e.offsetWidth?h.swap(e,Re,(function(){return Ge(e,t,i)})):Ge(e,t,i):void 0},set:function(e,a,i){var o=i&&Ae(e);return We(0,a,i?Qe(e,t,i,d.boxSizing&&"border-box"===h.css(e,"boxSizing",!1,o),o):0)}}})),d.opacity||(h.cssHooks.opacity={get:function(e,t){return Fe.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var a=e.style,i=e.currentStyle,o=h.isNumeric(t)?"alpha(opacity="+100*t+")":"",n=i&&i.filter||a.filter||"";a.zoom=1,(t>=1||""===t)&&""===h.trim(n.replace(Pe,""))&&a.removeAttribute&&(a.removeAttribute("filter"),""===t||i&&!i.filter)||(a.filter=Pe.test(n)?n.replace(Pe,o):n+" "+o)}}),h.cssHooks.marginRight=Ee(d.reliableMarginRight,(function(e,t){return t?h.swap(e,{display:"inline-block"},Ne,[e,"marginRight"]):void 0})),h.each({margin:"",padding:"",border:"Width"},(function(e,t){h.cssHooks[e+t]={expand:function(a){for(var i=0,o={},n="string"==typeof a?a.split(" "):[a];4>i;i++)o[e+z[i]+t]=n[i]||n[i-2]||n[0];return o}},De.test(e)||(h.cssHooks[e+t].set=We)})),h.fn.extend({css:function(e,t){return W(this,(function(e,t,a){var i,o,n={},r=0;if(h.isArray(t)){for(i=Ae(e),o=t.length;o>r;r++)n[t[r]]=h.css(e,t[r],!1,i);return n}return void 0!==a?h.style(e,t,a):h.css(e,t)}),e,t,arguments.length>1)},show:function(){return Ve(this,!0)},hide:function(){return Ve(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){V(this)?h(this).show():h(this).hide()}))}}),h.Tween=Je,Je.prototype={constructor:Je,init:function(e,t,a,i,o,n){this.elem=e,this.prop=a,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=n||(h.cssNumber[a]?"":"px")},cur:function(){var e=Je.propHooks[this.prop];return e&&e.get?e.get(this):Je.propHooks._default.get(this)},run:function(e){var t,a=Je.propHooks[this.prop];return this.pos=t=this.options.duration?h.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),a&&a.set?a.set(this):Je.propHooks._default.set(this),this}},Je.prototype.init.prototype=Je.prototype,Je.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=h.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){h.fx.step[e.prop]?h.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[h.cssProps[e.prop]]||h.cssHooks[e.prop])?h.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Je.propHooks.scrollTop=Je.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},h.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},h.fx=Je.prototype.init,h.fx.step={};var Ze,Xe,Ye=/^(?:toggle|show|hide)$/,Ke=new RegExp("^(?:([+-])=|)("+U+")([a-z%]*)$","i"),et=/queueHooks$/,tt=[function(e,t,a){var i,o,n,r,s,l,c,u=this,p={},m=e.style,f=e.nodeType&&V(e),g=h._data(e,"fxshow");for(i in a.queue||(null==(s=h._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always((function(){u.always((function(){s.unqueued--,h.queue(e,"fx").length||s.empty.fire()}))}))),1===e.nodeType&&("height"in t||"width"in t)&&(a.overflow=[m.overflow,m.overflowX,m.overflowY],c=h.css(e,"display"),"inline"===("none"===c?h._data(e,"olddisplay")||Me(e.nodeName):c)&&"none"===h.css(e,"float")&&(d.inlineBlockNeedsLayout&&"inline"!==Me(e.nodeName)?m.zoom=1:m.display="inline-block")),a.overflow&&(m.overflow="hidden",d.shrinkWrapBlocks()||u.always((function(){m.overflow=a.overflow[0],m.overflowX=a.overflow[1],m.overflowY=a.overflow[2]}))),t)if(o=t[i],Ye.exec(o)){if(delete t[i],n=n||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!g||void 0===g[i])continue;f=!0}p[i]=g&&g[i]||h.style(e,i)}else c=void 0;if(h.isEmptyObject(p))"inline"===("none"===c?Me(e.nodeName):c)&&(m.display=c);else for(i in g?"hidden"in g&&(f=g.hidden):g=h._data(e,"fxshow",{}),n&&(g.hidden=!f),f?h(e).show():u.done((function(){h(e).hide()})),u.done((function(){var t;for(t in h._removeData(e,"fxshow"),p)h.style(e,t,p[t])})),p)r=nt(f?g[i]:0,i,u),i in g||(g[i]=r.start,f&&(r.end=r.start,r.start="width"===i||"height"===i?1:0))}],at={"*":[function(e,t){var a=this.createTween(e,t),i=a.cur(),o=Ke.exec(t),n=o&&o[3]||(h.cssNumber[e]?"":"px"),r=(h.cssNumber[e]||"px"!==n&&+i)&&Ke.exec(h.css(a.elem,e)),s=1,l=20;if(r&&r[3]!==n){n=n||r[3],o=o||[],r=+i||1;do{r/=s=s||".5",h.style(a.elem,e,r+n)}while(s!==(s=a.cur()/i)&&1!==s&&--l)}return o&&(r=a.start=+r||+i||0,a.unit=n,a.end=o[1]?r+(o[1]+1)*o[2]:+o[2]),a}]};function it(){return setTimeout((function(){Ze=void 0})),Ze=h.now()}function ot(e,t){var a,i={height:e},o=0;for(t=t?1:0;4>o;o+=2-t)i["margin"+(a=z[o])]=i["padding"+a]=e;return t&&(i.opacity=i.width=e),i}function nt(e,t,a){for(var i,o=(at[t]||[]).concat(at["*"]),n=0,r=o.length;r>n;n++)if(i=o[n].call(a,t,e))return i}function rt(e,t,a){var i,o,n=0,r=tt.length,s=h.Deferred().always((function(){delete l.elem})),l=function(){if(o)return!1;for(var t=Ze||it(),a=Math.max(0,c.startTime+c.duration-t),i=1-(a/c.duration||0),n=0,r=c.tweens.length;r>n;n++)c.tweens[n].run(i);return s.notifyWith(e,[c,i,a]),1>i&&r?a:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:h.extend({},t),opts:h.extend(!0,{specialEasing:{}},a),originalProperties:t,originalOptions:a,startTime:Ze||it(),duration:a.duration,tweens:[],createTween:function(t,a){var i=h.Tween(e,c.opts,t,a,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var a=0,i=t?c.tweens.length:0;if(o)return this;for(o=!0;i>a;a++)c.tweens[a].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),d=c.props;for(function(e,t){var a,i,o,n,r;for(a in e)if(o=t[i=h.camelCase(a)],n=e[a],h.isArray(n)&&(o=n[1],n=e[a]=n[0]),a!==i&&(e[i]=n,delete e[a]),(r=h.cssHooks[i])&&"expand"in r)for(a in n=r.expand(n),delete e[i],n)a in e||(e[a]=n[a],t[a]=o);else t[i]=o}(d,c.opts.specialEasing);r>n;n++)if(i=tt[n].call(c,e,d,c.opts))return i;return h.map(d,nt,c),h.isFunction(c.opts.start)&&c.opts.start.call(e,c),h.fx.timer(h.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}h.Animation=h.extend(rt,{tweener:function(e,t){h.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var a,i=0,o=e.length;o>i;i++)a=e[i],at[a]=at[a]||[],at[a].unshift(t)},prefilter:function(e,t){t?tt.unshift(e):tt.push(e)}}),h.speed=function(e,t,a){var i=e&&"object"==typeof e?h.extend({},e):{complete:a||!a&&t||h.isFunction(e)&&e,duration:e,easing:a&&t||t&&!h.isFunction(t)&&t};return i.duration=h.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in h.fx.speeds?h.fx.speeds[i.duration]:h.fx.speeds._default,(null==i.queue||!0===i.queue)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){h.isFunction(i.old)&&i.old.call(this),i.queue&&h.dequeue(this,i.queue)},i},h.fn.extend({fadeTo:function(e,t,a,i){return this.filter(V).css("opacity",0).show().end().animate({opacity:t},e,a,i)},animate:function(e,t,a,i){var o=h.isEmptyObject(e),n=h.speed(t,a,i),r=function(){var t=rt(this,h.extend({},e),n);(o||h._data(this,"finish"))&&t.stop(!0)};return r.finish=r,o||!1===n.queue?this.each(r):this.queue(n.queue,r)},stop:function(e,t,a){var i=function(e){var t=e.stop;delete e.stop,t(a)};return"string"!=typeof e&&(a=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each((function(){var t=!0,o=null!=e&&e+"queueHooks",n=h.timers,r=h._data(this);if(o)r[o]&&r[o].stop&&i(r[o]);else for(o in r)r[o]&&r[o].stop&&et.test(o)&&i(r[o]);for(o=n.length;o--;)n[o].elem!==this||null!=e&&n[o].queue!==e||(n[o].anim.stop(a),t=!1,n.splice(o,1));(t||!a)&&h.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,a=h._data(this),i=a[e+"queue"],o=a[e+"queueHooks"],n=h.timers,r=i?i.length:0;for(a.finish=!0,h.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=n.length;t--;)n[t].elem===this&&n[t].queue===e&&(n[t].anim.stop(!0),n.splice(t,1));for(t=0;r>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete a.finish}))}}),h.each(["toggle","show","hide"],(function(e,t){var a=h.fn[t];h.fn[t]=function(e,i,o){return null==e||"boolean"==typeof e?a.apply(this,arguments):this.animate(ot(t,!0),e,i,o)}})),h.each({slideDown:ot("show"),slideUp:ot("hide"),slideToggle:ot("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){h.fn[e]=function(e,a,i){return this.animate(t,e,a,i)}})),h.timers=[],h.fx.tick=function(){var e,t=h.timers,a=0;for(Ze=h.now();a<t.length;a++)(e=t[a])()||t[a]!==e||t.splice(a--,1);t.length||h.fx.stop(),Ze=void 0},h.fx.timer=function(e){h.timers.push(e),e()?h.fx.start():h.timers.pop()},h.fx.interval=13,h.fx.start=function(){Xe||(Xe=setInterval(h.fx.tick,h.fx.interval))},h.fx.stop=function(){clearInterval(Xe),Xe=null},h.fx.speeds={slow:600,fast:200,_default:400},h.fn.delay=function(e,t){return e=h.fx&&h.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,a){var i=setTimeout(t,e);a.stop=function(){clearTimeout(i)}}))},function(){var e,t,a,i,o;(t=k.createElement("div")).setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=t.getElementsByTagName("a")[0],o=(a=k.createElement("select")).appendChild(k.createElement("option")),e=t.getElementsByTagName("input")[0],i.style.cssText="top:1px",d.getSetAttribute="t"!==t.className,d.style=/top/.test(i.getAttribute("style")),d.hrefNormalized="/a"===i.getAttribute("href"),d.checkOn=!!e.value,d.optSelected=o.selected,d.enctype=!!k.createElement("form").enctype,a.disabled=!0,d.optDisabled=!o.disabled,(e=k.createElement("input")).setAttribute("value",""),d.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),d.radioValue="t"===e.value}();var st=/\r/g;h.fn.extend({val:function(e){var t,a,i,o=this[0];return arguments.length?(i=h.isFunction(e),this.each((function(a){var o;1===this.nodeType&&(null==(o=i?e.call(this,a,h(this).val()):e)?o="":"number"==typeof o?o+="":h.isArray(o)&&(o=h.map(o,(function(e){return null==e?"":e+""}))),(t=h.valHooks[this.type]||h.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))}))):o?(t=h.valHooks[o.type]||h.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(a=t.get(o,"value"))?a:"string"==typeof(a=o.value)?a.replace(st,""):null==a?"":a:void 0}}),h.extend({valHooks:{option:{get:function(e){var t=h.find.attr(e,"value");return null!=t?t:h.trim(h.text(e))}},select:{get:function(e){for(var t,a,i=e.options,o=e.selectedIndex,n="select-one"===e.type||0>o,r=n?null:[],s=n?o+1:i.length,l=0>o?s:n?o:0;s>l;l++)if(!(!(a=i[l]).selected&&l!==o||(d.optDisabled?a.disabled:null!==a.getAttribute("disabled"))||a.parentNode.disabled&&h.nodeName(a.parentNode,"optgroup"))){if(t=h(a).val(),n)return t;r.push(t)}return r},set:function(e,t){for(var a,i,o=e.options,n=h.makeArray(t),r=o.length;r--;)if(i=o[r],h.inArray(h.valHooks.option.get(i),n)>=0)try{i.selected=a=!0}catch(e){i.scrollHeight}else i.selected=!1;return a||(e.selectedIndex=-1),o}}}}),h.each(["radio","checkbox"],(function(){h.valHooks[this]={set:function(e,t){return h.isArray(t)?e.checked=h.inArray(h(e).val(),t)>=0:void 0}},d.checkOn||(h.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}));var lt,ct,dt=h.expr.attrHandle,ut=/^(?:checked|selected)$/i,ht=d.getSetAttribute,pt=d.input;h.fn.extend({attr:function(e,t){return W(this,h.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){h.removeAttr(this,e)}))}}),h.extend({attr:function(e,t,a){var i,o,n=e.nodeType;if(e&&3!==n&&8!==n&&2!==n)return typeof e.getAttribute===P?h.prop(e,t,a):(1===n&&h.isXMLDoc(e)||(t=t.toLowerCase(),i=h.attrHooks[t]||(h.expr.match.bool.test(t)?ct:lt)),void 0===a?i&&"get"in i&&null!==(o=i.get(e,t))?o:null==(o=h.find.attr(e,t))?void 0:o:null!==a?i&&"set"in i&&void 0!==(o=i.set(e,a,t))?o:(e.setAttribute(t,a+""),a):void h.removeAttr(e,t))},removeAttr:function(e,t){var a,i,o=0,n=t&&t.match(N);if(n&&1===e.nodeType)for(;a=n[o++];)i=h.propFix[a]||a,h.expr.match.bool.test(a)?pt&&ht||!ut.test(a)?e[i]=!1:e[h.camelCase("default-"+a)]=e[i]=!1:h.attr(e,a,""),e.removeAttribute(ht?a:i)},attrHooks:{type:{set:function(e,t){if(!d.radioValue&&"radio"===t&&h.nodeName(e,"input")){var a=e.value;return e.setAttribute("type",t),a&&(e.value=a),t}}}}}),ct={set:function(e,t,a){return!1===t?h.removeAttr(e,a):pt&&ht||!ut.test(a)?e.setAttribute(!ht&&h.propFix[a]||a,a):e[h.camelCase("default-"+a)]=e[a]=!0,a}},h.each(h.expr.match.bool.source.match(/\w+/g),(function(e,t){var a=dt[t]||h.find.attr;dt[t]=pt&&ht||!ut.test(t)?function(e,t,i){var o,n;return i||(n=dt[t],dt[t]=o,o=null!=a(e,t,i)?t.toLowerCase():null,dt[t]=n),o}:function(e,t,a){return a?void 0:e[h.camelCase("default-"+t)]?t.toLowerCase():null}})),pt&&ht||(h.attrHooks.value={set:function(e,t,a){return h.nodeName(e,"input")?void(e.defaultValue=t):lt&&lt.set(e,t,a)}}),ht||(lt={set:function(e,t,a){var i=e.getAttributeNode(a);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(a)),i.value=t+="","value"===a||t===e.getAttribute(a)?t:void 0}},dt.id=dt.name=dt.coords=function(e,t,a){var i;return a?void 0:(i=e.getAttributeNode(t))&&""!==i.value?i.value:null},h.valHooks.button={get:function(e,t){var a=e.getAttributeNode(t);return a&&a.specified?a.value:void 0},set:lt.set},h.attrHooks.contenteditable={set:function(e,t,a){lt.set(e,""!==t&&t,a)}},h.each(["width","height"],(function(e,t){h.attrHooks[t]={set:function(e,a){return""===a?(e.setAttribute(t,"auto"),a):void 0}}}))),d.style||(h.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var mt=/^(?:input|select|textarea|button|object)$/i,ft=/^(?:a|area)$/i;h.fn.extend({prop:function(e,t){return W(this,h.prop,e,t,arguments.length>1)},removeProp:function(e){return e=h.propFix[e]||e,this.each((function(){try{this[e]=void 0,delete this[e]}catch(e){}}))}}),h.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,a){var i,o,n=e.nodeType;if(e&&3!==n&&8!==n&&2!==n)return(1!==n||!h.isXMLDoc(e))&&(t=h.propFix[t]||t,o=h.propHooks[t]),void 0!==a?o&&"set"in o&&void 0!==(i=o.set(e,a,t))?i:e[t]=a:o&&"get"in o&&null!==(i=o.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=h.find.attr(e,"tabindex");return t?parseInt(t,10):mt.test(e.nodeName)||ft.test(e.nodeName)&&e.href?0:-1}}}}),d.hrefNormalized||h.each(["href","src"],(function(e,t){h.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),d.optSelected||(h.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),h.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){h.propFix[this.toLowerCase()]=this})),d.enctype||(h.propFix.enctype="encoding");var gt=/[\t\r\n\f]/g;h.fn.extend({addClass:function(e){var t,a,i,o,n,r,s=0,l=this.length,c="string"==typeof e&&e;if(h.isFunction(e))return this.each((function(t){h(this).addClass(e.call(this,t,this.className))}));if(c)for(t=(e||"").match(N)||[];l>s;s++)if(i=1===(a=this[s]).nodeType&&(a.className?(" "+a.className+" ").replace(gt," "):" ")){for(n=0;o=t[n++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r=h.trim(i),a.className!==r&&(a.className=r)}return this},removeClass:function(e){var t,a,i,o,n,r,s=0,l=this.length,c=0===arguments.length||"string"==typeof e&&e;if(h.isFunction(e))return this.each((function(t){h(this).removeClass(e.call(this,t,this.className))}));if(c)for(t=(e||"").match(N)||[];l>s;s++)if(i=1===(a=this[s]).nodeType&&(a.className?(" "+a.className+" ").replace(gt," "):"")){for(n=0;o=t[n++];)for(;i.indexOf(" "+o+" ")>=0;)i=i.replace(" "+o+" "," ");r=e?h.trim(i):"",a.className!==r&&(a.className=r)}return this},toggleClass:function(e,t){var a=typeof e;return"boolean"==typeof t&&"string"===a?t?this.addClass(e):this.removeClass(e):this.each(h.isFunction(e)?function(a){h(this).toggleClass(e.call(this,a,this.className,t),t)}:function(){if("string"===a)for(var t,i=0,o=h(this),n=e.match(N)||[];t=n[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else(a===P||"boolean"===a)&&(this.className&&h._data(this,"__className__",this.className),this.className=this.className||!1===e?"":h._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",a=0,i=this.length;i>a;a++)if(1===this[a].nodeType&&(" "+this[a].className+" ").replace(gt," ").indexOf(t)>=0)return!0;return!1}}),h.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),(function(e,t){h.fn[t]=function(e,a){return arguments.length>0?this.on(t,null,e,a):this.trigger(t)}})),h.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,a){return this.on(e,null,t,a)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,a,i){return this.on(t,e,a,i)},undelegate:function(e,t,a){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",a)}});var vt=h.now(),_t=/\?/,yt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;h.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var a,i=null,o=h.trim(t+"");return o&&!h.trim(o.replace(yt,(function(e,t,o,n){return a&&t&&(i=0),0===i?e:(a=o||t,i+=!n-!o,"")})))?Function("return "+o)():h.error("Invalid JSON: "+t)},h.parseXML=function(t){var a;if(!t||"string"!=typeof t)return null;try{e.DOMParser?a=(new DOMParser).parseFromString(t,"text/xml"):((a=new ActiveXObject("Microsoft.XMLDOM")).async="false",a.loadXML(t))}catch(e){a=void 0}return a&&a.documentElement&&!a.getElementsByTagName("parsererror").length||h.error("Invalid XML: "+t),a};var bt,$t,wt=/#.*$/,xt=/([?&])_=[^&]*/,kt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ct=/^(?:GET|HEAD)$/,St=/^\/\//,Tt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Lt={},Mt={},At="*/".concat("*");try{$t=location.href}catch(e){($t=k.createElement("a")).href="",$t=$t.href}function Nt(e){return function(t,a){"string"!=typeof t&&(a=t,t="*");var i,o=0,n=t.toLowerCase().match(N)||[];if(h.isFunction(a))for(;i=n[o++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(a)):(e[i]=e[i]||[]).push(a)}}function Dt(e,t,a,i){var o={},n=e===Mt;function r(s){var l;return o[s]=!0,h.each(e[s]||[],(function(e,s){var c=s(t,a,i);return"string"!=typeof c||n||o[c]?n?!(l=c):void 0:(t.dataTypes.unshift(c),r(c),!1)})),l}return r(t.dataTypes[0])||!o["*"]&&r("*")}function It(e,t){var a,i,o=h.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((o[i]?e:a||(a={}))[i]=t[i]);return a&&h.extend(!0,e,a),e}bt=Tt.exec($t.toLowerCase())||[],h.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:$t,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(bt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":At,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":h.parseJSON,"text xml":h.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?It(It(e,h.ajaxSettings),t):It(h.ajaxSettings,e)},ajaxPrefilter:Nt(Lt),ajaxTransport:Nt(Mt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var a,i,o,n,r,s,l,c,d=h.ajaxSetup({},t),u=d.context||d,p=d.context&&(u.nodeType||u.jquery)?h(u):h.event,m=h.Deferred(),f=h.Callbacks("once memory"),g=d.statusCode||{},v={},_={},y=0,b="canceled",$={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!c)for(c={};t=kt.exec(n);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?n:null},setRequestHeader:function(e,t){var a=e.toLowerCase();return y||(e=_[a]=_[a]||e,v[e]=t),this},overrideMimeType:function(e){return y||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>y)for(t in e)g[t]=[g[t],e[t]];else $.always(e[$.status]);return this},abort:function(e){var t=e||b;return l&&l.abort(t),w(0,t),this}};if(m.promise($).complete=f.add,$.success=$.done,$.error=$.fail,d.url=((e||d.url||$t)+"").replace(wt,"").replace(St,bt[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=h.trim(d.dataType||"*").toLowerCase().match(N)||[""],null==d.crossDomain&&(a=Tt.exec(d.url.toLowerCase()),d.crossDomain=!(!a||a[1]===bt[1]&&a[2]===bt[2]&&(a[3]||("http:"===a[1]?"80":"443"))===(bt[3]||("http:"===bt[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=h.param(d.data,d.traditional)),Dt(Lt,d,t,$),2===y)return $;for(i in(s=h.event&&d.global)&&0==h.active++&&h.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Ct.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(_t.test(o)?"&":"?")+d.data,delete d.data),!1===d.cache&&(d.url=xt.test(o)?o.replace(xt,"$1_="+vt++):o+(_t.test(o)?"&":"?")+"_="+vt++)),d.ifModified&&(h.lastModified[o]&&$.setRequestHeader("If-Modified-Since",h.lastModified[o]),h.etag[o]&&$.setRequestHeader("If-None-Match",h.etag[o])),(d.data&&d.hasContent&&!1!==d.contentType||t.contentType)&&$.setRequestHeader("Content-Type",d.contentType),$.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+At+"; q=0.01":""):d.accepts["*"]),d.headers)$.setRequestHeader(i,d.headers[i]);if(d.beforeSend&&(!1===d.beforeSend.call(u,$,d)||2===y))return $.abort();for(i in b="abort",{success:1,error:1,complete:1})$[i](d[i]);if(l=Dt(Mt,d,t,$)){$.readyState=1,s&&p.trigger("ajaxSend",[$,d]),d.async&&d.timeout>0&&(r=setTimeout((function(){$.abort("timeout")}),d.timeout));try{y=1,l.send(v,w)}catch(e){if(!(2>y))throw e;w(-1,e)}}else w(-1,"No Transport");function w(e,t,a,i){var c,v,_,b,w,x=t;2!==y&&(y=2,r&&clearTimeout(r),l=void 0,n=i||"",$.readyState=e>0?4:0,c=e>=200&&300>e||304===e,a&&(b=function(e,t,a){for(var i,o,n,r,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===o&&(o=e.mimeType||t.getResponseHeader("Content-Type"));if(o)for(r in s)if(s[r]&&s[r].test(o)){l.unshift(r);break}if(l[0]in a)n=l[0];else{for(r in a){if(!l[0]||e.converters[r+" "+l[0]]){n=r;break}i||(i=r)}n=n||i}return n?(n!==l[0]&&l.unshift(n),a[n]):void 0}(d,$,a)),b=function(e,t,a,i){var o,n,r,s,l,c={},d=e.dataTypes.slice();if(d[1])for(r in e.converters)c[r.toLowerCase()]=e.converters[r];for(n=d.shift();n;)if(e.responseFields[n]&&(a[e.responseFields[n]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=n,n=d.shift())if("*"===n)n=l;else if("*"!==l&&l!==n){if(!(r=c[l+" "+n]||c["* "+n]))for(o in c)if((s=o.split(" "))[1]===n&&(r=c[l+" "+s[0]]||c["* "+s[0]])){!0===r?r=c[o]:!0!==c[o]&&(n=s[0],d.unshift(s[1]));break}if(!0!==r)if(r&&e.throws)t=r(t);else try{t=r(t)}catch(e){return{state:"parsererror",error:r?e:"No conversion from "+l+" to "+n}}}return{state:"success",data:t}}(d,b,$,c),c?(d.ifModified&&((w=$.getResponseHeader("Last-Modified"))&&(h.lastModified[o]=w),(w=$.getResponseHeader("etag"))&&(h.etag[o]=w)),204===e||"HEAD"===d.type?x="nocontent":304===e?x="notmodified":(x=b.state,v=b.data,c=!(_=b.error))):(_=x,(e||!x)&&(x="error",0>e&&(e=0))),$.status=e,$.statusText=(t||x)+"",c?m.resolveWith(u,[v,x,$]):m.rejectWith(u,[$,x,_]),$.statusCode(g),g=void 0,s&&p.trigger(c?"ajaxSuccess":"ajaxError",[$,d,c?v:_]),f.fireWith(u,[$,x]),s&&(p.trigger("ajaxComplete",[$,d]),--h.active||h.event.trigger("ajaxStop")))}return $},getJSON:function(e,t,a){return h.get(e,t,a,"json")},getScript:function(e,t){return h.get(e,void 0,t,"script")}}),h.each(["get","post"],(function(e,t){h[t]=function(e,a,i,o){return h.isFunction(a)&&(o=o||i,i=a,a=void 0),h.ajax({url:e,type:t,dataType:o,data:a,success:i})}})),h._evalUrl=function(e){return h.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},h.fn.extend({wrapAll:function(e){if(h.isFunction(e))return this.each((function(t){h(this).wrapAll(e.call(this,t))}));if(this[0]){var t=h(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e})).append(this)}return this},wrapInner:function(e){return this.each(h.isFunction(e)?function(t){h(this).wrapInner(e.call(this,t))}:function(){var t=h(this),a=t.contents();a.length?a.wrapAll(e):t.append(e)})},wrap:function(e){var t=h.isFunction(e);return this.each((function(a){h(this).wrapAll(t?e.call(this,a):e)}))},unwrap:function(){return this.parent().each((function(){h.nodeName(this,"body")||h(this).replaceWith(this.childNodes)})).end()}}),h.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!d.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||h.css(e,"display"))},h.expr.filters.visible=function(e){return!h.expr.filters.hidden(e)};var Ot=/%20/g,Et=/\[\]$/,Pt=/\r?\n/g,Ft=/^(?:submit|button|image|reset|file)$/i,qt=/^(?:input|select|textarea|keygen)/i;function Bt(e,t,a,i){var o;if(h.isArray(t))h.each(t,(function(t,o){a||Et.test(e)?i(e,o):Bt(e+"["+("object"==typeof o?t:"")+"]",o,a,i)}));else if(a||"object"!==h.type(t))i(e,t);else for(o in t)Bt(e+"["+o+"]",t[o],a,i)}h.param=function(e,t){var a,i=[],o=function(e,t){t=h.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=h.ajaxSettings&&h.ajaxSettings.traditional),h.isArray(e)||e.jquery&&!h.isPlainObject(e))h.each(e,(function(){o(this.name,this.value)}));else for(a in e)Bt(a,e[a],t,o);return i.join("&").replace(Ot,"+")},h.fn.extend({serialize:function(){return h.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=h.prop(this,"elements");return e?h.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!h(this).is(":disabled")&&qt.test(this.nodeName)&&!Ft.test(e)&&(this.checked||!Q.test(e))})).map((function(e,t){var a=h(this).val();return null==a?null:h.isArray(a)?h.map(a,(function(e){return{name:t.name,value:e.replace(Pt,"\r\n")}})):{name:t.name,value:a.replace(Pt,"\r\n")}})).get()}}),h.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Ut()||function(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}()}:Ut;var jt=0,Rt={},Ht=h.ajaxSettings.xhr();function Ut(){try{return new e.XMLHttpRequest}catch(e){}}e.attachEvent&&e.attachEvent("onunload",(function(){for(var e in Rt)Rt[e](void 0,!0)})),d.cors=!!Ht&&"withCredentials"in Ht,(Ht=d.ajax=!!Ht)&&h.ajaxTransport((function(e){var t;if(!e.crossDomain||d.cors)return{send:function(a,i){var o,n=e.xhr(),r=++jt;if(n.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)n[o]=e.xhrFields[o];for(o in e.mimeType&&n.overrideMimeType&&n.overrideMimeType(e.mimeType),e.crossDomain||a["X-Requested-With"]||(a["X-Requested-With"]="XMLHttpRequest"),a)void 0!==a[o]&&n.setRequestHeader(o,a[o]+"");n.send(e.hasContent&&e.data||null),t=function(a,o){var s,l,c;if(t&&(o||4===n.readyState))if(delete Rt[r],t=void 0,n.onreadystatechange=h.noop,o)4!==n.readyState&&n.abort();else{c={},s=n.status,"string"==typeof n.responseText&&(c.text=n.responseText);try{l=n.statusText}catch(e){l=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=c.text?200:404}c&&i(s,l,c,n.getAllResponseHeaders())},e.async?4===n.readyState?setTimeout(t):n.onreadystatechange=Rt[r]=t:t()},abort:function(){t&&t(void 0,!0)}}})),h.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return h.globalEval(e),e}}}),h.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)})),h.ajaxTransport("script",(function(e){if(e.crossDomain){var t,a=k.head||h("head")[0]||k.documentElement;return{send:function(i,o){(t=k.createElement("script")).async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,a){(a||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,a||o(200,"success"))},a.insertBefore(t,a.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}}));var zt=[],Vt=/(=)\?(?=&|$)|\?\?/;h.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=zt.pop()||h.expando+"_"+vt++;return this[e]=!0,e}}),h.ajaxPrefilter("json jsonp",(function(t,a,i){var o,n,r,s=!1!==t.jsonp&&(Vt.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vt.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(o=t.jsonpCallback=h.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Vt,"$1"+o):!1!==t.jsonp&&(t.url+=(_t.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return r||h.error(o+" was not called"),r[0]},t.dataTypes[0]="json",n=e[o],e[o]=function(){r=arguments},i.always((function(){e[o]=n,t[o]&&(t.jsonpCallback=a.jsonpCallback,zt.push(o)),r&&h.isFunction(n)&&n(r[0]),r=n=void 0})),"script"):void 0})),h.parseHTML=function(e,t,a){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(a=t,t=!1),t=t||k;var i=b.exec(e),o=!a&&[];return i?[t.createElement(i[1])]:(i=h.buildFragment([e],t,o),o&&o.length&&h(o).remove(),h.merge([],i.childNodes))};var Wt=h.fn.load;h.fn.load=function(e,t,a){if("string"!=typeof e&&Wt)return Wt.apply(this,arguments);var i,o,n,r=this,s=e.indexOf(" ");return s>=0&&(i=h.trim(e.slice(s,e.length)),e=e.slice(0,s)),h.isFunction(t)?(a=t,t=void 0):t&&"object"==typeof t&&(n="POST"),r.length>0&&h.ajax({url:e,type:n,dataType:"html",data:t}).done((function(e){o=arguments,r.html(i?h("<div>").append(h.parseHTML(e)).find(i):e)})).complete(a&&function(e,t){r.each(a,o||[e.responseText,t,e])}),this},h.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){h.fn[t]=function(e){return this.on(t,e)}})),h.expr.filters.animated=function(e){return h.grep(h.timers,(function(t){return e===t.elem})).length};var Qt=e.document.documentElement;function Gt(e){return h.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}h.offset={setOffset:function(e,t,a){var i,o,n,r,s,l,c=h.css(e,"position"),d=h(e),u={};"static"===c&&(e.style.position="relative"),s=d.offset(),n=h.css(e,"top"),l=h.css(e,"left"),("absolute"===c||"fixed"===c)&&h.inArray("auto",[n,l])>-1?(r=(i=d.position()).top,o=i.left):(r=parseFloat(n)||0,o=parseFloat(l)||0),h.isFunction(t)&&(t=t.call(e,a,s)),null!=t.top&&(u.top=t.top-s.top+r),null!=t.left&&(u.left=t.left-s.left+o),"using"in t?t.using.call(e,u):d.css(u)}},h.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){h.offset.setOffset(this,e,t)}));var t,a,i={top:0,left:0},o=this[0],n=o&&o.ownerDocument;return n?(t=n.documentElement,h.contains(t,o)?(typeof o.getBoundingClientRect!==P&&(i=o.getBoundingClientRect()),a=Gt(n),{top:i.top+(a.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(a.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i):void 0},position:function(){if(this[0]){var e,t,a={top:0,left:0},i=this[0];return"fixed"===h.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),h.nodeName(e[0],"html")||(a=e.offset()),a.top+=h.css(e[0],"borderTopWidth",!0),a.left+=h.css(e[0],"borderLeftWidth",!0)),{top:t.top-a.top-h.css(i,"marginTop",!0),left:t.left-a.left-h.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent||Qt;e&&!h.nodeName(e,"html")&&"static"===h.css(e,"position");)e=e.offsetParent;return e||Qt}))}}),h.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var a=/Y/.test(t);h.fn[e]=function(i){return W(this,(function(e,i,o){var n=Gt(e);return void 0===o?n?t in n?n[t]:n.document.documentElement[i]:e[i]:void(n?n.scrollTo(a?h(n).scrollLeft():o,a?o:h(n).scrollTop()):e[i]=o)}),e,i,arguments.length,null)}})),h.each(["top","left"],(function(e,t){h.cssHooks[t]=Ee(d.pixelPosition,(function(e,a){return a?(a=Ne(e,t),Ie.test(a)?h(e).position()[t]+"px":a):void 0}))})),h.each({Height:"height",Width:"width"},(function(e,t){h.each({padding:"inner"+e,content:t,"":"outer"+e},(function(a,i){h.fn[i]=function(i,o){var n=arguments.length&&(a||"boolean"!=typeof i),r=a||(!0===i||!0===o?"margin":"border");return W(this,(function(t,a,i){var o;return h.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?h.css(t,a,r):h.style(t,a,i,r)}),t,n?i:void 0,n,null)}}))})),h.fn.size=function(){return this.length},h.fn.andSelf=h.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],(function(){return h}));var Jt=e.jQuery,Zt=e.$;return h.noConflict=function(t){return e.$===h&&(e.$=Zt),t&&e.jQuery===h&&(e.jQuery=Jt),h},typeof t===P&&(e.jQuery=e.$=h),h})),
/*! jQuery Migrate v1.2.1 | (c) 2005, 2013 jQuery Foundation, Inc. and other contributors | jquery.org/license */
void 0===jQuery.migrateMute&&(jQuery.migrateMute=!0),function(e,t,a){function i(a){var i=t.console;n[a]||(n[a]=!0,e.migrateWarnings.push(a),i&&i.warn&&!e.migrateMute&&(i.warn("JQMIGRATE: "+a),e.migrateTrace&&i.trace&&i.trace()))}function o(t,o,n,r){if(Object.defineProperty)try{return Object.defineProperty(t,o,{configurable:!0,enumerable:!0,get:function(){return i(r),n},set:function(e){i(r),n=e}}),a}catch(e){}e._definePropertyBroken=!0,t[o]=n}var n={};e.migrateWarnings=[],!e.migrateMute&&t.console&&t.console.log&&t.console.log("JQMIGRATE: Logging is active"),e.migrateTrace===a&&(e.migrateTrace=!0),e.migrateReset=function(){n={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&i("jQuery is not compatible with Quirks Mode");var r=e("<input/>",{size:1}).attr("size")&&e.attrFn,s=e.attr,l=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},c=e.attrHooks.value&&e.attrHooks.value.set||function(){return a},d=/^(?:input|button)$/i,u=/^[238]$/,h=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,p=/^(?:checked|selected)$/i;o(e,"attrFn",r||{},"jQuery.attrFn is deprecated"),e.attr=function(t,o,n,l){var c=o.toLowerCase(),m=t&&t.nodeType;return l&&(4>s.length&&i("jQuery.fn.attr( props, pass ) is deprecated"),t&&!u.test(m)&&(r?o in r:e.isFunction(e.fn[o])))?e(t)[o](n):("type"===o&&n!==a&&d.test(t.nodeName)&&t.parentNode&&i("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[c]&&h.test(c)&&(e.attrHooks[c]={get:function(t,i){var o,n=e.prop(t,i);return!0===n||"boolean"!=typeof n&&(o=t.getAttributeNode(i))&&!1!==o.nodeValue?i.toLowerCase():a},set:function(t,a,i){var o;return!1===a?e.removeAttr(t,i):((o=e.propFix[i]||i)in t&&(t[o]=!0),t.setAttribute(i,i.toLowerCase())),i}},p.test(c)&&i("jQuery.fn.attr('"+c+"') may use property instead of attribute")),s.call(e,t,o,n))},e.attrHooks.value={get:function(e,t){var a=(e.nodeName||"").toLowerCase();return"button"===a?l.apply(this,arguments):("input"!==a&&"option"!==a&&i("jQuery.fn.attr('value') no longer gets properties"),t in e?e.value:null)},set:function(e,t){var o=(e.nodeName||"").toLowerCase();return"button"===o?c.apply(this,arguments):("input"!==o&&"option"!==o&&i("jQuery.fn.attr('value', val) no longer sets properties"),e.value=t,a)}};var m,f,g=e.fn.init,v=e.parseJSON,_=/^([^<]*)(<[\w\W]+>)([^>]*)$/;e.fn.init=function(t,a,o){var n;return t&&"string"==typeof t&&!e.isPlainObject(a)&&(n=_.exec(e.trim(t)))&&n[0]&&("<"!==t.charAt(0)&&i("$(html) HTML strings must start with '<' character"),n[3]&&i("$(html) HTML text after last tag is ignored"),"#"===n[0].charAt(0)&&(i("HTML string cannot start with a '#' character"),e.error("JQMIGRATE: Invalid selector string (XSS)")),a&&a.context&&(a=a.context),e.parseHTML)?g.call(this,e.parseHTML(n[2],a,!0),a,o):g.apply(this,arguments)},e.fn.init.prototype=e.fn,e.parseJSON=function(e){return e||null===e?v.apply(this,arguments):(i("jQuery.parseJSON requires a valid JSON string"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||0>e.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e.browser||(f={},(m=e.uaMatch(navigator.userAgent)).browser&&(f[m.browser]=!0,f.version=m.version),f.chrome?f.webkit=!0:f.webkit&&(f.safari=!0),e.browser=f),o(e,"browser",e.browser,"jQuery.browser is deprecated"),e.sub=function(){function t(e,a){return new t.fn.init(e,a)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(i,o){return o&&o instanceof e&&!(o instanceof t)&&(o=t(o)),e.fn.init.call(this,i,o,a)},t.fn.init.prototype=t.fn;var a=t(document);return i("jQuery.sub() is deprecated"),t},e.ajaxSetup({converters:{"text json":e.parseJSON}});var y=e.fn.data;e.fn.data=function(t){var o,n,r=this[0];return!r||"events"!==t||1!==arguments.length||(o=e.data(r,t),n=e._data(r,t),o!==a&&o!==n||n===a)?y.apply(this,arguments):(i("Use of jQuery.fn.data('events') is deprecated"),n)};var b=/\/(java|ecma)script/i,$=e.fn.andSelf||e.fn.addBack;e.fn.andSelf=function(){return i("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),$.apply(this,arguments)},e.clean||(e.clean=function(t,o,n,r){o=(o=!(o=o||document).nodeType&&o[0]||o).ownerDocument||o,i("jQuery.clean() is deprecated");var s,l,c,d,u=[];if(e.merge(u,e.buildFragment(t,o).childNodes),n)for(c=function(e){return!e.type||b.test(e.type)?r?r.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e):a},s=0;null!=(l=u[s]);s++)e.nodeName(l,"script")&&c(l)||(n.appendChild(l),l.getElementsByTagName!==a&&(d=e.grep(e.merge([],l.getElementsByTagName("script")),c),u.splice.apply(u,[s+1,0].concat(d)),s+=d.length));return u});var w=e.event.add,x=e.event.remove,k=e.event.trigger,C=e.fn.toggle,S=e.fn.live,T=e.fn.die,L="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",M=RegExp("\\b(?:"+L+")\\b"),A=/(?:^|\s)hover(\.\S+|)\b/,N=function(t){return"string"!=typeof t||e.event.special.hover?t:(A.test(t)&&i("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(A,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),e.event.dispatch&&o(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,a,o,n){e!==document&&M.test(t)&&i("AJAX events should be attached to document: "+t),w.call(this,e,N(t||""),a,o,n)},e.event.remove=function(e,t,a,i,o){x.call(this,e,N(t)||"",a,i,o)},e.fn.error=function(){var e=Array.prototype.slice.call(arguments,0);return i("jQuery.fn.error() is deprecated"),e.splice(0,0,"error"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)},e.fn.toggle=function(t,a){if(!e.isFunction(t)||!e.isFunction(a))return C.apply(this,arguments);i("jQuery.fn.toggle(handler, handler...) is deprecated");var o=arguments,n=t.guid||e.guid++,r=0,s=function(a){var i=(e._data(this,"lastToggle"+t.guid)||0)%r;return e._data(this,"lastToggle"+t.guid,i+1),a.preventDefault(),o[i].apply(this,arguments)||!1};for(s.guid=n;o.length>r;)o[r++].guid=n;return this.click(s)},e.fn.live=function(t,a,o){return i("jQuery.fn.live() is deprecated"),S?S.apply(this,arguments):(e(this.context).on(t,this.selector,a,o),this)},e.fn.die=function(t,a){return i("jQuery.fn.die() is deprecated"),T?T.apply(this,arguments):(e(this.context).off(t,this.selector||"**",a),this)},e.event.trigger=function(e,t,a,o){return a||M.test(e)||i("Global events are undocumented and deprecated"),k.call(this,e,t,a||document,o)},e.each(L.split("|"),(function(t,a){e.event.special[a]={setup:function(){var t=this;return t!==document&&(e.event.add(document,a+"."+e.guid,(function(){e.event.trigger(a,null,t,!0)})),e._data(this,a,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,a+"."+e._data(this,a)),!1}}}))}(jQuery,window),
/*! jQuery UI - v1.11.4 - 2015-08-04
* http://jqueryui.com
* Includes: core.js, widget.js, position.js, autocomplete.js, menu.js
* Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}((function(e){function t(t,i){var o,n,r,s=t.nodeName.toLowerCase();return"area"===s?(n=(o=t.parentNode).name,!(!t.href||!n||"map"!==o.nodeName.toLowerCase())&&(!!(r=e("img[usemap='#"+n+"']")[0])&&a(r))):(/^(input|select|textarea|button|object)$/.test(s)?!t.disabled:"a"===s&&t.href||i)&&a(t)}function a(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter((function(){return"hidden"===e.css(this,"visibility")})).length}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var a=this.css("position"),i="absolute"===a,o=t?/(auto|scroll|hidden)/:/(auto|scroll)/,n=this.parents().filter((function(){var t=e(this);return(!i||"static"!==t.css("position"))&&o.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))})).eq(0);return"fixed"!==a&&n.length?n:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each((function(){this.id||(this.id="ui-id-"+ ++e)}))}}(),removeUniqueId:function(){return this.each((function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")}))}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo((function(t){return function(a){return!!e.data(a,t)}})):function(t,a,i){return!!e.data(t,i[3])},focusable:function(a){return t(a,!isNaN(e.attr(a,"tabindex")))},tabbable:function(a){var i=e.attr(a,"tabindex"),o=isNaN(i);return(o||i>=0)&&t(a,!o)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],(function(t,a){function i(t,a,i,n){return e.each(o,(function(){a-=parseFloat(e.css(t,"padding"+this))||0,i&&(a-=parseFloat(e.css(t,"border"+this+"Width"))||0),n&&(a-=parseFloat(e.css(t,"margin"+this))||0)})),a}var o="Width"===a?["Left","Right"]:["Top","Bottom"],n=a.toLowerCase(),r={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+a]=function(t){return void 0===t?r["inner"+a].call(this):this.each((function(){e(this).css(n,i(this,t)+"px")}))},e.fn["outer"+a]=function(t,o){return"number"!=typeof t?r["outer"+a].call(this,t):this.each((function(){e(this).css(n,i(this,t,!0,o)+"px")}))}})),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(a){return arguments.length?t.call(this,e.camelCase(a)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(a,i){return"number"==typeof a?this.each((function(){var t=this;setTimeout((function(){e(t).focus(),i&&i.call(t)}),a)})):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",(function(e){e.preventDefault()}))}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var a,i,o=e(this[0]);o.length&&o[0]!==document;){if(("absolute"===(a=o.css("position"))||"relative"===a||"fixed"===a)&&(i=parseInt(o.css("zIndex"),10),!isNaN(i)&&0!==i))return i;o=o.parent()}return 0}}),e.ui.plugin={add:function(t,a,i){var o,n=e.ui[t].prototype;for(o in i)n.plugins[o]=n.plugins[o]||[],n.plugins[o].push([a,i[o]])},call:function(e,t,a,i){var o,n=e.plugins[t];if(n&&(i||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(o=0;n.length>o;o++)e.options[n[o][0]]&&n[o][1].apply(e.element,a)}};var i=0,o=Array.prototype.slice;e.cleanData=function(t){return function(a){var i,o,n;for(n=0;null!=(o=a[n]);n++)try{(i=e._data(o,"events"))&&i.remove&&e(o).triggerHandler("remove")}catch(e){}t(a)}}(e.cleanData),e.widget=function(t,a,i){var o,n,r,s,l={},c=t.split(".")[0];return t=t.split(".")[1],o=c+"-"+t,i||(i=a,a=e.Widget),e.expr[":"][o.toLowerCase()]=function(t){return!!e.data(t,o)},e[c]=e[c]||{},n=e[c][t],r=e[c][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new r(e,t)},e.extend(r,n,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),(s=new a).options=e.widget.extend({},s.options),e.each(i,(function(t,i){return e.isFunction(i)?void(l[t]=function(){var e=function(){return a.prototype[t].apply(this,arguments)},o=function(e){return a.prototype[t].apply(this,e)};return function(){var t,a=this._super,n=this._superApply;return this._super=e,this._superApply=o,t=i.apply(this,arguments),this._super=a,this._superApply=n,t}}()):void(l[t]=i)})),r.prototype=e.widget.extend(s,{widgetEventPrefix:n&&s.widgetEventPrefix||t},l,{constructor:r,namespace:c,widgetName:t,widgetFullName:o}),n?(e.each(n._childConstructors,(function(t,a){var i=a.prototype;e.widget(i.namespace+"."+i.widgetName,r,a._proto)})),delete n._childConstructors):a._childConstructors.push(r),e.widget.bridge(t,r),r},e.widget.extend=function(t){for(var a,i,n=o.call(arguments,1),r=0,s=n.length;s>r;r++)for(a in n[r])i=n[r][a],n[r].hasOwnProperty(a)&&void 0!==i&&(t[a]=e.isPlainObject(i)?e.isPlainObject(t[a])?e.widget.extend({},t[a],i):e.widget.extend({},i):i);return t},e.widget.bridge=function(t,a){var i=a.prototype.widgetFullName||t;e.fn[t]=function(n){var r="string"==typeof n,s=o.call(arguments,1),l=this;return r?this.each((function(){var a,o=e.data(this,i);return"instance"===n?(l=o,!1):o?e.isFunction(o[n])&&"_"!==n.charAt(0)?(a=o[n].apply(o,s))!==o&&void 0!==a?(l=a&&a.jquery?l.pushStack(a.get()):a,!1):void 0:e.error("no such method '"+n+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+n+"'")})):(s.length&&(n=e.widget.extend.apply(null,[n].concat(s))),this.each((function(){var t=e.data(this,i);t?(t.option(n||{}),t._init&&t._init()):e.data(this,i,new a(n,this))}))),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,a){a=e(a||this.defaultElement||this)[0],this.element=e(a),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),a!==this&&(e.data(a,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===a&&this.destroy()}}),this.document=e(a.style?a.ownerDocument:a.document||a),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,a){var i,o,n,r=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(r={},i=t.split("."),t=i.shift(),i.length){for(o=r[t]=e.widget.extend({},this.options[t]),n=0;i.length-1>n;n++)o[i[n]]=o[i[n]]||{},o=o[i[n]];if(t=i.pop(),1===arguments.length)return void 0===o[t]?null:o[t];o[t]=a}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];r[t]=a}return this._setOptions(r),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,a,i){var o,n=this;"boolean"!=typeof t&&(i=a,a=t,t=!1),i?(a=o=e(a),this.bindings=this.bindings.add(a)):(i=a,a=this.element,o=this.widget()),e.each(i,(function(i,r){function s(){return t||!0!==n.options.disabled&&!e(this).hasClass("ui-state-disabled")?("string"==typeof r?n[r]:r).apply(n,arguments):void 0}"string"!=typeof r&&(s.guid=r.guid=r.guid||s.guid||e.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+n.eventNamespace,d=l[2];d?o.delegate(d,c,s):a.bind(c,s)}))},_off:function(t,a){a=(a||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(a).undelegate(a),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){var a=this;return setTimeout((function(){return("string"==typeof e?a[e]:e).apply(a,arguments)}),t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,a,i){var o,n,r=this.options[t];if(i=i||{},(a=e.Event(a)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),a.target=this.element[0],n=a.originalEvent)for(o in n)o in a||(a[o]=n[o]);return this.element.trigger(a,i),!(e.isFunction(r)&&!1===r.apply(this.element[0],[a].concat(i))||a.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},(function(t,a){e.Widget.prototype["_"+t]=function(i,o,n){"string"==typeof o&&(o={effect:o});var r,s=o?!0===o||"number"==typeof o?a:o.effect||a:t;"number"==typeof(o=o||{})&&(o={duration:o}),r=!e.isEmptyObject(o),o.complete=n,o.delay&&i.delay(o.delay),r&&e.effects&&e.effects.effect[s]?i[t](o):s!==t&&i[s]?i[s](o.duration,o.easing,n):i.queue((function(a){e(this)[t](),n&&n.call(i[0]),a()}))}})),e.widget,function(){function t(e,t,a){return[parseFloat(e[0])*(h.test(e[0])?t/100:1),parseFloat(e[1])*(h.test(e[1])?a/100:1)]}function a(t,a){return parseInt(e.css(t,a),10)||0}e.ui=e.ui||{};var i,o,n=Math.max,r=Math.abs,s=Math.round,l=/left|center|right/,c=/top|center|bottom/,d=/[\+\-]\d+(\.[\d]+)?%?/,u=/^\w+/,h=/%$/,p=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==i)return i;var t,a,o=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),n=o.children()[0];return e("body").append(o),t=n.offsetWidth,o.css("overflow","scroll"),t===(a=n.offsetWidth)&&(a=o[0].clientWidth),o.remove(),i=t-a},getScrollInfo:function(t){var a=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),i=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),o="scroll"===a||"auto"===a&&t.width<t.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight?e.position.scrollbarWidth():0,height:o?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var a=e(t||window),i=e.isWindow(a[0]),o=!!a[0]&&9===a[0].nodeType;return{element:a,isWindow:i,isDocument:o,offset:a.offset()||{left:0,top:0},scrollLeft:a.scrollLeft(),scrollTop:a.scrollTop(),width:i||o?a.width():a.outerWidth(),height:i||o?a.height():a.outerHeight()}}},e.fn.position=function(i){if(!i||!i.of)return p.apply(this,arguments);i=e.extend({},i);var h,m,f,g,v,_,y=e(i.of),b=e.position.getWithinInfo(i.within),$=e.position.getScrollInfo(b),w=(i.collision||"flip").split(" "),x={};return _=function(t){var a=t[0];return 9===a.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(a)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:a.preventDefault?{width:0,height:0,offset:{top:a.pageY,left:a.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}(y),y[0].preventDefault&&(i.at="left top"),m=_.width,f=_.height,g=_.offset,v=e.extend({},g),e.each(["my","at"],(function(){var e,t,a=(i[this]||"").split(" ");1===a.length&&(a=l.test(a[0])?a.concat(["center"]):c.test(a[0])?["center"].concat(a):["center","center"]),a[0]=l.test(a[0])?a[0]:"center",a[1]=c.test(a[1])?a[1]:"center",e=d.exec(a[0]),t=d.exec(a[1]),x[this]=[e?e[0]:0,t?t[0]:0],i[this]=[u.exec(a[0])[0],u.exec(a[1])[0]]})),1===w.length&&(w[1]=w[0]),"right"===i.at[0]?v.left+=m:"center"===i.at[0]&&(v.left+=m/2),"bottom"===i.at[1]?v.top+=f:"center"===i.at[1]&&(v.top+=f/2),h=t(x.at,m,f),v.left+=h[0],v.top+=h[1],this.each((function(){var l,c,d=e(this),u=d.outerWidth(),p=d.outerHeight(),_=a(this,"marginLeft"),k=a(this,"marginTop"),C=u+_+a(this,"marginRight")+$.width,S=p+k+a(this,"marginBottom")+$.height,T=e.extend({},v),L=t(x.my,d.outerWidth(),d.outerHeight());"right"===i.my[0]?T.left-=u:"center"===i.my[0]&&(T.left-=u/2),"bottom"===i.my[1]?T.top-=p:"center"===i.my[1]&&(T.top-=p/2),T.left+=L[0],T.top+=L[1],o||(T.left=s(T.left),T.top=s(T.top)),l={marginLeft:_,marginTop:k},e.each(["left","top"],(function(t,a){e.ui.position[w[t]]&&e.ui.position[w[t]][a](T,{targetWidth:m,targetHeight:f,elemWidth:u,elemHeight:p,collisionPosition:l,collisionWidth:C,collisionHeight:S,offset:[h[0]+L[0],h[1]+L[1]],my:i.my,at:i.at,within:b,elem:d})})),i.using&&(c=function(e){var t=g.left-T.left,a=t+m-u,o=g.top-T.top,s=o+f-p,l={target:{element:y,left:g.left,top:g.top,width:m,height:f},element:{element:d,left:T.left,top:T.top,width:u,height:p},horizontal:0>a?"left":t>0?"right":"center",vertical:0>s?"top":o>0?"bottom":"middle"};u>m&&m>r(t+a)&&(l.horizontal="center"),p>f&&f>r(o+s)&&(l.vertical="middle"),l.important=n(r(t),r(a))>n(r(o),r(s))?"horizontal":"vertical",i.using.call(this,e,l)}),d.offset(e.extend(T,{using:c}))}))},e.ui.position={fit:{left:function(e,t){var a,i=t.within,o=i.isWindow?i.scrollLeft:i.offset.left,r=i.width,s=e.left-t.collisionPosition.marginLeft,l=o-s,c=s+t.collisionWidth-r-o;t.collisionWidth>r?l>0&&0>=c?(a=e.left+l+t.collisionWidth-r-o,e.left+=l-a):e.left=c>0&&0>=l?o:l>c?o+r-t.collisionWidth:o:l>0?e.left+=l:c>0?e.left-=c:e.left=n(e.left-s,e.left)},top:function(e,t){var a,i=t.within,o=i.isWindow?i.scrollTop:i.offset.top,r=t.within.height,s=e.top-t.collisionPosition.marginTop,l=o-s,c=s+t.collisionHeight-r-o;t.collisionHeight>r?l>0&&0>=c?(a=e.top+l+t.collisionHeight-r-o,e.top+=l-a):e.top=c>0&&0>=l?o:l>c?o+r-t.collisionHeight:o:l>0?e.top+=l:c>0?e.top-=c:e.top=n(e.top-s,e.top)}},flip:{left:function(e,t){var a,i,o=t.within,n=o.offset.left+o.scrollLeft,s=o.width,l=o.isWindow?o.scrollLeft:o.offset.left,c=e.left-t.collisionPosition.marginLeft,d=c-l,u=c+t.collisionWidth-s-l,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,m=-2*t.offset[0];0>d?(0>(a=e.left+h+p+m+t.collisionWidth-s-n)||r(d)>a)&&(e.left+=h+p+m):u>0&&(((i=e.left-t.collisionPosition.marginLeft+h+p+m-l)>0||u>r(i))&&(e.left+=h+p+m))},top:function(e,t){var a,i,o=t.within,n=o.offset.top+o.scrollTop,s=o.height,l=o.isWindow?o.scrollTop:o.offset.top,c=e.top-t.collisionPosition.marginTop,d=c-l,u=c+t.collisionHeight-s-l,h="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,p="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];0>d?(0>(i=e.top+h+p+m+t.collisionHeight-s-n)||r(d)>i)&&(e.top+=h+p+m):u>0&&(((a=e.top-t.collisionPosition.marginTop+h+p+m-l)>0||u>r(a))&&(e.top+=h+p+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,a,i,n,r,s=document.getElementsByTagName("body")[0],l=document.createElement("div");for(r in t=document.createElement(s?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&e.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"}),i)t.style[r]=i[r];t.appendChild(l),(a=s||document.documentElement).insertBefore(t,a.firstChild),l.style.cssText="position: absolute; left: 10.7432222px;",n=e(l).offset().left,o=n>10&&11>n,t.innerHTML="",a.removeChild(t)}()}(),e.ui.position,e.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var a=e(t.target);!this.mouseHandled&&a.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),a.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var a=e(t.currentTarget);a.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(t,a)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var a=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,a)},blur:function(t){this._delay((function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)}))},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each((function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()})),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var a,i,o,n,r=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:r=!1,i=this.previousFilter||"",o=String.fromCharCode(t.keyCode),n=!1,clearTimeout(this.filterTimer),o===i?n=!0:o=i+o,a=this._filterMenuItems(o),(a=n&&-1!==a.index(this.active.next())?this.active.nextAll(".ui-menu-item"):a).length||(o=String.fromCharCode(t.keyCode),a=this._filterMenuItems(o)),a.length?(this.focus(t,a),this.previousFilter=o,this.filterTimer=this._delay((function(){delete this.previousFilter}),1e3)):delete this.previousFilter}r&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(e):this.select(e))},refresh:function(){var t,a=this,i=this.options.icons.submenu,o=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),o.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each((function(){var t=e(this),a=t.parent(),o=e("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);a.attr("aria-haspopup","true").prepend(o),t.attr("aria-labelledby",a.attr("id"))})),(t=o.add(this.element).find(this.options.items)).not(".ui-menu-item").each((function(){var t=e(this);a._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")})),t.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),t.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},focus:function(e,t){var a,i;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),i=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay((function(){this._close()}),this.delay),(a=t.children(".ui-menu")).length&&e&&/^mouse/.test(e.type)&&this._startOpening(a),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var a,i,o,n,r,s;this._hasScroll()&&(a=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,o=t.offset().top-this.activeMenu.offset().top-a-i,n=this.activeMenu.scrollTop(),r=this.activeMenu.height(),s=t.outerHeight(),0>o?this.activeMenu.scrollTop(n+o):o+s>r&&this.activeMenu.scrollTop(n+o-r+s))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay((function(){this._close(),this._open(e)}),this.delay))},_open:function(t){var a=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(a)},collapseAll:function(t,a){clearTimeout(this.timer),this.timer=this._delay((function(){var i=a?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(t),this.activeMenu=i}),this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay((function(){this.focus(e,t)})))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,a){var i;this.active&&(i="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[t]()),this.focus(a,i)},nextPage:function(t){var a,i,o;return this.active?void(this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,o=this.element.height(),this.active.nextAll(".ui-menu-item").each((function(){return 0>(a=e(this)).offset().top-i-o})),this.focus(t,a)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(t)},previousPage:function(t){var a,i,o;return this.active?void(this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,o=this.element.height(),this.active.prevAll(".ui-menu-item").each((function(){return(a=e(this)).offset().top-i+o>0})),this.focus(t,a)):this.focus(t,this.activeMenu.find(this.options.items).first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var a={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,a)},_filterMenuItems:function(t){var a=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=RegExp("^"+a,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter((function(){return i.test(e.trim(e(this).text()))}))}}),e.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,a,i,o=this.element[0].nodeName.toLowerCase(),n="textarea"===o,r="input"===o;this.isMultiLine=!!n||!r&&this.element.prop("isContentEditable"),this.valueMethod=this.element[n||r?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(o){if(this.element.prop("readOnly"))return t=!0,i=!0,void(a=!0);t=!1,i=!1,a=!1;var n=e.ui.keyCode;switch(o.keyCode){case n.PAGE_UP:t=!0,this._move("previousPage",o);break;case n.PAGE_DOWN:t=!0,this._move("nextPage",o);break;case n.UP:t=!0,this._keyEvent("previous",o);break;case n.DOWN:t=!0,this._keyEvent("next",o);break;case n.ENTER:this.menu.active&&(t=!0,o.preventDefault(),this.menu.select(o));break;case n.TAB:this.menu.active&&this.menu.select(o);break;case n.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(o),o.preventDefault());break;default:a=!0,this._searchTimeout(o)}},keypress:function(i){if(t)return t=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&i.preventDefault());if(!a){var o=e.ui.keyCode;switch(i.keyCode){case o.PAGE_UP:this._move("previousPage",i);break;case o.PAGE_DOWN:this._move("nextPage",i);break;case o.UP:this._keyEvent("previous",i);break;case o.DOWN:this._keyEvent("next",i)}}},input:function(e){return i?(i=!1,void e.preventDefault()):void this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),void this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur}));var a=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay((function(){var t=this;this.document.one("mousedown",(function(i){i.target===t.element[0]||i.target===a||e.contains(a,i.target)||t.close()}))}))},menufocus:function(t,a){var i,o;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",(function(){e(t.target).trigger(t.originalEvent)}))):(o=a.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:o})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(o.value),void((i=a.item.attr("aria-label")||o.value)&&e.trim(i).length&&(this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))))},menuselect:function(e,t){var a=t.item.data("ui-autocomplete-item"),i=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=i,this._delay((function(){this.previous=i,this.selectedItem=a}))),!1!==this._trigger("select",e,{item:a})&&this._value(a.value),this.term=this._value(),this.close(e),this.selectedItem=a}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,a,i=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(a,i){i(e.ui.autocomplete.filter(t,a.term))}):"string"==typeof this.options.source?(a=this.options.source,this.source=function(t,o){i.xhr&&i.xhr.abort(),i.xhr=e.ajax({url:a,data:t,dataType:"json",success:function(e){o(e)},error:function(){o([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay((function(){var t=this.term===this._value(),a=this.menu.element.is(":visible"),i=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!t||t&&!a&&!i)&&(this.selectedItem=null,this.search(null,e))}),this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy((function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")}),this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,(function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})}))},_suggest:function(t){var a=this.menu.element.empty();this._renderMenu(a,t),this.isNewMenu=!0,this.menu.refresh(),a.show(),this._resizeMenu(),a.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,a){var i=this;e.each(a,(function(e,a){i._renderItemData(t,a)}))},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,a){return e("<li>").text(a.label).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,a){var i=RegExp(e.ui.autocomplete.escapeRegex(a),"i");return e.grep(t,(function(e){return i.test(e.label||e.value||e)}))}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var a;this._superApply(arguments),this.options.disabled||this.cancelSearch||(a=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(a).appendTo(this.liveRegion))}}),e.ui.autocomplete})),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");function inherits(e,t){function a(){}a.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new a,e.prototype.constructor=e}function MarkerLabel_(e,t,a){this.marker_=e,this.handCursorURL_=e.handCursorURL,this.labelDiv_=document.createElement("div"),this.labelDiv_.style.cssText="position: absolute; overflow: hidden;",this.eventDiv_=document.createElement("div"),this.eventDiv_.style.cssText=this.labelDiv_.style.cssText,this.eventDiv_.setAttribute("onselectstart","return false;"),this.eventDiv_.setAttribute("ondragstart","return false;"),this.crossDiv_=MarkerLabel_.getSharedCross(t)}function MarkerWithLabel(e){(e=e||{}).labelContent=e.labelContent||"",e.labelAnchor=e.labelAnchor||new google.maps.Point(0,0),e.labelClass=e.labelClass||"markerLabels",e.labelStyle=e.labelStyle||{},e.labelInBackground=e.labelInBackground||!1,void 0===e.labelVisible&&(e.labelVisible=!0),void 0===e.raiseOnDrag&&(e.raiseOnDrag=!0),void 0===e.clickable&&(e.clickable=!0),void 0===e.draggable&&(e.draggable=!1),void 0===e.optimized&&(e.optimized=!1),e.crossImage=e.crossImage||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/drag_cross_67_16.png",e.handCursor=e.handCursor||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/closedhand_8_8.cur",e.optimized=!1,this.label=new MarkerLabel_(this,e.crossImage,e.handCursor),google.maps.Marker.apply(this,arguments)}function addCustomCSS(e){$("head").append('<link rel="stylesheet" type="text/css" href="/sites/sitecss/'+e+'">')}!function(e){"use strict";var t=jQuery.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(),function(e){"use strict";e.fn.emulateTransitionEnd=function(t){var a=!1,i=this;e(this).one("bsTransitionEnd",(function(){a=!0}));return setTimeout((function(){a||e(i).trigger(e.support.transition.end)}),t),this},e((function(){e.support.transition=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var a in t)if(void 0!==e.style[a])return{end:t[a]};return!1}(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})}))}(jQuery),function(e){"use strict";var t='[data-dismiss="alert"]',a=function(a){e(a).on("click",t,this.close)};a.VERSION="3.3.2",a.TRANSITION_DURATION=150,a.prototype.close=function(t){function i(){r.detach().trigger("closed.bs.alert").remove()}var o=e(this),n=o.attr("data-target");n||(n=(n=o.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,""));var r=e(n);t&&t.preventDefault(),r.length||(r=o.closest(".alert")),r.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(r.removeClass("in"),e.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",i).emulateTransitionEnd(a.TRANSITION_DURATION):i())};var i=e.fn.alert;e.fn.alert=function(t){return this.each((function(){var i=e(this),o=i.data("bs.alert");o||i.data("bs.alert",o=new a(this)),"string"==typeof t&&o[t].call(i)}))},e.fn.alert.Constructor=a,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.bs.alert.data-api",t,a.prototype.close)}(jQuery),function(e){"use strict";function t(t){return this.each((function(){var i=e(this),o=i.data("bs.button"),n="object"==typeof t&&t;o||i.data("bs.button",o=new a(this,n)),"toggle"==t?o.toggle():t&&o.setState(t)}))}var a=function(t,i){this.$element=e(t),this.options=e.extend({},a.DEFAULTS,i),this.isLoading=!1};a.VERSION="3.3.2",a.DEFAULTS={loadingText:"loading..."},a.prototype.setState=function(t){var a="disabled",i=this.$element,o=i.is("input")?"val":"html",n=i.data();t+="Text",null==n.resetText&&i.data("resetText",i[o]()),setTimeout(e.proxy((function(){i[o](null==n[t]?this.options[t]:n[t]),"loadingText"==t?(this.isLoading=!0,i.addClass(a).attr(a,a)):this.isLoading&&(this.isLoading=!1,i.removeClass(a).removeAttr(a))}),this),0)},a.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var a=this.$element.find("input");"radio"==a.prop("type")&&(a.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&a.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));e&&this.$element.toggleClass("active")};var i=e.fn.button;e.fn.button=t,e.fn.button.Constructor=a,e.fn.button.noConflict=function(){return e.fn.button=i,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',(function(a){var i=e(a.target);i.hasClass("btn")||(i=i.closest(".btn")),t.call(i,"toggle"),a.preventDefault()})).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',(function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))}))}(jQuery),function(e){"use strict";function t(t){return this.each((function(){var i=e(this),o=i.data("bs.carousel"),n=e.extend({},a.DEFAULTS,i.data(),"object"==typeof t&&t),r="string"==typeof t?t:n.slide;o||i.data("bs.carousel",o=new a(this,n)),"number"==typeof t?o.to(t):r?o[r]():n.interval&&o.pause().cycle()}))}var a=function(t,a){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=a,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};a.VERSION="3.3.2",a.TRANSITION_DURATION=600,a.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},a.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},a.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},a.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},a.prototype.getItemForDirection=function(e,t){var a=this.getItemIndex(t);if(("prev"==e&&0===a||"next"==e&&a==this.$items.length-1)&&!this.options.wrap)return t;var i=(a+("prev"==e?-1:1))%this.$items.length;return this.$items.eq(i)},a.prototype.to=function(e){var t=this,a=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",(function(){t.to(e)})):a==e?this.pause().cycle():this.slide(e>a?"next":"prev",this.$items.eq(e))},a.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},a.prototype.next=function(){return this.sliding?void 0:this.slide("next")},a.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},a.prototype.slide=function(t,i){var o=this.$element.find(".item.active"),n=i||this.getItemForDirection(t,o),r=this.interval,s="next"==t?"left":"right",l=this;if(n.hasClass("active"))return this.sliding=!1;var c=n[0],d=e.Event("slide.bs.carousel",{relatedTarget:c,direction:s});if(this.$element.trigger(d),!d.isDefaultPrevented()){if(this.sliding=!0,r&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var u=e(this.$indicators.children()[this.getItemIndex(n)]);u&&u.addClass("active")}var h=e.Event("slid.bs.carousel",{relatedTarget:c,direction:s});return e.support.transition&&this.$element.hasClass("slide")?(n.addClass(t),n[0].offsetWidth,o.addClass(s),n.addClass(s),o.one("bsTransitionEnd",(function(){n.removeClass([t,s].join(" ")).addClass("active"),o.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout((function(){l.$element.trigger(h)}),0)})).emulateTransitionEnd(a.TRANSITION_DURATION)):(o.removeClass("active"),n.addClass("active"),this.sliding=!1,this.$element.trigger(h)),r&&this.cycle(),this}};var i=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=a,e.fn.carousel.noConflict=function(){return e.fn.carousel=i,this};var o=function(a){var i,o=e(this),n=e(o.attr("data-target")||(i=o.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(n.hasClass("carousel")){var r=e.extend({},n.data(),o.data()),s=o.attr("data-slide-to");s&&(r.interval=!1),t.call(n,r),s&&n.data("bs.carousel").to(s),a.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),e(window).on("load",(function(){e('[data-ride="carousel"]').each((function(){var a=e(this);t.call(a,a.data())}))}))}(jQuery),function(e){"use strict";function t(t){var a,i=t.attr("data-target")||(a=t.attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,"");return e(i)}function a(t){return this.each((function(){var a=e(this),o=a.data("bs.collapse"),n=e.extend({},i.DEFAULTS,a.data(),"object"==typeof t&&t);!o&&n.toggle&&"show"==t&&(n.toggle=!1),o||a.data("bs.collapse",o=new i(this,n)),"string"==typeof t&&o[t]()}))}var i=function(t,a){this.$element=e(t),this.options=e.extend({},i.DEFAULTS,a),this.$trigger=e(this.options.trigger).filter('[href="#'+t.id+'"], [data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.2",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'},i.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(t=o.data("bs.collapse"),t&&t.transitioning))){var n=e.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){o&&o.length&&(a.call(o,"hide"),t||o.data("bs.collapse",null));var r=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[r](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[r](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var l=e.camelCase(["scroll",r].join("-"));this.$element.one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[r](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var a=this.dimension();this.$element[a](this.$element[a]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[a](0).one("bsTransitionEnd",e.proxy(o,this)).emulateTransitionEnd(i.TRANSITION_DURATION):o.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy((function(a,i){var o=e(i);this.addAriaAndCollapsedClass(t(o),o)}),this)).end()},i.prototype.addAriaAndCollapsedClass=function(e,t){var a=e.hasClass("in");e.attr("aria-expanded",a),t.toggleClass("collapsed",!a).attr("aria-expanded",a)};var o=e.fn.collapse;e.fn.collapse=a,e.fn.collapse.Constructor=i,e.fn.collapse.noConflict=function(){return e.fn.collapse=o,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',(function(i){var o=e(this);o.attr("data-target")||i.preventDefault();var n=t(o),r=n.data("bs.collapse")?"toggle":e.extend({},o.data(),{trigger:this});a.call(n,r)}))}(jQuery),function(e){"use strict";function t(t){t&&3===t.which||(e(i).remove(),e(o).each((function(){var i=e(this),o=a(i),n={relatedTarget:this};o.hasClass("open")&&(o.trigger(t=e.Event("hide.bs.dropdown",n)),t.isDefaultPrevented()||(i.attr("aria-expanded","false"),o.removeClass("open").trigger("hidden.bs.dropdown",n)))})))}function a(t){var a=t.attr("data-target");a||(a=(a=t.attr("href"))&&/#[A-Za-z]/.test(a)&&a.replace(/.*(?=#[^\s]*$)/,""));var i=a&&e(a);return i&&i.length?i:t.parent()}var i=".dropdown-backdrop",o='[data-toggle="dropdown"]',n=function(t){e(t).on("click.bs.dropdown",this.toggle)};n.VERSION="3.3.2",n.prototype.toggle=function(i){var o=e(this);if(!o.is(".disabled, :disabled")){var n=a(o),r=n.hasClass("open");if(t(),!r){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var s={relatedTarget:this};if(n.trigger(i=e.Event("show.bs.dropdown",s)),i.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),n.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},n.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var i=e(this);if(t.preventDefault(),t.stopPropagation(),!i.is(".disabled, :disabled")){var n=a(i),r=n.hasClass("open");if(!r&&27!=t.which||r&&27==t.which)return 27==t.which&&n.find(o).trigger("focus"),i.trigger("click");var s=" li:not(.divider):visible a",l=n.find('[role="menu"]'+s+', [role="listbox"]'+s);if(l.length){var c=l.index(t.target);38==t.which&&c>0&&c--,40==t.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var r=e.fn.dropdown;e.fn.dropdown=function(t){return this.each((function(){var a=e(this),i=a.data("bs.dropdown");i||a.data("bs.dropdown",i=new n(this)),"string"==typeof t&&i[t].call(a)}))},e.fn.dropdown.Constructor=n,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=r,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",(function(e){e.stopPropagation()})).on("click.bs.dropdown.data-api",o,n.prototype.toggle).on("keydown.bs.dropdown.data-api",o,n.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',n.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',n.prototype.keydown)}(jQuery),function(e){"use strict";function t(t,i){return this.each((function(){var o=e(this),n=o.data("bs.modal"),r=e.extend({},a.DEFAULTS,o.data(),"object"==typeof t&&t);n||o.data("bs.modal",n=new a(this,r)),"string"==typeof t?n[t](i):r.show&&n.show(i)}))}var a=function(t,a){this.options=a,this.$body=e(document.body),this.$element=e(t),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy((function(){this.$element.trigger("loaded.bs.modal")}),this))};a.VERSION="3.3.2",a.TRANSITION_DURATION=300,a.BACKDROP_TRANSITION_DURATION=150,a.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},a.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},a.prototype.show=function(t){var i=this,o=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop((function(){var o=e.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.options.backdrop&&i.adjustBackdrop(),i.adjustDialog(),o&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var n=e.Event("shown.bs.modal",{relatedTarget:t});o?i.$element.find(".modal-dialog").one("bsTransitionEnd",(function(){i.$element.trigger("focus").trigger(n)})).emulateTransitionEnd(a.TRANSITION_DURATION):i.$element.trigger("focus").trigger(n)})))},a.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(a.TRANSITION_DURATION):this.hideModal())},a.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy((function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")}),this))},a.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy((function(e){27==e.which&&this.hide()}),this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},a.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},a.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop((function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")}))},a.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},a.prototype.backdrop=function(t){var i=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=e.support.transition&&o;if(this.$backdrop=e('<div class="modal-backdrop '+o+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",e.proxy((function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))}),this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;n?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(a.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var r=function(){i.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",r).emulateTransitionEnd(a.BACKDROP_TRANSITION_DURATION):r()}else t&&t()},a.prototype.handleUpdate=function(){this.options.backdrop&&this.adjustBackdrop(),this.adjustDialog()},a.prototype.adjustBackdrop=function(){this.$backdrop.css("height",0).css("height",this.$element[0].scrollHeight)},a.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},a.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},a.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight,this.scrollbarWidth=this.measureScrollbar()},a.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},a.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},a.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var i=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=a,e.fn.modal.noConflict=function(){return e.fn.modal=i,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',(function(a){var i=e(this),o=i.attr("href"),n=e(i.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),r=n.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(o)&&o},n.data(),i.data());i.is("a")&&a.preventDefault(),n.one("show.bs.modal",(function(e){e.isDefaultPrevented()||n.one("hidden.bs.modal",(function(){i.is(":visible")&&i.trigger("focus")}))})),t.call(n,r,this)}))}(jQuery),function(e){"use strict";var t=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};t.VERSION="3.3.2",t.TRANSITION_DURATION=150,t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},t.prototype.init=function(t,a,i){this.enabled=!0,this.type=t,this.$element=e(a),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport);for(var o=this.options.trigger.split(" "),n=o.length;n--;){var r=o[n];if("click"==r)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=r){var s="hover"==r?"mouseenter":"focusin",l="hover"==r?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return(t=e.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},a=this.getDefaults();return this._options&&e.each(this._options,(function(e,i){a[e]!=i&&(t[e]=i)})),t},t.prototype.enter=function(t){var a=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return a&&a.$tip&&a.$tip.is(":visible")?void(a.hoverState="in"):(a||(a=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,a)),clearTimeout(a.timeout),a.hoverState="in",a.options.delay&&a.options.delay.show?void(a.timeout=setTimeout((function(){"in"==a.hoverState&&a.show()}),a.options.delay.show)):a.show())},t.prototype.leave=function(t){var a=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return a||(a=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,a)),clearTimeout(a.timeout),a.hoverState="out",a.options.delay&&a.options.delay.hide?void(a.timeout=setTimeout((function(){"out"==a.hoverState&&a.hide()}),a.options.delay.hide)):a.hide()},t.prototype.show=function(){var a=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(a);var i=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(a.isDefaultPrevented()||!i)return;var o=this,n=this.tip(),r=this.getUID(this.type);this.setContent(),n.attr("id",r),this.$element.attr("aria-describedby",r),this.options.animation&&n.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(s);c&&(s=s.replace(l,"")||"top"),n.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?n.appendTo(this.options.container):n.insertAfter(this.$element);var d=this.getPosition(),u=n[0].offsetWidth,h=n[0].offsetHeight;if(c){var p=s,m=this.options.container?e(this.options.container):this.$element.parent(),f=this.getPosition(m);s="bottom"==s&&d.bottom+h>f.bottom?"top":"top"==s&&d.top-h<f.top?"bottom":"right"==s&&d.right+u>f.width?"left":"left"==s&&d.left-u<f.left?"right":s,n.removeClass(p).addClass(s)}var g=this.getCalculatedOffset(s,d,u,h);this.applyPlacement(g,s);var v=function(){var e=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==e&&o.leave(o)};e.support.transition&&this.$tip.hasClass("fade")?n.one("bsTransitionEnd",v).emulateTransitionEnd(t.TRANSITION_DURATION):v()}},t.prototype.applyPlacement=function(t,a){var i=this.tip(),o=i[0].offsetWidth,n=i[0].offsetHeight,r=parseInt(i.css("margin-top"),10),s=parseInt(i.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(s)&&(s=0),t.top=t.top+r,t.left=t.left+s,e.offset.setOffset(i[0],e.extend({using:function(e){i.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),i.addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;"top"==a&&c!=n&&(t.top=t.top+n-c);var d=this.getViewportAdjustedDelta(a,t,l,c);d.left?t.left+=d.left:t.top+=d.top;var u=/top|bottom/.test(a),h=u?2*d.left-o+l:2*d.top-n+c,p=u?"offsetWidth":"offsetHeight";i.offset(t),this.replaceArrow(h,i[0][p],u)},t.prototype.replaceArrow=function(e,t,a){this.arrow().css(a?"left":"top",50*(1-e/t)+"%").css(a?"top":"left","")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(a){function i(){"in"!=o.hoverState&&n.detach(),o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),a&&a()}var o=this,n=this.tip(),r=e.Event("hide.bs."+this.type);return this.$element.trigger(r),r.isDefaultPrevented()?void 0:(n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?n.one("bsTransitionEnd",i).emulateTransitionEnd(t.TRANSITION_DURATION):i(),this.hoverState=null,this)},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(t){var a=(t=t||this.$element)[0],i="BODY"==a.tagName,o=a.getBoundingClientRect();null==o.width&&(o=e.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var n=i?{top:0,left:0}:t.offset(),r={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},s=i?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},o,r,s,n)},t.prototype.getCalculatedOffset=function(e,t,a,i){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-a/2}:"top"==e?{top:t.top-i,left:t.left+t.width/2-a/2}:"left"==e?{top:t.top+t.height/2-i/2,left:t.left-a}:{top:t.top+t.height/2-i/2,left:t.left+t.width}},t.prototype.getViewportAdjustedDelta=function(e,t,a,i){var o={top:0,left:0};if(!this.$viewport)return o;var n=this.options.viewport&&this.options.viewport.padding||0,r=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-n-r.scroll,l=t.top+n-r.scroll+i;s<r.top?o.top=r.top-s:l>r.top+r.height&&(o.top=r.top+r.height-l)}else{var c=t.left-n,d=t.left+n+a;c<r.left?o.left=r.left-c:d>r.width&&(o.left=r.left+r.width-d)}return o},t.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},t.prototype.getUID=function(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},t.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var a=this;t&&((a=e(t.currentTarget).data("bs."+this.type))||(a=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,a))),a.tip().hasClass("in")?a.leave(a):a.enter(a)},t.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide((function(){e.$element.off("."+e.type).removeData("bs."+e.type)}))};var a=e.fn.tooltip;e.fn.tooltip=function(a){return this.each((function(){var i=e(this),o=i.data("bs.tooltip"),n="object"==typeof a&&a;(o||"destroy"!=a)&&(o||i.data("bs.tooltip",o=new t(this,n)),"string"==typeof a&&o[a]())}))},e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=a,this}}(jQuery),function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.3.2",t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),t.prototype.constructor=t,t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),a=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof a?"html":"append":"text"](a),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},t.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var a=e.fn.popover;e.fn.popover=function(a){return this.each((function(){var i=e(this),o=i.data("bs.popover"),n="object"==typeof a&&a;(o||"destroy"!=a)&&(o||i.data("bs.popover",o=new t(this,n)),"string"==typeof a&&o[a]())}))},e.fn.popover.Constructor=t,e.fn.popover.noConflict=function(){return e.fn.popover=a,this}}(jQuery),function(e){"use strict";function t(a,i){var o=e.proxy(this.process,this);this.$body=e("body"),this.$scrollElement=e(e(a).is("body")?window:a),this.options=e.extend({},t.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",o),this.refresh(),this.process()}function a(a){return this.each((function(){var i=e(this),o=i.data("bs.scrollspy"),n="object"==typeof a&&a;o||i.data("bs.scrollspy",o=new t(this,n)),"string"==typeof a&&o[a]()}))}t.VERSION="3.3.2",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t="offset",a=0;e.isWindow(this.$scrollElement[0])||(t="position",a=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var i=this;this.$body.find(this.selector).map((function(){var i=e(this),o=i.data("target")||i.attr("href"),n=/^#./.test(o)&&e(o);return n&&n.length&&n.is(":visible")&&[[n[t]().top+a,o]]||null})).sort((function(e,t){return e[0]-t[0]})).each((function(){i.offsets.push(this[0]),i.targets.push(this[1])}))},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,a=this.getScrollHeight(),i=this.options.offset+a-this.$scrollElement.height(),o=this.offsets,n=this.targets,r=this.activeTarget;if(this.scrollHeight!=a&&this.refresh(),t>=i)return r!=(e=n[n.length-1])&&this.activate(e);if(r&&t<o[0])return this.activeTarget=null,this.clear();for(e=o.length;e--;)r!=n[e]&&t>=o[e]&&(!o[e+1]||t<=o[e+1])&&this.activate(n[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var a=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=e(a).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=e.fn.scrollspy;e.fn.scrollspy=a,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=i,this},e(window).on("load.bs.scrollspy.data-api",(function(){e('[data-spy="scroll"]').each((function(){var t=e(this);a.call(t,t.data())}))}))}(jQuery),function(e){"use strict";function t(t){return this.each((function(){var i=e(this),o=i.data("bs.tab");o||i.data("bs.tab",o=new a(this)),"string"==typeof t&&o[t]()}))}var a=function(t){this.element=e(t)};a.VERSION="3.3.2",a.TRANSITION_DURATION=150,a.prototype.show=function(){var t=this.element,a=t.closest("ul:not(.dropdown-menu)"),i=t.data("target");if(i||(i=(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var o=a.find(".active:last a"),n=e.Event("hide.bs.tab",{relatedTarget:t[0]}),r=e.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(n),t.trigger(r),!r.isDefaultPrevented()&&!n.isDefaultPrevented()){var s=e(i);this.activate(t.closest("li"),a),this.activate(s,s.parent(),(function(){o.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:o[0]})}))}}},a.prototype.activate=function(t,i,o){function n(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var r=i.find("> .active"),s=o&&e.support.transition&&(r.length&&r.hasClass("fade")||!!i.find("> .fade").length);r.length&&s?r.one("bsTransitionEnd",n).emulateTransitionEnd(a.TRANSITION_DURATION):n(),r.removeClass("in")};var i=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=a,e.fn.tab.noConflict=function(){return e.fn.tab=i,this};var o=function(a){a.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),function(e){"use strict";function t(t){return this.each((function(){var i=e(this),o=i.data("bs.affix"),n="object"==typeof t&&t;o||i.data("bs.affix",o=new a(this,n)),"string"==typeof t&&o[t]()}))}var a=function(t,i){this.options=e.extend({},a.DEFAULTS,i),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};a.VERSION="3.3.2",a.RESET="affix affix-top affix-bottom",a.DEFAULTS={offset:0,target:window},a.prototype.getState=function(e,t,a,i){var o=this.$target.scrollTop(),n=this.$element.offset(),r=this.$target.height();if(null!=a&&"top"==this.affixed)return a>o&&"top";if("bottom"==this.affixed)return null!=a?!(o+this.unpin<=n.top)&&"bottom":!(e-i>=o+r)&&"bottom";var s=null==this.affixed,l=s?o:n.top;return null!=a&&a>=o?"top":null!=i&&l+(s?r:t)>=e-i&&"bottom"},a.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(a.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},a.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},a.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),i=this.options.offset,o=i.top,n=i.bottom,r=e("body").height();"object"!=typeof i&&(n=o=i),"function"==typeof o&&(o=i.top(this.$element)),"function"==typeof n&&(n=i.bottom(this.$element));var s=this.getState(r,t,o,n);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),c=e.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(a.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:r-t-n})}};var i=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=a,e.fn.affix.noConflict=function(){return e.fn.affix=i,this},e(window).on("load",(function(){e('[data-spy="affix"]').each((function(){var a=e(this),i=a.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),t.call(a,i)}))}))}(jQuery),
/*! WOW - v0.1.9 - 2014-05-10
* Copyright (c) 2014 Matthieu Aussaguel; Licensed MIT */
function(){var e,t,a=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(){}return e.prototype.extend=function(e,t){var a,i;for(a in e)null!=(i=e[a])&&(t[a]=i);return t},e.prototype.isMobile=function(e){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e)},e}(),t=this.WeakMap||(t=function(){function e(){this.keys=[],this.values=[]}return e.prototype.get=function(e){var t,a,i,o;for(t=a=0,i=(o=this.keys).length;i>a;t=++a)if(o[t]===e)return this.values[t]},e.prototype.set=function(e,t){var a,i,o,n;for(a=i=0,o=(n=this.keys).length;o>i;a=++i)if(n[a]===e)return void(this.values[a]=t);return this.keys.push(e),this.values.push(t)},e}()),this.WOW=function(){function i(e){null==e&&(e={}),this.scrollCallback=a(this.scrollCallback,this),this.scrollHandler=a(this.scrollHandler,this),this.start=a(this.start,this),this.scrolled=!0,this.config=this.util().extend(e,this.defaults),this.animationNameCache=new t}return i.prototype.defaults={boxClass:"wow",animateClass:"animated",offset:0,mobile:!0},i.prototype.init=function(){var e;return this.element=window.document.documentElement,"interactive"===(e=document.readyState)||"complete"===e?this.start():document.addEventListener("DOMContentLoaded",this.start)},i.prototype.start=function(){var e,t,a,i;if(this.boxes=this.element.getElementsByClassName(this.config.boxClass),this.boxes.length){if(this.disabled())return this.resetStyle();for(t=0,a=(i=this.boxes).length;a>t;t++)e=i[t],this.applyStyle(e,!0);return window.addEventListener("scroll",this.scrollHandler,!1),window.addEventListener("resize",this.scrollHandler,!1),this.interval=setInterval(this.scrollCallback,50)}},i.prototype.stop=function(){return window.removeEventListener("scroll",this.scrollHandler,!1),window.removeEventListener("resize",this.scrollHandler,!1),null!=this.interval?clearInterval(this.interval):void 0},i.prototype.show=function(e){return this.applyStyle(e),e.className=e.className+" "+this.config.animateClass},i.prototype.applyStyle=function(e,t){var a,i,o,n;return i=e.getAttribute("data-wow-duration"),a=e.getAttribute("data-wow-delay"),o=e.getAttribute("data-wow-iteration"),this.animate((n=this,function(){return n.customStyle(e,t,i,a,o)}))},i.prototype.animate="requestAnimationFrame"in window?function(e){return window.requestAnimationFrame(e)}:function(e){return e()},i.prototype.resetStyle=function(){var e,t,a,i,o;for(o=[],t=0,a=(i=this.boxes).length;a>t;t++)e=i[t],o.push(e.setAttribute("style","visibility: visible;"));return o},i.prototype.customStyle=function(e,t,a,i,o){return t&&this.cacheAnimationName(e),e.style.visibility=t?"hidden":"visible",a&&this.vendorSet(e.style,{animationDuration:a}),i&&this.vendorSet(e.style,{animationDelay:i}),o&&this.vendorSet(e.style,{animationIterationCount:o}),this.vendorSet(e.style,{animationName:t?"none":this.cachedAnimationName(e)}),e},i.prototype.vendors=["moz","webkit"],i.prototype.vendorSet=function(e,t){var a,i,o,n;for(a in n=[],t)i=t[a],e[""+a]=i,n.push(function(){var t,n,r,s;for(s=[],t=0,n=(r=this.vendors).length;n>t;t++)o=r[t],s.push(e[""+o+a.charAt(0).toUpperCase()+a.substr(1)]=i);return s}.call(this));return n},i.prototype.vendorCSS=function(e,t){var a,i,o,n,r,s;for(a=(i=window.getComputedStyle(e)).getPropertyCSSValue(t),n=0,r=(s=this.vendors).length;r>n;n++)o=s[n],a=a||i.getPropertyCSSValue("-"+o+"-"+t);return a},i.prototype.animationName=function(e){var t;try{t=this.vendorCSS(e,"animation-name").cssText}catch(a){t=window.getComputedStyle(e).getPropertyValue("animation-name")}return"none"===t?"":t},i.prototype.cacheAnimationName=function(e){return this.animationNameCache.set(e,this.animationName(e))},i.prototype.cachedAnimationName=function(e){return this.animationNameCache.get(e)},i.prototype.scrollHandler=function(){return this.scrolled=!0},i.prototype.scrollCallback=function(){var e;return this.scrolled&&(this.scrolled=!1,this.boxes=function(){var t,a,i,o;for(o=[],t=0,a=(i=this.boxes).length;a>t;t++)(e=i[t])&&(this.isVisible(e)?this.show(e):o.push(e));return o}.call(this),!this.boxes.length)?this.stop():void 0},i.prototype.offsetTop=function(e){for(var t;void 0===e.offsetTop;)e=e.parentNode;for(t=e.offsetTop;e=e.offsetParent;)t+=e.offsetTop;return t},i.prototype.isVisible=function(e){var t,a,i,o,n;return a=e.getAttribute("data-wow-offset")||this.config.offset,o=(n=window.pageYOffset)+this.element.clientHeight-a,t=(i=this.offsetTop(e))+e.clientHeight,o>=i&&t>=n},i.prototype.util=function(){return this._util||(this._util=new e)},i.prototype.disabled=function(){return!this.config.mobile&&this.util().isMobile(navigator.userAgent)},i}()}.call(this),function(e,t){e.fn.bootpag=function(t){function a(t,a){a=parseInt(a,10);var r,s=0==n.maxVisible?1:n.maxVisible,l=1==n.maxVisible?0:1,c=Math.floor((a-1)/s)*s,d=t.find("li");if(n.page=a=0>a?0:a>n.total?n.total:a,d.removeClass(n.activeClass),r=1>a-1?1:n.leaps&&a-1>=n.maxVisible?Math.floor((a-1)/s)*s:a-1,n.firstLastUse&&d.first().toggleClass(n.disabledClass,1===a),s=d.first(),n.firstLastUse&&(s=s.next()),s.toggleClass(n.disabledClass,1===a).attr("data-lp",r).find("a").attr("href",i(r)),l=1==n.maxVisible?0:1,r=a+1>n.total?n.total:n.leaps&&a+1<n.total-n.maxVisible?c+n.maxVisible+l:a+1,s=d.last(),n.firstLastUse&&(s=s.prev()),s.toggleClass(n.disabledClass,a===n.total).attr("data-lp",r).find("a").attr("href",i(r)),d.last().toggleClass(n.disabledClass,a===n.total),s=d.filter("[data-lp="+a+"]"),l="."+[n.nextClass,n.prevClass,n.firstClass,n.lastClass].join(",."),!s.not(l).length){var u=a<=c?-n.maxVisible:0;d.not(l).each((function(t){r=t+1+c+u,e(this).attr("data-lp",r).toggle(r<=n.total).find("a").html(r).attr("href",i(r))})),s=d.filter("[data-lp="+a+"]")}s.not(l).addClass(n.activeClass),o.data("settings",n)}function i(e){return n.href.replace(n.hrefVariable,e)}var o=this,n=e.extend({total:0,page:1,maxVisible:null,leaps:!0,href:"javascript:void(0);",hrefVariable:"{{number}}",next:"&raquo;",prev:"&laquo;",firstLastUse:!1,first:'<span aria-hidden="true">&larr;</span>',last:'<span aria-hidden="true">&rarr;</span>',wrapClass:"pagination",activeClass:"active",disabledClass:"disabled",nextClass:"next",prevClass:"prev",lastClass:"last",firstClass:"first"},o.data("settings")||{},t||{});return 0>=n.total?this:(e.isNumeric(n.maxVisible)||n.maxVisible||(n.maxVisible=parseInt(n.total,10)),o.data("settings",n),this.each((function(){var t,r,s=e(this);for(t=['<ul class="',n.wrapClass,' bootpag">'],n.firstLastUse&&(t=t.concat(['<li data-lp="1" class="',n.firstClass,'"><a href="',i(1),'">',n.first,"</a></li>"])),n.prev&&(t=t.concat(['<li data-lp="1" class="',n.prevClass,'"><a href="',i(1),'">',n.prev,"</a></li>"])),r=1;r<=Math.min(n.total,n.maxVisible);r++)t=t.concat(['<li data-lp="',r,'"><a href="',i(r),'">',r,"</a></li>"]);n.next&&(r=n.leaps&&n.total>n.maxVisible?Math.min(n.maxVisible+1,n.total):2,t=t.concat(['<li data-lp="',r,'" class="',n.nextClass,'"><a href="',i(r),'">',n.next,"</a></li>"])),n.firstLastUse&&(t=t.concat(['<li data-lp="',n.total,'" class="last"><a href="',i(n.total),'">',n.last,"</a></li>"])),t.push("</ul>"),s.find("ul.bootpag").remove(),s.append(t.join("")),t=s.find("ul.bootpag"),s.find("li").click((function(){var t=e(this);if(!t.hasClass(n.disabledClass)&&!t.hasClass(n.activeClass)){var i=parseInt(t.attr("data-lp"),10);o.find("ul.bootpag").each((function(){a(e(this),i)})),o.trigger("page",i)}})),a(t,n.page)})))}}(jQuery,window),"undefined"!=typeof google&&inherits(MarkerLabel_,google.maps.OverlayView),MarkerLabel_.getSharedCross=function(e){var t;return void 0===MarkerLabel_.getSharedCross.crossDiv&&((t=document.createElement("img")).style.cssText="position: absolute; z-index: 1000002; display: none;",t.style.marginLeft="-8px",t.style.marginTop="-9px",t.src=e,MarkerLabel_.getSharedCross.crossDiv=t),MarkerLabel_.getSharedCross.crossDiv},MarkerLabel_.prototype.onAdd=function(){var e,t,a,i,o,n,r,s=this,l=!1,c=!1,d="url("+this.handCursorURL_+")",u=function(e){e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()},h=function(){s.marker_.setAnimation(null)};this.getPanes().overlayImage.appendChild(this.labelDiv_),this.getPanes().overlayMouseTarget.appendChild(this.eventDiv_),void 0===MarkerLabel_.getSharedCross.processed&&(this.getPanes().overlayImage.appendChild(this.crossDiv_),MarkerLabel_.getSharedCross.processed=!0),this.listeners_=[google.maps.event.addDomListener(this.eventDiv_,"mouseover",(function(e){(s.marker_.getDraggable()||s.marker_.getClickable())&&(this.style.cursor="pointer",google.maps.event.trigger(s.marker_,"mouseover",e))})),google.maps.event.addDomListener(this.eventDiv_,"mouseout",(function(e){!s.marker_.getDraggable()&&!s.marker_.getClickable()||c||(this.style.cursor=s.marker_.getCursor(),google.maps.event.trigger(s.marker_,"mouseout",e))})),google.maps.event.addDomListener(this.eventDiv_,"mousedown",(function(e){c=!1,s.marker_.getDraggable()&&(l=!0,this.style.cursor=d),(s.marker_.getDraggable()||s.marker_.getClickable())&&(google.maps.event.trigger(s.marker_,"mousedown",e),u(e))})),google.maps.event.addDomListener(document,"mouseup",(function(t){var a;if(l&&(l=!1,s.eventDiv_.style.cursor="pointer",google.maps.event.trigger(s.marker_,"mouseup",t)),c){if(o){(a=s.getProjection().fromLatLngToDivPixel(s.marker_.getPosition())).y+=20,s.marker_.setPosition(s.getProjection().fromDivPixelToLatLng(a));try{s.marker_.setAnimation(google.maps.Animation.BOUNCE),setTimeout(h,1406)}catch(e){}}s.crossDiv_.style.display="none",s.marker_.setZIndex(e),i=!0,c=!1,t.latLng=s.marker_.getPosition(),google.maps.event.trigger(s.marker_,"dragend",t)}})),google.maps.event.addListener(s.marker_.getMap(),"mousemove",(function(i){var d;l&&(c?(i.latLng=new google.maps.LatLng(i.latLng.lat()-t,i.latLng.lng()-a),d=s.getProjection().fromLatLngToDivPixel(i.latLng),o&&(s.crossDiv_.style.left=d.x+"px",s.crossDiv_.style.top=d.y+"px",s.crossDiv_.style.display="",d.y-=20),s.marker_.setPosition(s.getProjection().fromDivPixelToLatLng(d)),o&&(s.eventDiv_.style.top=d.y+20+"px"),google.maps.event.trigger(s.marker_,"drag",i)):(t=i.latLng.lat()-s.marker_.getPosition().lat(),a=i.latLng.lng()-s.marker_.getPosition().lng(),e=s.marker_.getZIndex(),n=s.marker_.getPosition(),r=s.marker_.getMap().getCenter(),o=s.marker_.get("raiseOnDrag"),c=!0,s.marker_.setZIndex(1e6),i.latLng=s.marker_.getPosition(),google.maps.event.trigger(s.marker_,"dragstart",i)))})),google.maps.event.addDomListener(document,"keydown",(function(e){c&&27===e.keyCode&&(o=!1,s.marker_.setPosition(n),s.marker_.getMap().setCenter(r),google.maps.event.trigger(document,"mouseup",e))})),google.maps.event.addDomListener(this.eventDiv_,"click",(function(e){(s.marker_.getDraggable()||s.marker_.getClickable())&&(i?i=!1:(google.maps.event.trigger(s.marker_,"click",e),u(e)))})),google.maps.event.addDomListener(this.eventDiv_,"dblclick",(function(e){(s.marker_.getDraggable()||s.marker_.getClickable())&&(google.maps.event.trigger(s.marker_,"dblclick",e),u(e))})),google.maps.event.addListener(this.marker_,"dragstart",(function(e){c||(o=this.get("raiseOnDrag"))})),google.maps.event.addListener(this.marker_,"drag",(function(e){c||o&&(s.setPosition(20),s.labelDiv_.style.zIndex=1e6+(this.get("labelInBackground")?-1:1))})),google.maps.event.addListener(this.marker_,"dragend",(function(e){c||o&&s.setPosition(0)})),google.maps.event.addListener(this.marker_,"position_changed",(function(){s.setPosition()})),google.maps.event.addListener(this.marker_,"zindex_changed",(function(){s.setZIndex()})),google.maps.event.addListener(this.marker_,"visible_changed",(function(){s.setVisible()})),google.maps.event.addListener(this.marker_,"labelvisible_changed",(function(){s.setVisible()})),google.maps.event.addListener(this.marker_,"title_changed",(function(){s.setTitle()})),google.maps.event.addListener(this.marker_,"labelcontent_changed",(function(){s.setContent()})),google.maps.event.addListener(this.marker_,"labelanchor_changed",(function(){s.setAnchor()})),google.maps.event.addListener(this.marker_,"labelclass_changed",(function(){s.setStyles()})),google.maps.event.addListener(this.marker_,"labelstyle_changed",(function(){s.setStyles()}))]},MarkerLabel_.prototype.onRemove=function(){var e;if(this.labelDiv_.parentNode)for(this.labelDiv_.parentNode.removeChild(this.labelDiv_),this.eventDiv_.parentNode.removeChild(this.eventDiv_),e=0;e<this.listeners_.length;e++)google.maps.event.removeListener(this.listeners_[e])},MarkerLabel_.prototype.draw=function(){this.setContent(),this.setTitle(),this.setStyles()},MarkerLabel_.prototype.setContent=function(){var e=this.marker_.get("labelContent");void 0===e.nodeType?(this.labelDiv_.innerHTML=e,this.eventDiv_.innerHTML=this.labelDiv_.innerHTML):(this.labelDiv_.innerHTML="",this.labelDiv_.appendChild(e),e=e.cloneNode(!0),this.eventDiv_.innerHTML="",this.eventDiv_.appendChild(e))},MarkerLabel_.prototype.setTitle=function(){this.eventDiv_.title=this.marker_.getTitle()||""},MarkerLabel_.prototype.setStyles=function(){var e,t;for(e in this.labelDiv_.className=this.marker_.get("labelClass"),this.eventDiv_.className=this.labelDiv_.className,this.labelDiv_.style.cssText="",this.eventDiv_.style.cssText="",t=this.marker_.get("labelStyle"))t.hasOwnProperty(e)&&(this.labelDiv_.style[e]=t[e],this.eventDiv_.style[e]=t[e]);this.setMandatoryStyles()},MarkerLabel_.prototype.setMandatoryStyles=function(){this.labelDiv_.style.position="absolute",this.labelDiv_.style.overflow="hidden",void 0!==this.labelDiv_.style.opacity&&""!==this.labelDiv_.style.opacity&&(this.labelDiv_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(opacity='+100*this.labelDiv_.style.opacity+')"',this.labelDiv_.style.filter="alpha(opacity="+100*this.labelDiv_.style.opacity+")"),this.eventDiv_.style.position=this.labelDiv_.style.position,this.eventDiv_.style.overflow=this.labelDiv_.style.overflow,this.eventDiv_.style.opacity=.01,this.eventDiv_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(opacity=1)"',this.eventDiv_.style.filter="alpha(opacity=1)",this.setAnchor(),this.setPosition(),this.setVisible()},MarkerLabel_.prototype.setAnchor=function(){var e=this.marker_.get("labelAnchor");this.labelDiv_.style.marginLeft=-e.x+"px",this.labelDiv_.style.marginTop=-e.y+"px",this.eventDiv_.style.marginLeft=-e.x+"px",this.eventDiv_.style.marginTop=-e.y+"px"},MarkerLabel_.prototype.setPosition=function(e){var t=this.getProjection().fromLatLngToDivPixel(this.marker_.getPosition());void 0===e&&(e=0),this.labelDiv_.style.left=Math.round(t.x)+"px",this.labelDiv_.style.top=Math.round(t.y-e)+"px",this.eventDiv_.style.left=this.labelDiv_.style.left,this.eventDiv_.style.top=this.labelDiv_.style.top,this.setZIndex()},MarkerLabel_.prototype.setZIndex=function(){var e=this.marker_.get("labelInBackground")?-1:1;void 0===this.marker_.getZIndex()?(this.labelDiv_.style.zIndex=parseInt(this.labelDiv_.style.top,10)+e,this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex):(this.labelDiv_.style.zIndex=this.marker_.getZIndex()+e,this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex)},MarkerLabel_.prototype.setVisible=function(){this.marker_.get("labelVisible")?this.labelDiv_.style.display=this.marker_.getVisible()?"block":"none":this.labelDiv_.style.display="none",this.eventDiv_.style.display=this.labelDiv_.style.display},"undefined"!=typeof google&&inherits(MarkerWithLabel,google.maps.Marker),MarkerWithLabel.prototype.setMap=function(e){google.maps.Marker.prototype.setMap.apply(this,arguments),this.label.setMap(e)},function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}((function(e){var t,a=navigator.userAgent,i=/iphone/i.test(a),o=/chrome/i.test(a),n=/android/i.test(a);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},autoclear:!0,dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,t){var a;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,this.each((function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&((a=this.createTextRange()).collapse(!0),a.moveEnd("character",t),a.moveStart("character",e),a.select())}))):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(a=document.selection.createRange(),e=0-a.duplicate().moveStart("character",-1e5),t=e+a.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(a,r){var s,l,c,d,u,h,p;if(!a&&this.length>0){var m=e(this[0]).data(e.mask.dataName);return m?m():void 0}return r=e.extend({autoclear:e.mask.autoclear,placeholder:e.mask.placeholder,completed:null},r),s=e.mask.definitions,l=[],c=h=a.length,d=null,e.each(a.split(""),(function(e,t){"?"==t?(h--,c=e):s[t]?(l.push(new RegExp(s[t])),null===d&&(d=l.length-1),c>e&&(u=l.length-1)):l.push(null)})),this.trigger("unmask").each((function(){function m(){if(r.completed){for(var e=d;u>=e;e++)if(l[e]&&x[e]===f(e))return;r.completed.call(w)}}function f(e){return r.placeholder.charAt(e<r.placeholder.length?e:0)}function g(e){for(;++e<h&&!l[e];);return e}function v(e,t){var a,i;if(!(0>e)){for(a=e,i=g(t);h>a;a++)if(l[a]){if(!(h>i&&l[a].test(x[i])))break;x[a]=x[i],x[i]=f(i),i=g(i)}b(),w.caret(Math.max(d,e))}}function _(){$(),w.val()!=C&&w.change()}function y(e,t){var a;for(a=e;t>a&&h>a;a++)l[a]&&(x[a]=f(a))}function b(){w.val(x.join(""))}function $(e){var t,a,i,o=w.val(),n=-1;for(t=0,i=0;h>t;t++)if(l[t]){for(x[t]=f(t);i++<o.length;)if(a=o.charAt(i-1),l[t].test(a)){x[t]=a,n=t;break}if(i>o.length){y(t+1,h);break}}else x[t]===o.charAt(i)&&i++,c>t&&(n=t);return e?b():c>n+1?r.autoclear||x.join("")===k?(w.val()&&w.val(""),y(0,h)):b():(b(),w.val(w.val().substring(0,n+1))),c?t:d}var w=e(this),x=e.map(a.split(""),(function(e,t){return"?"!=e?s[e]?f(t):e:void 0})),k=x.join(""),C=w.val();w.data(e.mask.dataName,(function(){return e.map(x,(function(e,t){return l[t]&&e!=f(t)?e:null})).join("")})),w.one("unmask",(function(){w.off(".mask").removeData(e.mask.dataName)})).on("focus.mask",(function(){var e;w.prop("readonly")||(clearTimeout(t),C=w.val(),e=$(),t=setTimeout((function(){w.get(0)===document.activeElement&&(b(),e==a.replace("?","").length?w.caret(0,e):w.caret(e))}),10))})).on("blur.mask",_).on("keydown.mask",(function(e){if(!w.prop("readonly")){var t,a,o,n=e.which||e.keyCode;p=w.val(),8===n||46===n||i&&127===n?(a=(t=w.caret()).begin,(o=t.end)-a==0&&(a=46!==n?function(e){for(;--e>=0&&!l[e];);return e}(a):o=g(a-1),o=46===n?g(o):o),y(a,o),v(a,o-1),e.preventDefault()):13===n?_.call(this,e):27===n&&(w.val(C),w.caret(0,$()),e.preventDefault())}})).on("keypress.mask",(function(t){if(!w.prop("readonly")){var a,i,o,r=t.which||t.keyCode,s=w.caret();if(!(t.ctrlKey||t.altKey||t.metaKey||32>r)&&r&&13!==r){if(s.end-s.begin!=0&&(y(s.begin,s.end),v(s.begin,s.end-1)),a=g(s.begin-1),h>a&&(i=String.fromCharCode(r),l[a].test(i))){if(function(e){var t,a,i,o;for(t=e,a=f(e);h>t;t++)if(l[t]){if(i=g(t),o=x[t],x[t]=a,!(h>i&&l[i].test(o)))break;a=o}}(a),x[a]=i,b(),o=g(a),n){setTimeout((function(){e.proxy(e.fn.caret,w,o)()}),0)}else w.caret(o);s.begin<=u&&m()}t.preventDefault()}}})).on("input.mask paste.mask",(function(){w.prop("readonly")||setTimeout((function(){var e=$(!0);w.caret(e),m()}),0)})),o&&n&&w.off("input.mask").on("input.mask",(function(){var e=w.val(),t=w.caret();if(p&&p.length&&p.length>e.length){for($(!0);t.begin>0&&!l[t.begin-1];)t.begin--;if(0===t.begin)for(;t.begin<d&&!l[t.begin];)t.begin++;w.caret(t.begin,t.begin)}else{for($(!0);t.begin<h&&!l[t.begin];)t.begin++;w.caret(t.begin,t.begin)}m()})),$()}))}})})),$(document).ready((function(){if(-1==window.location.href.indexOf("/sites/getframe/")&&-1==window.location.href.indexOf("/elements/"))if(window.location.href.indexOf("/agent-profile/")>1){let t=window.location.href.split("/");if(t.length>0){let a=t.pop().split("-");if(a.length>0){let t=a.pop();t&&$.ajax({url:"/pages/get_agent.php",dataType:"json",data:{agentId:t},method:"POST"}).done((function(t){e(t)}))}}}else $.ajax({url:"/pages/get_agent.php",dataType:"json"}).done((function(t){e(t)}));function e(e){null!=e.data.agent_license_id&&e.data.agent_license_id.length>0&&$(".agent_license_dynamic").html(e.data.agent_license_id).removeClass("dynamic_loading"),null!=e.data.agent_fname&&e.data.agent_fname.length>0&&$(".agent_name_dynamic").html(e.data.agent_fname+" "+e.data.agent_lname).removeClass("dynamic_loading"),null!=e.data.agent_title&&e.data.agent_title.length>0?$(".agent_title_dynamic").html(e.data.agent_title).removeClass("dynamic_loading"):$(".agent_title_dynamic").html("").removeClass("dynamic_loading"),null!=e.data.agent_url&&e.data.agent_url.length>0&&($(".agent_website_dynamic").attr("href",e.data.agent_url),$(".agent_website_dynamic").html(e.data.agent_url).removeClass("dynamic_loading")),null!=e.data.agent_bio&&e.data.agent_bio.length>0?$(".agent_bio_dynamic").html(e.data.agent_bio).removeClass("dynamic_loading"):$(".agent_bio_dynamic").removeClass("dynamic_loading"),null!=e.data.agent_address&&e.data.agent_address.length>0?$(".agent_address_dynamic").html(e.data.agent_address).removeClass("dynamic_loading"):$(".agent_address_dynamic").html("").removeClass("dynamic_loading"),null!=e.data.agent_zip&&e.data.agent_zip.length>0?$(".agent_zip_dynamic").html(e.data.agent_zip).removeClass("dynamic_loading"):$(".agent_zip_dynamic").html("").removeClass("dynamic_loading"),null!=e.data.agent_city&&e.data.agent_city.length>0?$(".agent_city_dynamic").html(e.data.agent_city).removeClass("dynamic_loading"):$(".agent_city_dynamic").html("").removeClass("dynamic_loading"),null!=e.data.agent_state&&e.data.agent_state.length>0?$(".agent_state_dynamic").html(e.data.agent_state).removeClass("dynamic_loading"):$(".agent_state_dynamic").html("").removeClass("dynamic_loading"),null!=e.data.agent_phone&&e.data.agent_phone.length>0?($(".agent_phone_dynamic").html(e.data.agent_phone).removeClass("dynamic_loading"),$("a.agent_phone_dynamic").attr("href","tel:"+e.data.agent_phone.toString().replace(/[^\d]+/g,""))):$(".agent_phone_dynamic").html("").removeClass("dynamic_loading"),null!=e.data.agent_email&&e.data.agent_email.length>0&&($(".agent_email_dynamic").attr("href","mailto:"+e.data.agent_email),$(".agent_email_dynamic").html(e.data.agent_email).removeClass("dynamic_loading")),null!=e.data.company_name&&""!=e.data.company_name&&$(".agent_company_name_dynamic").html(e.data.company_name).removeClass("dynamic_loading"),null!=e.data.agent_photo&&""!=e.data.agent_photo&&($(".agent_pic_dynamic").one("load",(function(){$(this).removeClass("dynamic_loading")})).attr("src",e.data.agent_photo),$(".agent_bg_pic_dynamic").one("load",(function(){$(this).removeClass("dynamic_loading")})).attr("style",'background: url("'+e.data.agent_photo+'") no-repeat')),$(".company_logo_dynamic").removeClass("dynamic_loading"),$(".site_custom_logo_dynamic").removeClass("dynamic_loading"),$(".frl-company-logo").removeClass("hide"),null!=e.data.agent_fburl&&e.data.agent_fburl.length>0&&($(".agent_facebook_dynamic").attr("href",e.data.agent_fburl).removeClass("dynamic_loading"),$(".agent_facebook_dynamic").show()),null!=e.data.agent_twitter_url&&e.data.agent_twitter_url.length>0&&($(".agent_twitter_dynamic").attr("href",e.data.agent_twitter_url).removeClass("dynamic_loading"),$(".agent_twitter_dynamic").show()),null!=e.data.agent_linkedIn_url&&e.data.agent_linkedIn_url.length>0&&($(".agent_linkedin_dynamic").attr("href",e.data.agent_linkedIn_url).removeClass("dynamic_loading"),$(".agent_linkedin_dynamic").show()),null!=e.data.agent_pinterest_url&&e.data.agent_pinterest_url.length>0&&($(".agent_pinterest_dynamic").attr("href",e.data.agent_pinterest_url).removeClass("dynamic_loading"),$(".agent_pinterest_dynamic").show()),null!=e.data.agent_instagram_url&&e.data.agent_instagram_url.length>0&&($(".agent_instagram_dynamic").attr("href",e.data.agent_instagram_url).removeClass("dynamic_loading"),$(".agent_instagram_dynamic").show()),null!=e.data.agent_youtube_url&&e.data.agent_youtube_url.length>0&&($(".agent_youtube_dynamic").attr("href",e.data.agent_youtube_url).removeClass("dynamic_loading"),$(".agent_youtube_dynamic").show())}})),$(document).ready((function(){window.scrollTo(0,0)}));var isLoggedChecked=!1,askingToken=!1,changingPassword=!1,isLoggedIn=!1,reactGoogleLogInEmail="",reactLoginPhoneNumber="",reactLoginName="";if("undefined"==typeof toast){}function reactIsloggedinCheckFalse(){isLoggedIn=!1,$(".alterraCustomZipCode").find("#alterraCustomZipCodeClick").trigger("click")}function reactIsloggedinCheckTrue(){isLoggedIn=!0}function activateThanks(){$("body").trigger("sayThanks","The email has been sent")}function reactSendContactInfo(e,t,a,i,o){var n={time_event_type:"contact_form_block",h_robot_field:"",contact_fname:e,contact_lname:t,contact_email:a,contact_phone:i,contact_message:o,form_source_url:window.location.href};$.ajax({url:"/pages/contact.php",data:n,method:"POST",dataType:"json"}).done((function(e){$("body").trigger("sayThanks","The email has been sent")}))}const checkIfTokenExpired=()=>{const e=localStorage.getItem("authorization");if(!e)return!1;if(e){const t=JSON.parse(window.atob(e.split(".")[1]));if(Date.now()>=1e3*t.exp)return!1}return!0};function statusChangeCallback(e){console.log("statusChangeCallback"),console.log(e),"connected"===e.status&&(e.authResponse?(console.log("Welcome!  Fetching your information.... "),FB.api("/me",{fields:"first_name,last_name,email,id"},(function(e){var t="first_name"in e?e.first_name:"null",a="last_name"in e?e.last_name:"null",i="id"in e?e.id:"null",o="email"in e?e.email:"null";reactGoogleLogInEmail=e.email,reactLoginName=e.first_name+" "+e.last_name,reactIsloggedinCheckFalse(),doLogin("facebook",{email:o,fname:t,lname:a,fbid:i})}))):console.log("User cancelled login or did not fully authorize."))}function userLogOut(e){$.ajax({url:"/pages/logout.php",dataType:"json"}).done((function(t){1==t.status&&($("#huser_id").val("").trigger("change"),$("#not-logged-in").show(),$("#logged-in").hide(),$(".login-ss").show(),$(".create-ss").hide(),$(".favoritesCount").html("0"),$(".savedSearchesCount").html("0"),$("#hfavorites").val(""),$("#haction").val(""),localStorage.removeItem("authorization"),"facebook"==t.loginType&&facebookLogout(),"gmail"==t.loginType&&signOutGmail(),window.location.hash&&window.location.href.indexOf("/search")>7?doFullSearch(!1,!1,1):-1!==window.location.href.indexOf("/homes-for-sale/")&&$("#hpropertyid").length>0&&-1===window.location.href.indexOf("/homes-for-sale/comparables")&&($("#listing_alert_sendbtn").hide(),$("#listing_alert_signup_sendbtn").show(),$("#favLink").attr("onclick","openSignup()"),$("#favIcon").addClass("fa-heart-o"),$("#favIcon").removeClass("fa-heart"),$("#name").val(""),$("#email").val(""),$("#schedule_phone").val(""),$("#contact_agent_name").val(""),$("#contact_agent_email").val(""),$("#contact_agent_phone").val(""),$("#contact_agent_full_name").val(""),$("#contact_agent_email_address").val(""),$("#contact_agent_phone_number").val("")),"function"==typeof e&&e())}))}function facebookLogout(){FB.logout((function(e){console.log(e)}))}function checkLoginState(){FB.getLoginStatus((function(e){statusChangeCallback(e)}))}function fbLogin(){global_fb=!0,FB.login((function(e){statusChangeCallback(e)}),{scope:"email"})}function onSignIn(e){console.log("googlecheck"),reactIsloggedinCheckTrue();var t=e.getBasicProfile(),a=t.getName().split(" ");reactLoginName=t.getName(),reactGoogleLogInEmail=t.getEmail(),doLogin("gmail",{email:t.getEmail(),fname:a[0],lname:a[1],gid:t.getId()}),reactIsloggedinCheckFalse()}function signOutGmail(){gapi.auth2.getAuthInstance().signOut().then((function(){console.log("User signed out.")}))}function trackSiteVisit(){$.ajax({url:"/pages/site_visits.php",dataType:"json"}).done((function(e){}))}function isOpenhouse(){let e=window.location.pathname+window.location.search;return e.indexOf("/openvirtual")>-1||e.indexOf("/openlight")>-1||e.indexOf("/openfull")>-1||e.indexOf("/openbroker")>-1||e.indexOf("/openhouse")>-1}function setCookieForMinutes(e,t,a){var i="";if(a){var o=new Date;o.setTime(o.getTime()+60*a*1e3),i="; expires="+o.toUTCString()}document.cookie=e+"="+(t||"")+i+"; path=/"}function getCookieByName(e){for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),i=0;i<a.length;i++){for(var o=a[i];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""}function showGoogleOneTap(e){if(!isOpenhouse()){let t={client_id:"727134128516-d9kdb4teh9odhn73psvh5cvpkncmut3m.apps.googleusercontent.com",callback:handleOnetapResponse};e?t.prompt_parent_id="credential_picker_container_centered":t.cancel_on_tap_outside=!1,google.accounts.id.initialize(t),e?google.accounts.id.prompt((e=>{e.isNotDisplayed()?showSignupModal():e.isSkippedMoment()?$("#credential_picker_container_centered").hide():$("#credential_picker_container_centered").toggle()})):google.accounts.id.prompt()}}function _isPropertyDetails3(){return $("property-details").length>0}function showSignupModal(){$("property-details");$(".tab-content > #signin").removeClass("active"),$(".tab-content > #signin").removeClass("in"),$(".tab-content > #create").addClass("active in"),$("#sign-up-modal").modal("show")}function showLoginModal(){const e=$("property-details");if(_isPropertyDetails3())return e.attr("signUpErrorMessage",!0),e.attr("showSignUpModal",!0);$(".tab-content > #create").removeClass("active"),$(".tab-content > #create").removeClass("in"),$(".tab-content > #signin").addClass("active in"),$("#sign-up-modal").modal("show")}function handleOnetapResponse(e){e.referrer=window.location.href,$.ajax({url:"/pages/login_google_onetap.php",data:e,method:"POST",dataType:"json"}).done((function(e){if(e.status){var t=e.email;$("#huser_id").val(e.user_id).trigger("change"),$("#update_user_email").val(t),processLoggedUser()}}))}function replace_all(e,t,a){return e.split(t).join(a)}function parseAreasCityBlockContent(e){var t="";return e&&e.length&&e.forEach((function(e){t+='<div class="col-sm-12 col-md-4 margin-bottom-20"><ul class="editContent list-group">',e.forEach((function(e){var a=encodeURIComponent(e.city);t+='<li class="list-group-item" href=""><span class="badge"><a class="pull-left" data-toggle="tooltip" data-placement="left" title="View Market Report" href="/sitemap/city/'+e.state+"/"+a+'"><i class="ss-barchart"></i></a><a class="listing-number" data-toggle="tooltip" data-placement="left" title="Search Listings" href="/search#?multi_search='+encodeURIComponent(e.city)+'&multi_cat=City">'+e.total+'</a></span><a href="/sitemap/city/'+e.state+"/"+a+'">'+e.city+", "+e.state+"</a></li>"})),t+="</ul></div>"})),t}function getUtmParams(){let e={};const t=window.location.search,a=new URLSearchParams(t);return a.has("utm_source")&&(e["retarget-utm"]={utm_source:a.get("utm_source")},(window.location.search.indexOf("ads_auto_login=retarget_brivity_facebook_ads")>0||window.location.search.indexOf("brivity_connect=ads-remarket")>0||window.location.search.indexOf("brivity_leads=brivity_ads")>0)&&(e["retarget-utm"].ads_auto_login="retarget_brivity_facebook_ads",e["retarget-utm"].url=window.location.href,""!==document.referrer&&(e["retarget-utm"].referrer=document.referrer),a.has("utm_medium")&&(e["retarget-utm"].utm_medium=a.get("utm_medium")),a.has("utm_campaign")&&(e["retarget-utm"].utm_campaign=a.get("utm_campaign")),a.has("utm_type")&&(e["retarget-utm"].utm_type=a.get("utm_type")))),e}function processLoggedUser(){let e=getUtmParams();jQuery.isEmptyObject(e)||(e.user_info="yes",$.ajax({url:"/pages/is_logged.php",data:e,method:"POST",dataType:"json"}).done((function(e){e.logged&&(null!=e.favorites&&$(".favoritesCount").html(e.favorites||0),null!=e.saved_searches&&$(".savedSearchesCount").html(e.saved_searches||0),afterAuth(e.lead_data.first_name,e.lead_data.last_name,e.lead_data.email),propertyDetailsTopBar(e))})))}function loginLastFacebookLeadGenerated(){$.ajax({url:"/pages/login_facebook_leadgen.php",method:"GET",dataType:"json"}).done((function(e){if(e.status){var t=e.email;$("#huser_id").val(e.user_id).trigger("change"),$("#update_user_email").val(t),processLoggedUser()}}))}function doLogin(e,t){var a={login_form_email:$("#search_username").val(),login_form_password:$("#search_password").val()};null!=e&&(a.typeLogin=e,a.accountData=t,a.form_source_url=window.location.href);var i=!1;if(window.location.search.indexOf("ads_auto_login=retarget_brivity_facebook_ads")>0||window.location.search.indexOf("brivity_connect=ads-remarket")>0||window.location.search.indexOf("brivity_leads=brivity_ads")>0){const e=window.location.search,t=new URLSearchParams(e);i=!0,t.has("utm_source")&&(a["retarget-utm"]={utm_source:t.get("utm_source"),ads_auto_login:"retarget_brivity_facebook_ads",url:window.location.href},t.has("utm_medium")&&(a["retarget-utm"].utm_medium=t.get("utm_medium")),t.has("utm_campaign")&&(a["retarget-utm"].utm_campaign=t.get("utm_campaign")),t.has("utm_type")&&(a["retarget-utm"].utm_type=t.get("utm_type")))}if("facebook"==e&&($("#signupForm input, #signin input").attr("disabled",!0),$(".frc-btn-facebook").attr("disabled",!0),$(".frc-btn-facebook div span").text("Logging in..."),$("#force-social-registration").length&&($("#force-social-registration").data("bs.modal")||{}).isShown||$("#force-search-registration").length&&($("#force-search-registration").data("bs.modal")||{}).isShown||$("#force-combine-registration").length&&($("#force-combine-registration").data("bs.modal")||{}).isShown))if(a.extra={referrer:getQueryParamByName("share")},a.form_source_url=window.location.href,$("#frg-h-tags").length&&$("#frg-h-tags").val().trim()&&(a.tags=$("#frg-h-tags").val().trim()),$("#force-social-registration").length&&($("#force-social-registration").data("bs.modal")||{}).isShown)a.time_event_type="forced_registration_property_page_social";else if($("#force-combine-registration").length&&($("#force-combine-registration").data("bs.modal")||{}).isShown)a.time_event_type="forced_registration_property_page_combined";else if($("#force-search-registration").length&&($("#force-search-registration").data("bs.modal")||{}).isShown){a.time_event_type="forced_registration_search_page_combined";var o="",n=parseInt($("#min_bedrooms").val().trim()),r=parseInt($("#max_bedrooms").val().trim()),s=parseInt($("#min_bathrooms").val().trim()),l=parseInt($("#max_bathrooms").val().trim()),c=parseInt($("#min_price").val().trim()),d=parseInt($("#max_price").val().trim());$("#hmulti_search").val().trim()&&(o+=$("#hmulti_search").val().trim()),(n||r)&&(o+=(o?", ":"")+(n&&r?n+"-"+r:n?n+"+":"<"+r)+" beds"),(s||l)&&(o+=(o?", ":"")+(s&&l?s+"-"+l:s?s+"+":"<"+l)+" baths"),(c||d)&&(o+=(o?", ":"")+(c&&d?formatPriceUserFriendly(c)+" - "+formatPriceUserFriendly(d):c?formatPriceUserFriendly(c)+"+":"<"+formatPriceUserFriendly(d))),o&&(a.extra.criteria=o),a.extra.search_url=window.location.origin+"/search"+window.location.hash}$.ajax({url:"/pages/login.php",data:a,method:"POST",dataType:"json"}).done((function(a,o,n){if($("#loginBtn").text("Login to My Account"),$("#loginBtn").prop("disabled",!1),1==a.status){i&&$("#facebook-login-modal").modal("hide");var r=n.getResponseHeader("Authorization");r&&localStorage.setItem("authorization",r),localStorage.setItem("uuid",a.uuid);var s={fname:a.user_fname?a.user_fname:t&&t.fname?t.fname:"",lname:a.user_lname?a.user_lname:t&&t.lname?t.lname:"",email:$("#search_username").val()?$("#search_username").val():t&&t.email?t.email:""};_isPropertyDetails3()&&($("property-details").attr("user",JSON.stringify({...a,...s})),$("property-details").attr("isLogged",!0)),$("#huser_id").val(a.user_id).trigger("change"),$("#search_password").val(""),$(".favoritesCount").html(a.favorites?a.favorites:"0"),$(".savedSearchesCount").html(a.saved_searches?a.saved_searches:"0"),afterAuth(s.fname,s.lname,s.email,a.agent||null,a.extra_data||{}),insertUserActivity("user_logged_in"),$("#haction").length&&""!=$("#haction").val()?"pdetails-save-favorite"==$("#haction").val()?($("#haction").val(""),saveFavorite($("#hmls_id").val()+"_"+$("#hmls_num").val(),$("#hmls_num").val(),$("#hblossorid").val(),$("#hprice").val())):doAction():$("#h_action").length&&""!=$("#h_action").val()?doAction():-1!==window.location.href.indexOf("/homes-for-sale/")&&$("#hpropertyid").length>0&&-1===window.location.href.indexOf("/homes-for-sale/comparables")?($("#favLink").attr("onclick",'saveFavorite("'+$("#hmls_id").val()+"_"+$("#hmls_num").val()+'","'+$("#hmls_num").val()+'")'),favoritesPropertyDetails()):-1!==window.location.href.indexOf("/homes-for-sale/")&&-1===window.location.href.indexOf("/homes-for-sale/comparables")&&signupMonthly(),"facebook"!=e&&"gmail"!=e||(a.new_user||void 0!==a.phone&&!a.phone)&&($("#confirm_phone").mask("(999) 999-9999"),$("#phone-confirm-modal").modal({backdrop:"static",keyboard:!1}))}else $("#loginErrorMessage").length?($("#loginErrorMessage").text(a.msg),$("#loginErrorMessage").css({display:"block"}),setTimeout((function(){$("#loginErrorMessage").css({display:"none"})}),1e4)):alert(a.msg);"facebook"==e&&($("#signupForm input, #signin input").removeAttr("disabled"),$(".frc-btn-facebook").removeAttr("disabled"),$(".frc-btn-facebook div span").text("Continue with Facebook"))}))}function favoritesPropertyDetails(){if($("#bluecombo_url").val()){var e=$("#hmls_num").val();$.ajax({url:"/pages/get_favorites.php",method:"POST",dataType:"json"}).done((function(t){for(var a=0;a<t.favorites.length;a++)e==t.favorites[a].mls_num&&($("#favIcon").removeClass("fa-heart-o"),$("#favIcon").addClass("fa-heart"),$("#favIcon").addClass("savedProperty"))}))}}function propertyDetailsTopBar(e){var t=0,a=0,i="",o="";if(e.logged)t=e.user_id,e.uuid&&(a=e.uuid),e.lead_data.first_name&&(i=e.lead_data.first_name),e.lead_data.last_name&&(o=e.lead_data.last_name),$("#favLink").attr("onclick","saveFavorite('"+$("#hmls_id").val()+"_"+$("#hmls_num").val()+"','"+$("#hmls_num").val()+"')"),e.hasOwnProperty("lead_data")&&($("#name").val(e.lead_data.first_name+" "+e.lead_data.last_name),$("#email").val(e.lead_data.email),$("#schedule_phone").val(e.lead_data.phone),$("#contact_agent_name").val(e.lead_data.first_name+" "+e.lead_data.last_name),$("#contact_agent_email").val(e.lead_data.email),$("#contact_agent_phone").val(e.lead_data.phone),$("#contact_agent_full_name").val(e.lead_data.first_name+" "+e.lead_data.last_name),$("#contact_agent_email_address").val(e.lead_data.email),$("#contact_agent_phone_number").val(e.lead_data.phone)),favoritesPropertyDetails();else{var n=$("#hforced_registration").val();if(n>-1&&-1===window.location.href.indexOf("ignore-forced-registration=true")&&window.location.href.indexOf("/combined")<8&&window.location.href.indexOf("/social")<8&&window.location.href.indexOf("/share")<8&&window.location.href.indexOf("/open")<8&&window.location.href.indexOf("/light")<8&&window.location.href.indexOf("/virtual")<8&&window.location.href.indexOf("/full")<8&&window.location.href.indexOf("/landing")<8){var r=readCookie("forcedRegistrationTries");createCookie("forcedRegistrationTries",r?parseInt(r)+1:1,90),(r=parseInt(readCookie("forcedRegistrationTries")))>n&&($("#signupCancelBtn").hide(),$("#sign-up-modal").modal({backdrop:"static",keyboard:!1}),$("#is_forced_registration").val("1"))}}if($("#hblossorid").val()){var s={address:$("#hstreet_address").val(),photo_url:$("#hmain_photo").val(),type:"property_view",uuid:a,lead_id:t,blossor_id:$("#hblossorid").val(),price:$("#hprice").val(),url:window.location.href,property_id:$("#hpropertyid").val(),beds:$("#hbeds").val(),baths:$("#hbaths").val(),sqft:$("#hsqfeet").val(),city:$("#hcity").val(),zip:$("#hzip").val(),state:$("#hstate").val(),neighborhood:$("#hneighborhood").val()};""!=i&&(s.first_name=i),""!=o&&(s.last_name=o),$.ajax({url:"/pages/analytics.php",data:s,dataType:"json"}).done((function(e){trackSiteVisit()}))}}function loadSavedSearches(){$("#user_data").html('<img src="https://cdn1.brivityidx.com/assets/images/spinner.gif" alt="loading">'),$.ajax({url:"/pages/get_saved_searches.php?return_type=html",dataType:"json"}).done((function(e){if($("#saved-searches-loading").hide(),$("#saved-searches-container").show(),1==e.status)if(""==e.searches)e.searches="<h5>Click on the 'Save Search' button to save your search and begin receiving listing alerts.</h5>",$("#user_data").html(e.searches);else{$("#user_data").html('<div class="savedsearch-slick"></div>'),slickSettings(".savedsearch-slick");for(var t=e.searches.split("<div id="),a=0;a<=t.length-1;a++)""!=t[a]&&(t[a]=t[a].replace("deleteSavedSearch(","deleteSavedSearch("+(a-1)+","),$(".savedsearch-slick").slick("slickAdd","<div id="+t[a]))}}))}function deleteSavedSearch(e,t){$.ajax({url:"/pages/delete_saved_search.php?search_id="+t,dataType:"json"}).done((function(a){if(1==a.status){$(".savedsearch-slick").slick("slickRemove",e);var i=parseInt($(".savedSearchesCount").html());$(".savedSearchesCount").html(i-1),insertUserActivity("search_save_removed",null,{search_id:t})}else alert(a.msg)}))}function runSavedSearch(e){window.location.href.indexOf("/search")>7?(console.log($("#ss_data_"+e).val()),$(".save_search_link").trigger("click"),setUIFromHash($("#ss_data_"+e).val()),doFullSearch(!1,!0,1)):window.location="/search"+$("#ss_data_"+e).val()}function saveSearch(e,t){var a={},i=!0;if(window.location.href.indexOf("/search")<8){if(i=!1,""==$("#huser_id").val())return void console.log("not logged in");var o=$("#hcity").val()+", "+$("#hstate").val(),n="";if(void 0!==e)n="&price="+e.min+":"+e.max,e.min,e.max;else if($("#hsale_price").val()){var r=parseInt($("#hsale_price").val());n="&price="+.8*r+":"+1.2*r}a={hash:"newsearchhash#?q_limit=36&mlsId="+$("#hmls_id").val()+"&multi_search="+o+"&multi_cat=CityState&q_sort=createdAt-&q_offset=0"+n,multi_search:$("#hmulti_search").val(),mlsid:$("#hmls_id").val(),prefix:"none",searchName:o,multi_search:o,queue_request:!0}}else{var s=$("#ss-name").val(),l=$("#frequency").val();""==$("#ss-name").val()&&(i=!1,""!=$("#hmulti_search").val()?(s=$("#hmulti_search").val(),$("#min_price").val()>0&&$("#max_price").val()>0?s+=" $"+$("#min_price").val()+" - $"+$("#max_price").val():$("#min_price").val()>0?s+=" $"+$("#min_price").val():$("#max_price").val()>0&&(s+=" $"+$("#max_price").val())):s="Your Home Search");"Address"!=$("#hmulti_cat").val()&&"mlsNum"!=$("#hmulti_cat").val()||-1!==window.location.hash.indexOf("q_photos_available")||"&q_photos_available=false";const e=$("#mls_list").val().split("|"),t=[];e.forEach((e=>{t.push(Number(e))}));let o=[],n=[],r=[],d=[],u=[],h=[],p=[],m=[],f=[],g=[],v="";const _=$("#hpropertyType").val().split("|").map((e=>e.trim())),y=$("#hmulti_search").val().split("|").map((e=>e.trim()));$("#hmulti_cat").val().split("|").map((e=>e.trim())).forEach(((e,t)=>{if("CityState"===e){const e=y[t].split(",").map((e=>e.trim()));o.push({city:e[0],state:e[1]})}if("Address"===e&&(v||(v=y[t])),"Zip"===e&&r.push(y[t]),"NeighborhoodCityState"===e){const e=y[t].split(",").map((e=>e.trim()));d.push({neighborhood:e[0],city:e[1],state:e[2]})}if("High School"===e&&p.push(y[t]),"Middle School"===e&&h.push(y[t]),"Elementary School"===e&&u.push(y[t]),"CountyState"===e){const e=y[t].split(",").map((e=>e.trim()));n.push({county:e[0],state:e[1]})}"School District"===e&&m.push(y[t]),"MLS"===e&&f.push(y[t]),"Area"===e&&g.push(y[t])}));var c=a={mlsIds:t,source:"idx",frequency:l,searchName:s,leadId:localStorage.getItem("uuid"),activeForEmails:!0,activeForAppNotifications:!0,bathsMin:$("#min_bathrooms").val()>0?Number($("#min_bathrooms").val()):null,bathsMax:$("#max_bathrooms").val()>0?Number($("#max_bathrooms").val()):null,bedsMin:$("#min_bedrooms").val()>0?Number($("#min_bedrooms").val()):null,bedsMax:$("#max_bedrooms").val()>0?Number($("#max_bedrooms").val()):null,sqFtMin:$("#min_sqt").val()>0?Number($("#min_sqt").val()):null,sqFtMax:$("#max_sqt").val()>0?Number($("#max_sqt").val()):null,priceMin:$("#min_price").val()>0?Number($("#min_price").val()):null,priceMax:$("#max_price").val()>0?Number($("#max_price").val()):null,yearMin:$("#min_year").val()>0?Number($("#min_year").val()):null,yearMax:$("#max_year").val()>0?Number($("#max_year").val()):null,garageMin:$("#min_garage").val()>0?Number($("#min_garage").val()):null,lotSizeMin:$("#min_lot").val()>0?Number($("#min_lot").val()):null,lotSizeMax:$("#max_lot").val()>0?Number($("#max_lot").val()):null,streetAddress:v||null,schoolDistricts:m.length>0?m:null,elementarySchools:u.length>0?u:null,middleSchools:h.length>0?h:null,highSchools:p.length>0?p:null,cityStates:o.length>0?o:null,countyStates:n.length>0?n:null,postalCodes:r.length>0?r:null,neighborhoodCityStates:d.length>0?d:null,mlsNums:f.length>0?f:null,mlsAreas:g.length>0?g:null,propertyTypes:""!==_[0]?_:null}}if(""!=$("#hmulti_cat").val()&&"no_cat"!=$("#hmulti_cat").val()||window.location.hash.indexOf("polygon")>0){if(!checkIfTokenExpired())return void $("#sign-up-modal").modal("show");const e=localStorage.getItem("authorization");"undefined"!=typeof saveSearchModal&&saveSearchModal.toggleLoading(!0),fetch("https://brivity-home-middleware.production.brivity.com/listingAlerts/alert",{method:"POST",cache:"no-cache",headers:{Authorization:e,"Content-Type":"application/json"},referrerPolicy:"no-referrer",body:JSON.stringify(a)}).then((e=>e.json())).then((e=>{if(e.alertId){$("#my-account").is(":visible")&&$("#my-account").hasClass("search-active")&&loadSavedSearches(),getSavedSearches(),i&&(toast&&toast.show("Search Saved."),toast||alert("Search Saved."),$("#ss-name").val(""),"undefined"!=typeof saveSearchModal?(saveSearchModal.hide(),saveSearchModal.toggleLoading(!1)):$("#create-ss").collapse("hide"));var t=parseInt($(".savedSearchesCount").html());$(".savedSearchesCount").html(t+1),insertUserActivity("search_save_added",null,c)}else toast&&toast.show("There was an issue saving this search. Please try again later.",!0),toast||alert("There was an issue saving this search. Please try again later.")}))}}function getSavedSearches(){$.ajax({url:"/pages/get_saved_searches.php",dataType:"json"}).done((function(e){1==e.status&&e.searches&&e.searches.mysearches&&(savedSearchesList=parseSavedSearches(e.searches.mysearches,!0))}))}function getRecommendedSearches(){$.ajax({url:"/pages/get_recommended_searches.php",dataType:"json"}).done((function(e){e&&e.searches&&e.searches.length&&(recommendedSearchesList=e.searches.map((function(e){return{label:e.search_name,value:e.search_name,url:e.search_url,category:"Popular Searches"}})))}))}function parseSavedSearches(e,t){if(e.length){var a=[];return $.each(e,(function(i){var o=this.search_name||"",n="";parseInt(this.bedrooms)&&(n+=(n?", ":"")+this.bedrooms+"+ beds"),parseInt(this.bathrooms)&&(n+=(n?", ":"")+parseInt(this.bathrooms)+"+ baths"),parseInt(this.max_price)&&parseInt(this.min_price)?n+=(n?", ":"")+formatPriceForList(this.min_price)+"-"+formatPriceForList(this.max_price):parseInt(this.max_price)?n+=(n?", ":"")+" <"+formatPriceForList(this.max_price):parseInt(this.min_price)&&(n+=(n?", ":"")+" >"+formatPriceForList(this.min_price)),o=o+((n||this.multi_search)&&t?": ":"")+this.multi_search+(this.multi_search&&n?" - ":"")+n,a.push({category:t?"Saved Searches":"",label:o,searchObj:this,previous_search:!t}),console.log("hello",e)})),a}}function formatPriceForList(e){return e<1e6&&e>0?"$"+(e=Math.floor(e/1e3))+"K":"$"+(e/=1e6).toFixed(2)+"M"}function slickSettings(e){$(e).slick({slidesToShow:3,slidesToScroll:3,dots:!0,responsive:[{breakpoint:478,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:1024,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:1280,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:1360,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:1400,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:1600,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:1680,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:1920,settings:{slidesToShow:5,slidesToScroll:5}},{breakpoint:2048,settings:{slidesToShow:5,slidesToScroll:5}},{breakpoint:2560,settings:{slidesToShow:6,slidesToScroll:6}}]})}function afterAuth(e,t,a,i,o){if($("#not-logged-in").hide(),$("#logged-in").show(),$("#huser_email").val(a),$("#huser_first_name").val(e),$("#huser_last_name").val(t),$(".topBarProfile .profileName").text("Hi "+e||"!"),i&&i.agent_phone?($(".topBarAgentPhoneLabel span").text(i.agent_phone).show(),$(".topBarAgentPhoneLabel").show(),$(".topBarAgentPhoneLabel").attr("href","tel:"+i.agent_phone.replace(/[^0-9.]/g,""))):$(".topBarAgentPhoneLabel").hide(),o&&o.image_url&&-1!=o.image_url.search("http")&&$("#site-registration-bar .topBarPic").attr("style",'background-image: url("'+o.image_url+'");'),$(".login-ss").hide(),$(".create-ss").show(),$("#sign-up-modal").modal?$("#sign-up-modal").modal("hide"):document.getElementById("signupCancelBtn").click(),-1!==window.location.href.indexOf("/homes-for-sale/")&&$("#hpropertyid").length>0&&-1===window.location.href.indexOf("/homes-for-sale/comparables")&&($("#listing_alert_sendbtn").show(),$("#listing_alert_signup_sendbtn").hide(),$("#favLink").attr("onclick","openSignup()"),$("#favIcon").addClass("fa-heart-o"),$("#favIcon").removeClass("fa-heart"),$("#name").val(e+" "+t),$("#email").val(a),$("#contact_agent_name").val(e+" "+t),$("#contact_agent_email").val(a),$("#contact_agent_full_name").val(e+" "+t),$("#contact_agent_email_address").val(a)),-1!==window.location.href.indexOf("/homes-for-sale/comparables")){$("#findOutBtn").attr("data-target","#modal_subject_home"),"button"===$("#modal_subject_home").attr("caller")&&setTimeout((function(){$("#modal_subject_home").modal("show"),$("#modal_subject_home").removeAttr("caller")}),500),(r=(r=readCookie("searchAddressCache"))&&JSON.parse(r)||[])&&r.length&&(setPartialLead&&setPartialLead(r),eraseCookie("searchAddressCache"));var n=readCookie("homeValueNotificationData");(n=n&&JSON.parse(n)||{})&&n.address&&(homeValueNotification&&homeValueNotification(n),eraseCookie("homeValueNotificationData"))}else{var r;if("modal_subject_home"===$("#sign-up-modal").attr("callback-modal"))setTimeout((function(){$("#modal_subject_home").modal("show"),$("#sign-up-modal").removeAttr("callback-modal")}),500),(r=(r=readCookie("searchAddressCache"))&&JSON.parse(r)||[])&&r.length&&(setPartialLead&&setPartialLead(r),eraseCookie("searchAddressCache"))}$("#haction").val()&&"saveSearch-0"==$("#haction").val()&&($("#sv2-multi-search .range-end button.create-ss").trigger("click"),$("#haction").val(""))}function swapIcons(e,t){switch(e){case"save_search_link":$(".favorites_link").find("img").attr("src","https://cdn1.brivityidx.com/assets/images/icon/heart-w.svg"),t.attr("src","https://cdn1.brivityidx.com/assets/images/icon/search-w.svg"==t.attr("src")?"https://cdn1.brivityidx.com/assets/images/icon/x-circle-w.svg":"https://cdn1.brivityidx.com/assets/images/icon/search-w.svg");break;case"favorites_link":$(".save_search_link").find("img").attr("src","https://cdn1.brivityidx.com/assets/images/icon/search-w.svg"),t.attr("src","https://cdn1.brivityidx.com/assets/images/icon/heart-w.svg"==t.attr("src")?"https://cdn1.brivityidx.com/assets/images/icon/x-circle-w.svg":"https://cdn1.brivityidx.com/assets/images/icon/heart-w.svg")}}function saveFavorite(e,t,a,i,o,n,r,s,l,c,d,u,h,p,m,f,g,v,_,y){null==a?saveFavoritePdetails(e,t,f,g,v,_):saveFavoriteTopAndSearch(e,t,a,i,o,n,r,s,l,c,d,u,h,p,m,f,g,v,_,y)}function saveFavoritePdetails(e,t,a,i,o,n){var r={price:$("#hprice").val(),address:$("#hstreet_address").val(),photo_url:$("#hmain_photo").val(),lth:e,mls_num:t,blossor_id:$("#hblossorid").val(),url:window.location.href,beds:$("#hbeds").val(),baths:$("#hbaths").val(),sqft:$("#hsqfeet").val(),city:$("#hcity").val(),zip:$("#hzip").val(),state:$("#hstate").val(),neighborhood:$("#hneighborhood").val(),property_url:a,property_type:i,acreage:o,sqFeet:n};if(""!=$("#huser_first_name").val()&&(r.first_name=$("#huser_first_name").val()),""!=$("#huser_last_name").val()&&(r.last_name=$("#huser_last_name").val()),$("#add-prop-fav").hasClass("savedProperty"))$.ajax({url:"/pages/delete_favorites.php",data:r,dataType:"json"}).done((function(e){if(e.status){var t=parseInt($(".favoritesCount").html());$(".favoritesCount").html(t-1),$("#add-prop-fav").removeClass("savedProperty"),$("#add-prop-fav > svg").attr("fill","none"),insertUserActivity("favorite_property_removed_details",$("#hpropertyid").val())}}));else{$.ajax({url:"/pages/add_favorites.php",data:r,dataType:"json"}).done((function(e){if(e.status){var t=parseInt($(".favoritesCount").html());$(".favoritesCount").html(t+1),$("#add-prop-fav").addClass("savedProperty"),$("#add-prop-fav > svg").attr("fill","#E62117"),insertUserActivity("favorite_property_added_details",$("#hpropertyid").val())}})),new FbRealEstatePixelTracker({eventType:"InitiateCheckout",content_ids:[r.blossor_id?r.blossor_id:""]}).fireEvent()}}function saveFavoriteTopAndSearch(e,t,a,i,o,n,r,s,l,c,d,u,h,p,m,f,g,v,_,y){var b="."+e;t&&(b+="_m");var w={price:o,address:n,photo_url:p,lth:e,mls_num:a,blossor_id:i,url:window.location.href,beds:u,baths:d,sqft:h,city:r,zip:l,state:s,neighborhood:c,property_url:f,property_type:g,acreage:v,sqFeet:_};if(""!=$("#huser_first_name").val()&&(w.first_name=$("#huser_first_name").val()),""!=$("#huser_last_name").val()&&(w.last_name=$("#huser_last_name").val()),$(b).hasClass("savedProperty"))$.ajax({url:"/pages/delete_favorites.php",data:w,dataType:"json"}).done((function(i){if(i.status){null!=$("#hmls_num").val()&&a===$("#hmls_num").val()&&($("#add-prop-fav > svg").attr("fill","none"),$("#add-prop-fav").removeClass("savedProperty"));var o=parseInt($(".favoritesCount").html());if($(".favoritesCount").html(o-1),t&&$(b).css("opacity",.5),$(".favoriteBtn"+e).removeClass("save-property-active"),$(".favoriteBtn"+e+"> i").removeClass("save-property-active"),$(".favoriteBtn"+e).addClass("save-property"),$(".favoriteBtn"+e+" > i").removeClass("fa-heart"),$(".favoriteBtn"+e+" > i").addClass("fa-heart-o"),$(b).removeClass("savedProperty"),t&&($("."+e).removeClass("savedProperty"),$("#fav_"+e).remove()),$("#hfavorites").length)for(var n=$("#hfavorites").val().split(","),r="",s=0;s<n.length;s++)n[s]!=e&&(r+=n[s]+","),$("#hfavorites").val(r.substr(0,r.length-1));else $("#favIcon").removeClass("fa-heart"),$("#favIcon").removeClass("savedProperty"),$("#favIcon").addClass("fa-heart-o");insertUserActivity("favorite_property_removed",$("."+e+" .listing-image").attr("id"))}else alert(i.msg)}));else if(y){if(!checkIfTokenExpired())return void $("#sign-up-modal").modal("show");const k={blossor_id:i,image:[{id:0,uri:p}],price:o,address:n,city:r,state:s,postal_code:l,beds:u,baths:d,sqft:h};if($("#property-info").val(JSON.stringify(k)),$(`.${i} > i`).hasClass("fa-heart")){const C=JSON.parse($("#collection-info").val()),S=document.querySelector("place-removecollectionpopup");async function x(e){const t=await collectionsService.checkIfInCollection(e);$("#collection-info").val(JSON.stringify(t.data));for(const e in t.data)t.data[e]&&($(`.${e} > i`).addClass("fa-heart"),$(`.${e} > i`).removeClass("fa-heart-o"))}for(const T in C)T===i&&(1===C[T].length&&collectionsService?collectionsService.removePropertyFromCollection(C[T][0].collectionUUID,C[T][0].propertyUUID).then((e=>{let t=document.querySelector("place-copycollectionmodal"),a=JSON.parse(t.getAttribute("collections")),o=e.data.collectionUUID;collectionsService.getCollectionProperties(o,1,1).then((e=>{let i=a.findIndex((e=>e.id==o)),n=a[i];n.propertiesImages=[],e?.data?.properties&&n.propertiesImages.push({mainPhoto:e?.data?.properties[0]?.photos[0]?.url}),a[i]=n,t.setAttribute("collections",JSON.stringify(a))})),$(`.${i} > i`).removeClass("fa-heart"),$(`.${i} > i`).addClass("fa-heart-o"),x(JSON.parse($("#blossorID-info").val())),toast.show("Property removed from collection")})).catch((()=>{toast.show("There was an error, please try again later",!0)})):(S.setAttribute("collections",JSON.stringify(C[T])),$(".delete-property-parent").css("display","flex")))}else{if(localStorage.getItem("authorization")){$(".copy-collection-parent").css("display","flex");let L=document.querySelector("place-copycollectionmodal");L.setAttribute("style","display: flex;"),L.setAttribute("mls",JSON.stringify(k)),L.setAttribute("image_url",p)}else $("#sign-up-modal").modal("show")}}else{$.ajax({url:"/pages/add_favorites.php",data:w,dataType:"json"}).done((function(a){if(a.status){var f=parseInt($(".favoritesCount").html());if($(".favoritesCount").html(f+1),t&&$(b).css("opacity",1),$(".favoriteBtn"+e).addClass("save-property-active"),$(".favoriteBtn"+e).removeClass("save-property"),$(".favoriteBtn"+e+" > i").removeClass("fa-heart-o"),$(".favoriteBtn"+e+" > i").addClass("fa-heart"),$(b).addClass("savedProperty"),t&&$("."+e).addClass("savedProperty"),""==$("#hfavorites").val())$("#hfavorites").val(e);else{var g=$("#hfavorites").val();$("#hfavorites").val(g+","+e)}var v=$("."+e+" .listing-image").attr("id");addAnalytics(n,p,i,o,m,u,d,h,r,l,s,c),insertUserActivity("favorite_property_added",v)}else"Not authenticated, please login again."===a.msg?($("#haction").val("addFavorite|"+e+"|"+i+"|"+o+"|"+n+"|"+r+"|"+s+"|"+l+"|"+c+"|"+d+"|"+u+"|"+h+"|"+p+"|"+m),$("#sign-up-modal").modal("show")):alert(a.msg)})),new FbRealEstatePixelTracker({eventType:"InitiateCheckout",content_ids:[i||""]}).fireEvent()}}function getRecoveryToken(e){askingToken||($("#asking_password").val(""),askingToken=!0,$("#get-email-token").prop("disabled",!0),$("#get-email-token").text("Sending..."),$.ajax({url:"/pages/get_recovery_token.php",data:{user_email:e,origin:window.location.origin},method:"GET",dataType:"json"}).done((function(e){$("#get-email-token").text("SEND ME AN EMAIL"),e.error?alert(e.error.message):($("body").trigger("sayThanks","Your recovery email has been sent"),$("#asking_password").val(""),$("#asking-password-modal").modal("hide")),askingToken=!1,$("#get-email-token").prop("disabled",!1),$("#get-email-token").text("Send me an email")})))}function changePasswordWithToken(e){changingPassword||(e.password!=e.password_confirmation||e.password.length<6?(alert("passwords must be at least six characters and match the confirmation"),$("#changePassword").text("CHANGE PASSWORD")):(changingPassword=!0,$("#user_npassword").val(""),$("#user_npassword_c").val(""),$.ajax({url:"/pages/recovery_password.php",data:{user_token:e.user_token,password:e.password,password_confirmation:e.password_confirmation},method:"POST",dataType:"json"}).done((function(e){changingPassword=!1,$("#changePassword").text("CHANGE PASSWORD"),e.error?(alert(e.error.message),$("#pwchange-error").removeClass("hide"),setTimeout((function(){$("#pwchange-error").addClass("hide")}),2500)):($("#pwchange-success").removeClass("hide"),setTimeout((function(){$("#go-to-login").click(),$("#pwchange-success").addClass("hide")}),2e3))}))))}function getTokenValue(){var e=void 0,t=window.location.hash;return t.replace("#",""),t.split("&").forEach((function(t){t.indexOf("reset_pw_token")>-1&&(e=t.split("=")[1])})),e}function attachGoogleSignin(e){gapi.auth2.getAuthInstance().attachClickHandler(e,{},(function(e){console.log("---\x3e ",e.getBasicProfile().getName()),onSignIn(e)}),(function(e){console.log("---\x3e ",e)}))}function addGmailBtn(){for(var e=$(".google-signin-btn"),t=0;t<e.length;t++)attachGoogleSignin(e[t])}function facebookLoginAvaible(){return null!=$('meta[property="fb:app_id"]').attr("content")}function googleLoginAvaible(){return null!=$('meta[name="google-signin-client_id"]').attr("content")}function setGoogleButtons(){try{gapi.load("auth2",(function(){auth2=gapi.auth2.init({client_id:$("meta[name=google-signin-client_id]").attr("content"),cookiepolicy:"single_host_origin"}),addGmailBtn()}))}catch(e){}}function toCamelCase(e){return e.replace(/\b\w/g,(function(e){return e.toUpperCase()}))}function cleanDynamicTitle(e){return decodeURIComponent(e).replace(/%20/g," ").replace(/\+/g," ")}function forceRegistrationHandler(){$(".frl-company-logo").addClass("hide"),$("#frl-pnumber").mask("(999) 999-9999"),$("#frsd-pnumber").mask("(999) 999-9999"),$("#frf-pnumber").mask("(999) 999-9999"),$("#frc-pnumber").mask("(999) 999-9999"),$("#frse-pnumber").mask("(999) 999-9999"),$("#frv-schedule_phone").mask("(999) 999-9999");var e=!1;if(("facebook"==getUrlParam("share")||window.location.href.indexOf("share=facebook")>-1)&&""==$("#huser_id").val()&&(e=!0),window.location.href.indexOf("&keyword=")>-1&&$(".seo-dynamic-title").text(cleanDynamicTitle(getQueryParamByName("keyword"))),window.location.href.indexOf("&ssa=")>-1){"0"===getQueryParamByName("ssa")&&($(".mfr_streetAddress").hide(),$(".mfr_cityStateZip").replaceWith((function(){return"<h2>"+$(this).html()+"</h2>"})))}window.location.href.indexOf("&tags=")>-1&&$("#frg-h-tags").val(decodeURIComponent(getQueryParamByName("tags"))),window.location.href.indexOf("/share")>7&&$("#force-share-link").length>0&&($("#force-share-link").modal("show"),buildLinkForceRegistration(),$("#frg-source").on("change",buildLinkForceRegistration),$("#frg-registration").on("change",buildLinkForceRegistration),$("#fsl-btn-build").on("click",buildLinkForceRegistration),$("#page").addClass("blur-modal"),$("#force-share-link").on("hide.bs.modal",(function(e){$("#page").removeClass("blur-modal")})),forceRegistrationAdjustment("force-share-link"),$("#frg-adwords, #frg-tags, #frg-show-street-address").on("change",buildLinkForceRegistration)),window.location.href.indexOf("/light?")>7&&$("#force-light-registration").length>0&&watchUserLoged((function(){$("#frl-form-registration").on("submit",(function(e){e.preventDefault();let t=$(this).find('input[name="age_required"]');if(t.length>0&&""!==t.val())return!1;sendForceRegistration("frl","force-light-registration")})),$("#force-light-registration").on("show.bs.modal",(function(e){_isPropertyDetails3()?$("#page").addClass("blur-modal"):$("#temp-container").addClass("blur-modal"),forceRegistrationAdjustment("force-light-registration")})),$("#force-light-registration").on("hide.bs.modal",(function(e){_isPropertyDetails3()?$("#page").removeClass("blur-modal"):$("#temp-container").removeClass("blur-modal")})),$("#force-light-registration").modal("show")})),window.location.href.indexOf("/virtual?")>7&&$("#force-virtual-registration").length>0&&watchUserLoged((function(){$("#force-virtual-registration").on("show.bs.modal",(function(e){_isPropertyDetails3()?$("#page").addClass("blur-modal"):$("#temp-container").addClass("blur-modal"),forceRegistrationAdjustment("force-virtual-registration")})),$("#force-virtual-registration").on("hide.bs.modal",(function(e){_isPropertyDetails3()?$("#page").removeClass("blur-modal"):$("#temp-container").removeClass("blur-modal")})),$("#force-virtual-registration").modal("show")})),window.location.href.indexOf("/sold?")>7&&$("#force-sold-registration").length>0&&($("#force-sold-registration").on("shown.bs.modal",(function(){$("#sign-up-modal").modal("hide")})),watchUserLoged((function(){$("#frsd-form-registration").on("submit",(function(e){e.preventDefault();let t=$(this).find('input[name="age_required"]');if(t.length>0&&""!==t.val())return!1;sendForceRegistration("frsd","force-sold-registration")})),$("#force-sold-registration").on("show.bs.modal",(function(e){$("#temp-container").addClass("blur-modal")})),$("#force-sold-registration").on("hide.bs.modal",(function(e){_isPropertyDetails3()||$("#temp-container").addClass("blur-modal")})),$("#force-sold-registration").modal("show"),initialize_modal_sold()}))),window.location.href.indexOf("/full?")>7&&$("#force-full-registration").length>0&&watchUserLoged((function(){$("#frf-form-registration").on("submit",(function(e){e.preventDefault();let t=$(this).find('input[name="age_required"]');if(t.length>0&&""!==t.val())return!1;sendForceRegistration("frf","force-full-registration")})),$("#force-full-registration").on("show.bs.modal",(function(e){$(_isPropertyDetails3()?"#page":"#temp-container").addClass("blur-modal"),forceRegistrationAdjustment("force-full-registration")})),$("#force-full-registration").on("hide.bs.modal",(function(e){$(_isPropertyDetails3()?"#page":"#temp-container").removeClass("blur-modal")})),$("#force-full-registration").modal("show")})),window.location.href.indexOf("/combined?")>7&&$("#force-combine-registration").length>0&&watchUserLoged((function(){if(e){var t=$("#force-combine-registration .frc-btn-facebook").html();t=t.replace("Continue with Facebook","Confirm Your Registration"),$("#force-combine-registration .frc-btn-facebook").html(t)}$("#frc-form-registration").on("submit",(function(e){e.preventDefault();let t=$(this).find('input[name="age_required"]');if(t.length>0&&""!==t.val())return!1;sendForceRegistration("frc","force-combine-registration")})),$("#force-combine-registration").on("show.bs.modal",(function(e){$("#temp-container").addClass("blur-modal"),forceRegistrationAdjustment("force-combine-registration")})),$("#force-combine-registration").on("hide.bs.modal",(function(e){$("#temp-container").removeClass("blur-modal")})),$("#force-combine-registration").modal("show")}),(function(){if($("#force-combine-registration").modal("hide"),e){var t=$("#force-combine-registration .frc-btn-facebook").html();t=t.replace("Confirm Your Registration","Continue with Facebook"),$("#force-combine-registration .frc-btn-facebook").html(t)}})),window.location.href.indexOf("/social?")>7&&$("#force-social-registration").length>0&&watchUserLoged((function(){if(e){var t=$("#force-social-registration .frc-btn-facebook").html();t=t.replace("Continue with Facebook","Confirm Your Registration"),$("#force-social-registration .frc-btn-facebook").html(t)}$("#force-social-registration").on("show.bs.modal",(function(e){$("#temp-container").addClass("blur-modal"),forceRegistrationAdjustment("force-social-registration")})),$("#force-social-registration").on("hide.bs.modal",(function(e){$("#temp-container").removeClass("blur-modal")})),$("#force-social-registration").modal("show")}),(function(){if($("#force-social-registration").modal("hide"),e){var t=$("#force-social-registration .frc-btn-facebook").html();t=t.replace("Confirm Your Registration","Continue with Facebook"),$("#force-social-registration .frc-btn-facebook").html(t)}})),window.location.href.indexOf("/combined?")>7&&$("#force-search-registration").length>0&&watchUserLoged((function(){if(e){var t=$("#force-search-registration > div.modal-dialog > div > div > button.btn.frc-btn-facebook").html();t&&(t=t.replace("Continue with Facebook","Confirm Your Registration"),$("#force-search-registration > div.modal-dialog > div > div > button.btn.frc-btn-facebook").html(t))}$("#frse-form-registration").on("submit",(function(e){e.preventDefault();let t=$(this).find('input[name="age_required"]');if(t.length>0&&""!==t.val())return!1;sendForceRegistration("frse","force-search-registration")})),$("#force-search-registration").on("show.bs.modal",(function(e){$("#temp-container").addClass("blur-modal"),forceRegistrationAdjustment("force-search-registration")})),$("#force-search-registration").on("hide.bs.modal",(function(e){$("#temp-container").removeClass("blur-modal")})),$("#force-search-registration").modal("show")}),(function(){if($("#force-search-registration").modal("hide"),e){var t=$("#force-search-registration .frc-btn-facebook").html();t=t.replace("Continue with Facebook","Confirm Your Registration"),$("#force-search-registration .frc-btn-facebook").html(t)}}))}function forceRegistrationAdjustment(e){var t=document.documentElement.clientWidth,a=void 0;setTimeout((function(){var i=$("#"+e+" > div.modal-backdrop.fade.in").height();a=t>750?.7*i:80,$("#"+e+" > div.modal-dialog").css({top:a+"px !important"}),$("#"+e+" > div.modal-backdrop.fade.in").css({height:$("#"+e+" > div.modal-backdrop.fade.in").height()+i+"px"})}),1e3)}function sendForceRegistration(e,t){$(".forced-registration-btn").prop("disabled",!0);var a=$(".forced-registration-btn").html();if($(".forced-registration-btn").html("Saving..."),"force-sold-registration"===t){if(!$("#zipcode").val())return void alert("Please, select a valid address.");window.location.href="/homevalue?search_address="+$("#address").val()+"&address_auto="+$("#address_auto").val()+"&street="+$("#street").val()+"&city="+$("#city").val()+"&state="+$("#state").val()+"&zipcode="+$("#zipcode").val()+"&latitude="+$("#CmaLatitude").val()+"&longitude="+$("#CmaLongitude").val()}var i=$("#"+e+"-fname").val(),o=$("#"+e+"-lname").val(),n=$("#"+e+"-email").val(),r=$("#"+e+"-pnumber").val(),s=($("#frg-h-tags").val()||"").trim(),l=($("#hlead_intent").val()||"buyer").trim(),c="",d="";if("force-light-registration"==t||"force-virtual-registration"==t||"force-combine-registration"==t||"force-full-registration"==t||"force-sold-registration"==t||"force-search-registration"==t){d=$("#"+e+"-h_robot_field").val();c=r.replace(/[^A-Z0-9]/gi,"");var u=i.split(" ");if(u.length>1){var h=[];u.forEach((function(e){""!=e&&h.push(e)})),o=h.pop(),i=h.join(" ")}else if(""===o)return alert("Please enter your First and Last Name"),$(".forced-registration-btn").prop("disabled",!1),void $(".forced-registration-btn").html(a)}else o=$("#"+e+"-lname").val(),c=$("#"+e+"-pass").val();var p={referrer:getQueryParamByName("share")};if("force-full-registration"==t){var m=parseInt($("#frg-price-min").val().trim().replace(/[^0-9.]/g,"")),f=parseInt($("#frf-price-max").val().trim().replace(/[^0-9.]/g,"")),g=$("#frg-buy").val(),v="yes"==$("input[name=frf-buyer]:checked").val()?"Yes":"No",_=m||f?m&&f?formatPriceUserFriendly(m)+" - "+formatPriceUserFriendly(f):m&&!f?formatPriceUserFriendly(m)+"+":"< "+formatPriceUserFriendly(f):"Any";p.first_time_home_buyer=v,p.price_range=_,p.planning_to_buy=g}"force-sold-registration"==t&&(p.home_address=$("#frsd-address").val().trim()||"");var y="force-search-registration"==t,b="forced_registration_"+(y?"search":"property")+"_page_"+(y?"combined":t.split("-")[1].replace("combine","combined")||"");if(y){var w="",x=parseInt($("#min_bedrooms").val().trim()),k=parseInt($("#max_bedrooms").val().trim()),C=parseInt($("#min_bathrooms").val().trim()),S=parseInt($("#max_bathrooms").val().trim()),T=parseInt($("#min_price").val().trim()),L=parseInt($("#max_price").val().trim());$("#hmulti_search").val().trim()&&(w+=$("#hmulti_search").val().trim()),(x||k)&&(w+=(w?", ":"")+(x&&k?x+"-"+k:x?x+"+":"<"+k)+" beds"),(C||S)&&(w+=(w?", ":"")+(C&&S?C+"-"+S:C?C+"+":"<"+S)+" baths"),(T||L)&&(w+=(w?", ":"")+(T&&L?formatPriceUserFriendly(T)+" - "+formatPriceUserFriendly(L):T?formatPriceUserFriendly(T)+"+":"<"+formatPriceUserFriendly(L))),w&&(p.criteria=w),p.search_url=window.location.origin+"/search"+window.location.hash}var M={site_id:0,phone:r,f_name:i,l_name:o,r_email:n,r_password:c,extra:p,h_robot_field:d,form_source_url:window.location.href,is_time_event_form:!0,time_event_type:b,lead_type:l};s&&(M.tags=s),"undefined"!=typeof grecaptcha&&grecaptcha.ready((function(){grecaptcha.execute("6LfNOsoUAAAAAKTst6hjCdK0tmeiA4GVzqBjwScC",{action:"signup_process"}).then((function(r){M.recaptchaToken=r,$.ajax({url:"/pages/signup_with_recaptcha.php",data:M,method:"POST",dataType:"json"}).done((function(r,s,l){if($(".forced-registration-btn").prop("disabled",!1),$(".forced-registration-btn").html(a),1==r.status){var c=l.getResponseHeader("Authorization");c&&localStorage.setItem("authorization",c),_isPropertyDetails3()&&($("property-details").attr("user",JSON.stringify(r)),$("property-details").attr("isLogged",!0)),signupQuestionFirst("followUp","250px"),$("body").trigger("userSignUp",""),afterAuth(i,o,n,r.agent||null,r.extra_data||{}),$("#huser_id").val(r.user_id).trigger("change"),$("#update_user_email").val(n),("force-sold-registration"!=t&&$("#hsale_price").val()&&$("#hcity").val()&&$("#hstate").val()||"force-search-registration"==t)&&saveSearch(void 0,!0),$(".favoritesCount").html("0"),$(".savedSearchesCount").html("0"),$("#signupBtn").trigger({type:"signup_success"}),-1!==window.location.href.indexOf("/homes-for-sale/")&&$("#hpropertyid").length>0&&-1===window.location.href.indexOf("/homes-for-sale/comparables")&&$("#favLink").attr("onclick",'saveFavorite("'+$("#hmls_id").val()+"_"+$("#hmls_num").val()+'","'+$("#hmls_num").val()+'")'),$("#"+t).modal("hide")}else alert(r.msg);$("#"+e+"-form-registration > button:nth-of-type(1)").removeAttr("disabled"),$("#"+e+"-form-registration > button:nth-of-type(1)").text("VIEW PHOTOS")}))}))}))}function landingModalHandler(){window.location.href.indexOf("/landing/")<0&&window.location.href.indexOf("/landing")>7&&$("#modal-landing-share-link").length>0&&(buildLinkLandingPage(),$("#modal-landing-share-link").modal("show"),$("#lsm-btn-build").on("click",buildLinkLandingPage))}function runAdsTracking(){try{fbq("track","Lead",{content_name:"idx_website",content_category:"contact"}),console.log("facebook pixel lead track...")}catch(e){console.log("no facebook pixel set...")}try{goog_report_conversion(),console.log("google ad conversion")}catch(e){console.log("no google ads conversion set...")}}function buildLinkForceRegistration(){var e=$("#view_layout"),t=$("#frg-adwords"),a=$("#frg-tags"),i=$("#frg-show-street-address"),o=encodeURI(decodeURIComponent(window.location.href.replace("/share",""))),n="share=".concat($("#frg-source").val()),r=$("#frg-registration").val(),s="";if("sold"===r)s=o.replace("homes-for-sale/","homes-for-sale/comparables/").concat("/").concat(r).concat("?").concat(n);else if(void 0===$("#hpropertyid").val()){var l="";"map_view"===e.val()||"hybrid_view"===e.val()?(l=l.concat("/search/").concat(r).concat("?").concat("view="+e.val()+"&").concat(n).concat("#"),s=o.replace("/search",l)):(l=l.concat("/search/").concat(r).concat("?").concat(n).concat("#"),s=o.indexOf("/search#")>-1?o.replace("/search#",l):o.replace("/search?",l))}else s=o.concat("/").concat(r).concat("?").concat(n);if(""!==t.val()&&(s=s.concat("&keyword="+encodeURIComponent(t.val().trim()))),""!==a.val().trim()&&(s=s.concat("&tags="+encodeURIComponent(a.val().trim()))),i.is(":checked"))s=s.concat("&ssa="+encodeURIComponent("1"));else{let e=(s=s.concat("&ssa="+encodeURIComponent("0"))).split("/");s="sold"===r?s.replace(e[8],"na"):s.replace(e[7],"na")}$("#frg-url").val(s),$("#fsl-btn-preview").attr("href",s),copyToClipboard("#frg-url")}function buildLinkLandingPage(){var e=window.location.protocol+"//"+window.location.hostname+"/landing"+window.location.pathname.replace("/landing","");$("#lsm-url").val(e),$("#lsm-btn-preview").attr("href",e),copyToClipboard("#lsm-url")}function copyToClipboard(e){$(e).select(),document.execCommand("copy")}function goToLogin(e){$("#"+e).modal("hide"),$("#sign-up-modal").on("hidden.bs.modal",(function(){""===$("#huser_id").val()&&$("#"+e).modal("show")})),$("#asking-password-modal").on("shown.bs.modal",(function(){$("#"+e).modal("hide"),$("#asking-password-modal").on("hidden.bs.modal",(function(){""!==$("#huser_id").val()||$("#sign-up-modal").is(":visible")||$("#"+e).modal("show")}))})),$("#sign-up-modal").modal("show"),$("#signupForm > a").click(),$("#change-password-modal").modal("hide")}function watchUserLoged(e,t){$("#huser_id").on("change",(function(){""===$("#huser_id").val()?e():t&&t()}))}function goToForceLight(e){$("#"+e).modal("hide"),$("#force-light-registration").modal("show"),$("#frl-form-registration").on("submit",(function(e){e.preventDefault();let t=$(this).find('input[name="age_required"]');if(t.length>0&&""!==t.val())return!1;sendForceRegistration("frl","force-light-registration")})),watchUserLoged((function(){$("#force-light-registration").modal("show"),$("#frl-form-registration").on("submit",(function(e){e.preventDefault();let t=$(this).find('input[name="age_required"]');if(t.length>0&&""!==t.val())return!1;sendForceRegistration("frl")}))}))}function initialize_modal_sold(){var e=new google.maps.LatLng(parseFloat($("#lat").val()),parseFloat($("#lng").val())),t={zoom:15,scrollwheel:!1,navigationControl:!1,mapTypeControl:!1,scaleControl:!1,draggable:!1,mapTypeId:google.maps.MapTypeId.ROADMAP,center:e};mapSold=new google.maps.Map(document.getElementById("map-canvas"),t);new google.maps.Marker({map:mapSold,position:e});setTimeout((function(){google.maps.event.trigger(mapSold,"resize"),mapSold.setCenter(e),mapSold.panBy(0,-100)}),1500),$("#address_auto").on("change",(function(){setTimeout((function(){""===$("#zipcode").val()?$("#zip-message").removeClass("hide"):$("#zip-message").addClass("hide")}),1500)})),$("#frsd-address").geocomplete({types:["geocode"]}).bind("geocode:result",(function(e,t){var a=t.geometry.location.lat(),i=t.geometry.location.lng(),o=window.location.origin+"/homes-for-sale/comparables/"+a+"/"+i;console.log(o),$("#huser_id").on("change",(function(){""!=$("#huser_id").val()&&(window.location=o)}))}))}function initForceForgotOptions(){$("#sign-up-modal").on("shown.bs.modal",(function(){if($("#sign-up-modal").data("bs.modal")&&"static"==$("#sign-up-modal").data("bs.modal").options.backdrop&&!$("#sign-up-modal").data("bs.modal").options.keyboard){$("#asking-password-modal").modal({backdrop:"static",keyboard:!1,show:!1});$("#cancel-ask-token").hide()}}))}function initForceSignupOptions(){$("#sign-up-modal").on("shown.bs.modal",(function(){$("#sign-up-modal").data("bs.modal")&&"static"==$("#sign-up-modal").data("bs.modal").options.backdrop&&!$("#sign-up-modal").data("bs.modal").options.keyboard&&$("#loginCancelBtn").hide()}))}function createCookie(e,t,a){if(a){var i=new Date;i.setTime(i.getTime()+24*a*60*60*1e3);var o="; expires="+i.toGMTString()}else o="";document.cookie=e+"="+t+o+"; path=/"}function readCookie(e){for(var t=e+"=",a=document.cookie.split(";"),i=0;i<a.length;i++){for(var o=a[i];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return null}function eraseCookie(e){createCookie(e,"",-1)}function slugify(e){return null!=e&&""!=e||(e="-"),e.toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"")}function checkUrlParam(e){return/\.(gif|jpg|jpeg|png)\?.+\=.+/gi.test(e)}function insertUserActivity(e,t,a){if(e){var i={type:e,url:window.location.href};switch(e){case"property_viewed":case"favorite_property_added":case"favorite_property_removed":i.property_id=t;break;case"favorite_property_added_details":i.type="favorite_property_added",i.property_id=t,i.property_details=!0;break;case"favorite_property_removed_details":i.type="favorite_property_removed",i.property_id=t,i.property_details=!0;break;case"search_save_added":case"search_save_removed":case"search_performed":i.search_data=a||{};break;case"valuation_inquiry":i.home_data=a||{};break;case"property_showing_scheduled":i.property_id=t,i.showing_data=a||{};break;case"contact_emailed":i.property_id=t,i.contact_data=a||{};break;case"user_data_updated":i.user_data=a||{}}$.ajax({url:"/pages/insert_user_activity.php",data:i,method:"POST",dataType:"json"}).done((function(e){}))}}$(document).ready((function(){"undefined"!=typeof Toast&&"undefined"==typeof toast&&(toast=new Toast),$("body").on("click","#finishCTA",(function(){$(".popupCTA, .popupOverlay, .message").removeClass("show")})),$("body").on("click",".closeCTA, .popupOverlay, #consultNo",(function(){$(".popupCTA, .popupOverlay, .message").removeClass("show"),sendSignupQuestions()})),$("body").on("click",".scheduleConsult button",(function(){if(""==$("#signupQuestionConsultTimes").val())alert("Please enter the time for the consultation");else{var e=globalSignupQuestionPaths[globalSignupQuestionType+"Questions"][globalSignupQuestionStep];globalSignupQuestionResponses[e]=$("#signupQuestionConsultTimes").val(),globalSignupQuestionStep++,$(".scheduleConsult").removeClass("show"),$(".confirmConsult").addClass("show"),$(".signupContent").css("height","150px"),sendSignupQuestions()}})),$(".frc-btn-google").show(),$(".frc-btn-facebook").show(),$(".social-or").show(),googleLoginAvaible()?setGoogleButtons():$(".frc-btn-google").remove(),facebookLoginAvaible()||$(".frc-btn-facebook").remove(),facebookLoginAvaible()||googleLoginAvaible()||($(".social-or").remove(),$("#frg-registration > option[class=has-social]").remove(),$("#frg-registration > option[class=has-social]").remove()),$("body").on("userSignUp",(function(e,t){$("#thankyou-forced").is(":visible")&&thankYouModal.hide(),setTimeout((function(){thankYouModal.show(t||"")}),50)})),$("body").on("sayThanks",(function(e,t){$("#thankyou-forced").is(":visible")&&thankYouModal.hide(),setTimeout((function(){thankYouModal.show(t||"")}),50)})),$(".get_this_year").text((new Date).getFullYear()),$("#signup_phone").mask("(999) 999-9999"),$(".phone_mask").mask("(999) 999-9999"),window.location.hash.indexOf("reset_pw_token=")>-1&&($("#change-password-modal").modal("show"),$("#changePassword").on("click",(function(){$("#changePassword").text("Sending..."),changePasswordWithToken({password:$("#user_npassword").val(),password_confirmation:$("#user_npassword_c").val(),user_token:getTokenValue()})}))),$("#open-forgot-pass").on("click",(function(){$("#sign-up-modal").modal("hide"),$("#asking-password-modal").modal("show")})),$("#back-to-sign-up").on("click",(function(){$("#asking-password-modal").modal("hide"),$("#sign-up-modal").modal("show")})),$("#go-to-login").on("click",(function(){$("#sign-up-modal").modal("show"),$("#signupForm > a").click(),$("#change-password-modal").modal("hide")})),$("#get-email-token").on("click",(function(){getRecoveryToken($("#asking_password").val())}));let e={user_info:"yes"};const t=window.location.search,a=new URLSearchParams(t);a.has("utm_source")&&(e["retarget-utm"]={utm_source:a.get("utm_source")},(window.location.search.indexOf("ads_auto_login=retarget_brivity_facebook_ads")>0||window.location.search.indexOf("brivity_connect=ads-remarket")>0||window.location.search.indexOf("brivity_leads=brivity_ads")>0)&&(e["retarget-utm"].ads_auto_login="retarget_brivity_facebook_ads",e["retarget-utm"].url=window.location.href,""!==document.referrer&&(e["retarget-utm"].referrer=document.referrer)),a.has("utm_medium")&&(e["retarget-utm"].utm_medium=a.get("utm_medium")),a.has("utm_campaign")&&(e["retarget-utm"].utm_campaign=a.get("utm_campaign")),a.has("utm_type")&&(e["retarget-utm"].utm_type=a.get("utm_type"))),$.ajax({url:"/pages/is_logged.php",data:e,method:"POST",dataType:"json"}).done((function(e){_isPropertyDetails3()&&e?.logged&&($("property-details").attr("user",JSON.stringify(e?.lead_data)),$("property-details").attr("isLogged",!0)),window.location.hash.indexOf("signup")>8&&!e.logged?($("#sign-up-modal").modal("show"),$("#sign-up-modal").addClass("in")):window.location.hash.indexOf("showlogin")>8&&!e.logged&&($("#sign-up-modal").modal("show"),$("#sign-up-modal").find("#create").removeClass("active in"),$("#sign-up-modal").find("#signin").addClass("active in"));let t={user_id:0,email:"",phone:"",f_name:"",l_name:"",brivity_uuid:"",blossorId:""};if($("#hblossorid").val()&&(t.blossorId=$("#hblossorid").val()),e.logged)$("#huser_id").val(e.user_id).trigger("change"),$("#huser_email").val(e.lead_data.email),$("#huser_first_name").val(e.lead_data.first_name),$("#huser_last_name").val(e.lead_data.last_name),$("#not-logged-in").hide(),$("#logged-in").show(),$(".topBarProfile .profileName").text("Hi "+(e.lead_data.first_name||"")+"!"),!0===e.logged&&(reactLoginPhoneNumber=e.lead_data.phone),t.email=e.lead_data.email,t.phone=e.lead_data.phone,t.f_name=e.lead_data.first_name,t.l_name=e.lead_data.last_name,t.brivity_uuid=e.uuid,t.user_id=e.user_id,e.agent&&e.agent.agent_phone?($(".topBarAgentPhoneLabel span").text(e.agent.agent_phone).show(),$(".topBarAgentPhoneLabel").show(),$(".topBarAgentPhoneLabel").attr("href","tel:"+e.agent.agent_phone.replace(/[^0-9.]/g,""))):$(".topBarAgentPhoneLabel").hide(),e.lead_data.image_url&&-1!=e.lead_data.image_url.search("http")&&$("#site-registration-bar .topBarPic").attr("style",'background-image: url("'+e.lead_data.image_url+'");'),e.favorites&&$(".favoritesCount").html(e.favorites),e.saved_searches&&$(".savedSearchesCount").html(e.saved_searches);else{if(window.location.search.indexOf("ads_auto_login=brivity_facebook_ads")>0?loginLastFacebookLeadGenerated():window.location.search.indexOf("ads_auto_login=retarget_brivity_facebook_ads")>0?$("#facebook-login-modal").modal("show"):(window.location.search.indexOf("brivity_connect=ads-remarket")>0||window.location.search.indexOf("brivity_leads=brivity_ads")>0)&&-1===window.location.search.indexOf("hide_signup_modal=true")?$("#sign-up-modal").modal("show"):$("#huser_id").trigger("change"),-1!==window.location.href.indexOf("/search")){let e=$("#hforced_search_registration").val();e&&1==e&&(window.location.href.indexOf("/share")>7||window.location.href.indexOf("/combined?")>7||($("#signupCancelBtn").hide(),$("#sign-up-modal").modal({backdrop:"static",keyboard:!1})))}const e="google_one_tap_show";getCookieByName(e)||(setCookieForMinutes(e,"any",60),showGoogleOneTap(!1))}var a=!1;if(-1!==window.location.href.indexOf("/homes-for-sale/")&&$("#hpropertyid").length>0&&-1===window.location.href.indexOf("/homes-for-sale/comparables"))propertyDetailsTopBar(e),a=!0;else if(-1!==window.location.href.indexOf("/homes-for-sale/")&&-1===window.location.href.indexOf("/homes-for-sale/comparables"))isLoggedChecked=!0,e.logged&&$("#marketReportBtn").attr("onclick","signupMonthly()");else if(!e.logged&&-1!==window.location.href.indexOf("/homes-for-sale/comparables")){$("#sign-up-modal").modal({backdrop:"static",keyboard:!1});$("#sign-up-modal #signupCancelBtn").remove(),$("#signin #loginCancelBtn").remove()}a||trackSiteVisit(),$.ajax({url:"/pages/get_jwtToken.php",data:t,method:"POST",dataType:"json"}).done((function(e){if(1==e.showBanner){branch.init("key_live_llQHbHbL910bvlNJU6OJ4gphACgjYBKc");const t={data:{token:e.token,$journeys_title:"Continue your search on our app"}};branch.setBranchViewData(t)}}))})),$("#topBarLogout").bind("click",(function(){userLogOut((function(){window.location.href="/"}))})),$("#loginBtn").bind("click",(function(){""==$("#search_password").val()||""==$("#search_username").val()?alert("Please enter a Username and Password"):($("#loginBtn").text("Logging In..."),$("#loginBtn").prop("disabled",!0),doLogin())})),$("#loginCancelBtn, #signupCancelBtn").click((function(){$("#haction").length&&""!=$("#haction").val()&&$("#haction").val("")})),$(".login-ss").bind("click",(function(){$("#haction").val("saveSearch-0"),(saveSearchCookie||Function)()})),$("#signupForm").submit((function(e){e.preventDefault();var t=$("#signup_fname").val().trim(),a="",i=$("#signup_phone").val().trim(),o="",n=$("#signup_email").val().trim(),r=$("#sgnf_h_robot_field").val(),s=window.location.href,l=($("#frg-h-tags").val()||"").trim(),c=($("#hlead_intent").val()||"buyer").trim();if(!t||!i||!n)return void alert("Form incomplete, please check all fields are filled.");if(t.toLowerCase().includes("n/a"))return void alert("Invalid user name N/A.");if($("#signup_lname").val())a=$("#signup_lname").val(),o=$("#signup_password").val();else{o=i.replace(/[^A-Z0-9]/gi,"");var d=t.split(" ");if(!(d.length>1))return void alert("Please enter your First and Last Name");var u=[];d.forEach((function(e){""!=e&&u.push(e)})),a=u.pop(),t=u.join(" ")}var h={site_id:0,phone:i,f_name:t,l_name:a,r_email:n,r_password:o,h_robot_field:r,form_source_url:s,action:$("#haction").val()||"",is_time_event_form:!0,time_event_type:"signup",lead_type:c};l&&(h.tags=l);var p=$("#signupForm").serializeArray(),m=["signup_fname","signup_lname","signup_phone","signup_email"];p.forEach((function(e){-1===m.indexOf(e.name)&&(h[e.name]=e.value)})),$("#signupBtn").text("Creating..."),$("#signupBtn").prop("disabled",!0),"undefined"!=typeof listingOwnerId&&listingOwnerId&&(h.listingAgentId=listingOwnerId);let f=getUtmParams();jQuery.isEmptyObject(f)||(h.utm_data=f),$.ajax({url:"/pages/signup.php",data:h,method:"POST",dataType:"json"}).done((function(e,o,r){if(1==e.status){var s=r.getResponseHeader("Authorization");s&&localStorage.setItem("authorization",s),_isPropertyDetails3()&&($("property-details").attr("user",JSON.stringify(e)),$("property-details").attr("isLogged",!0)),signupQuestionFirst("followUp","250px",!0)}$("#signupBtn").text("Create My Free Account"),$("#signupBtn").prop("disabled",!1),1==e.status?(e.extra_data=e.extra_data||{},e.extra_data.phone=i||"",$("#huser_id").val(e.user_id).trigger("change"),afterAuth(t,a,n,e.agent||null,e.extra_data||{}),$("#signup_fname").val(""),$("#signup_lname").val(""),$("#signup_email").val(""),$("#signup_password").val(""),$("#signup_phone").val(""),$("#update_user_email").val($("#signup_email").val()),$(".favoritesCount").html("0"),$(".savedSearchesCount").html("0"),$("#signupBtn").trigger({type:"signup_success"}),$("#haction").length&&""!=$("#haction").val()?"pdetails-save-favorite"==$("#haction").val()?($("#haction").val(""),saveFavorite($("#hmls_id").val()+"_"+$("#hmls_num").val(),$("#hmls_num").val(),$("#hblossorid").val(),$("#hprice").val())):doAction():$("#h_action").length&&""!=$("#h_action").val()?doAction():-1!==window.location.href.indexOf("/homes-for-sale/")&&$("#hpropertyid").length>0&&-1===window.location.href.indexOf("/homes-for-sale/comparables")?$("#favLink").attr("onclick",'saveFavorite("'+$("#hmls_id").val()+"_"+$("#hmls_num").val()+'","'+$("#hmls_num").val()+'")'):-1!==window.location.href.indexOf("/homes-for-sale/")&&-1===window.location.href.indexOf("/homes-for-sale/comparables")&&signupMonthly()):alert(e.msg)}))})),$("#phoneConfirmForm").submit((function(e){var t=$("#confirm_phone").val().trim();if($("#huser_id").val())if(t){var a=t.replace(/[^A-Z0-9]/gi,"");$("#confirmPhoneBtn span").text("Sending..."),$("#confirmPhoneBtn").attr("disabled",!0),$.ajax({url:"/pages/update_user_phone_password.php",data:{phone:t,password:a},method:"POST",dataType:"json"}).done((function(e){$("#confirmPhoneBtn span").text("Confirm Phone..."),$("#confirmPhoneBtn").removeAttr("disabled"),1==e.success?$("body").trigger("sayThanks","Data saved, now you can use the entered phone as your password"):alert(e.msg),$("#phone-confirm-modal").modal("hide")}))}else alert("Form incomplete, please check all fields are filled.");else alert("You need not be logged in first to send your phone number.")})),forceRegistrationHandler(),landingModalHandler(),initForceForgotOptions(),initForceSignupOptions(),$("#areas-city-container").length&&($("#areas-city-loading").show(),$("#areas-city-container").hide(),$.ajax({url:"/pages/get_area_cities.php",method:"POST",dataType:"json"}).done((function(e){if(e.status)if($("#areas-city-title").text(e.title||""),e.totalsMls)$.ajax({url:"/pages/search.php/listings_map?",method:"post",datatype:"json",data:{mlsId:e.totalsMls,status:"1|3"},success:function(t){var a=t.listings||[];a&&a.length&&e.cityListSections.forEach((function(e){e.forEach((function(e){var t=a.find((function(t){return t.city===e.city&&t.state===e.state}));e.total=t?t.total:e.total}))}));var i=parseAreasCityBlockContent(e.cityListSections);$("#areas-city-list").html(i),$("#areas-city-loading").hide(),$("#areas-city-container").show()}});else{var t=parseAreasCityBlockContent(e.cityListSections);$("#areas-city-list").html(t),$("#areas-city-loading").hide(),$("#areas-city-container").show()}else $("#areas-city-loading").hide(),$("#areas-city-container").hide()}))),$(document).on("DOMNodeInserted",(function(e){$("#sub-chat-window").bind("DOMSubtreeModified",(function(){var e=$("#sub-chat-window div.panel-heading.top-bar").attr("style");e.indexOf("important")<0&&$("#sub-chat-window div.panel-heading.top-bar").attr("style",e.replace(";"," !important;"));var t=$(".icon-help").css("color");$("#sub-chat-window div.panel-container div.panel-heading.top-bar > div.panel-title-container > h3").attr("style","color: "+t)}))}));let i=window.location.protocol+"//"+window.location.hostname+"/sitemaps";$.get(i).done((function(){$("#sitemapUrl").attr("href","/sitemaps"),$("#sitemapUrl").css({display:"inline"})})).fail((function(){let e=window.location.protocol+"//"+window.location.hostname+"/sitemap";$.get(e).done((function(){$("#sitemapUrl").attr("href","/sitemap"),$("#sitemapUrl").css({display:"inline"})})).fail((function(){}))}))}));var map,thankYouModal={show:function(e){e&&thankYouModal.setCustomMessage(e),$("#thankyou-forced").length>0?($("#thankyou-forced").modal("show"),setTimeout(this.hide,5e3)):($("body").append(this.modalSource),$("#thankyou-forced").modal("show"),this.setCustomMessage(this.getCustomMessage()),setTimeout(this.hide,5e3))},hide:function(){$("#thankyou-forced").length>0&&$("#thankyou-forced").modal("hide")},getCustomMessage:function(){return this.customMessage},setCustomMessage:function(e){this.customMessage=e,$("#thk-you-mdl-msg").length>0&&$("[id=thk-you-mdl-msg]").text(e)},customMessage:"",modalSource:'<div class="modal fade magic-modal text-center" id="thankyou-forced" tabindex="-1" role="dialog" aria-hidden="true">\n   <div class="modal-dialog" role="document">\n       <div class="modal-content">\n           <div class="modal-body text-center">\n               <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true"></span></button>\n               <div class="force-thank-you">\n                   <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="#7ABD91" stroke-linecap="round" stroke-linejoin="round" class="feather feather-check-circle margin-bottom-20 margin-top-20" width="80" height="80" stroke-width="1.2"><path d="M22 11.07V12a10 10 0 1 1-5.93-9.14"></path><polyline points="23 3 12 14 9 11"></polyline></svg>\n                   <h4>Thank You.</h4>\n                   <p id="thk-you-mdl-msg"></p>\n               </div>\n               <iframe id="force-thank-you-iframe" style="border:0" width="0px" height="0px" src="/pages/confirmation.php"></iframe>\n               <div class="flex jc-center">\n                   <button type="button" class="btn btn-primary margin-top-0" data-dismiss="modal">\n                       <div class="flex ai-center"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg> Okay</div>\n                   </button>\n               </div>\n            </div>\n        </div>\n    </div>\n</div>'},globalSignupQuestionStep=0,globalSignupQuestionType="",globalSignupQuestionPaths={buy:["followUp","buyTimeline","mortgage","consult","scheduleConsult"],buyQuestions:["selling_or_buying","time_frame","mortgage_pre-approval","scheduled_consult","consultation"],sell:["followUp","sellTimeline","consultOrValue","scheduleConsult"],sellQuestions:["selling_or_buying","time_frame","scheduled_consult","consultation"],both:["followUp","buyTimeline","mortgage","sellTimeline","consultOrValue","scheduleConsult"],bothQuestions:["selling_or_buying","buy_time_frame","mortgage_pre-approval","sell_time_frame","scheduled_consult","consultation"]},globalSignupQuestionResponses={};function signupQuestionHomeValue(){signupQuestionsSet("No"),sendSignupQuestions(),$(".popupCTA, .popupOverlay").removeClass("show");let e=window.location.protocol+"//"+window.location.hostname+"/homevalue";$.get(e).done((function(){window.location.href=e})).fail((function(){e=window.location.protocol+"//"+window.location.hostname+"/home_value",$.get(e).done((function(){window.location.href=e})).fail((function(){console.log("Home value no found in thi site")}))}))}function signupQuestionFirst(e,t,a){$(".popupCTA, .popupOverlay").addClass("show"),$("."+e).addClass("show"),$(".popupBody").css("height",t),globalSignupQuestionStep=0,globalSignupQuestionType="",a&&1==a&&($("#signup-question-iframe").attr("src","/pages/confirmation.php?facebook=false"),setTimeout((function(){$("#signup-question-iframe").attr("src","")}),1500))}function signupQuestionsSet(e){if(e){var t=globalSignupQuestionPaths[globalSignupQuestionType+"Questions"][globalSignupQuestionStep];globalSignupQuestionResponses[t]=e}}function signupQuestionNext(e,t){if(""!=e&&(globalSignupQuestionType=e),t){var a=globalSignupQuestionPaths[globalSignupQuestionType+"Questions"][globalSignupQuestionStep];globalSignupQuestionResponses[a]=t}var i=globalSignupQuestionPaths[globalSignupQuestionType];$("."+i[globalSignupQuestionStep]).removeClass("show"),globalSignupQuestionStep++,$("."+i[globalSignupQuestionStep]).addClass("show")}function signupQuestionBack(){var e=globalSignupQuestionPaths[globalSignupQuestionType];$("."+e[globalSignupQuestionStep]).removeClass("show"),globalSignupQuestionStep--,$("."+e[globalSignupQuestionStep]).addClass("show")}function sendSignupQuestions(){if(globalSignupQuestionStep>0){var e={},t=0;for(var a in globalSignupQuestionResponses){if(!(t<globalSignupQuestionStep))break;e[a]=globalSignupQuestionResponses[a],t++}$.ajax({url:"/pages/signup_questions.php",data:e,method:"POST",dataType:"json"}).done((function(e){console.log(e)}))}}function getUrlParam(e){var t=new RegExp("[?&]"+e+"=([^]*)").exec(window.location.href);return null==t?null:t[1]||0}function formatPriceUserFriendly(e){for(;/(\d+)(\d{3})/.test(e.toString());)e=e.toString().replace(/(\d+)(\d{3})/,"$1,$2");return"$"+e}function getQueryParamByName(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var a=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}function formatCreateDate(e){var t="";if(e){var a=e.split(/[- :]/);a[1]--,t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][a[1]]+". "+a[2]+", "+a[0]}return t}function openCallModal(e,t,a){callModalSetup(e,"office-number-container","office-number-btn","office-number","tel",a),callModalSetup(t,"cell-number-container","cell-number-btn","cell-number","tel",a),$("#call-agent-modal").modal("show")}function callModalSetup(e,t,a,i,o,n){if(e&&""!==e){$("."+t).show(),n&&$("."+a).show(),$("#"+i).text(encphone(e));const r=encphone(e);$("#"+i).attr("href",o+":"+r),$("#"+i+"-btn").attr("href",o+":"+r),"cell-number"===i&&$("#"+i+"-btn-text").attr("href","sms:"+r)}else $("."+t).hide(),$("."+a).hide(),$("#"+i).text(""),$("#"+i).attr("href","")}function encphone(e){return atob(e.split("").map((e=>e.match(/[a-z]/i)?String.fromCharCode(e.charCodeAt(0)+(e.toLowerCase()<"n"?13:-13)):e)).join(""))}function openContactModal(e){var t=$("#huser_first_name").val()?$("#huser_first_name").val():"",a=$("#huser_last_name").val()?" "+$("#huser_last_name").val():"";$("#contact-modal-form #agentId").val(e),$("#contact-modal-form #name").val(t+a),$("#contact-modal-form #email").val($("#huser_email").val()?$("#huser_email").val():""),$("#contact-modal").modal("show")}function FbRealEstatePixelTracker(e){this.eventType="ViewContent",this.pixelData={content_type:"home_listing"},this.init=function(e){e&&Object.keys(e).forEach((t=>{"eventType"==t?"InitiateCheckout"!=e[t]&&"ViewContent"!=e[t]&&"Search"!=e[t]||(this.eventType=e.eventType):this.pixelData[t]=e[t]}))},this.fireEvent=function(e=0){if("function"!=typeof fbq){if(e<3){let t=this;setTimeout((function(){t.fireEvent(++e)}),2e3)}return!0}fbq("track",this.eventType,this.pixelData)},e&&this.init(e)}$("#contact-modal-form").submit((function(e){e.preventDefault();let t=$(this).find('input[name="age_required"]');if(t.length>0&&""!==t.val())return!1;var a=$("#contact-modal-form #agentId").val().trim(),i=$("#contact-modal-form #name").val().trim(),o=$("#contact-modal-form #email").val().trim(),n=$("#contact-modal-form #phone").val().trim(),r=$("#contact-modal-form #message").val().trim();if(i&&o&&n&&r){var s=window.location.href,l={contact_fullname:i,agent_id:a,contact_phone:n,contact_email:o,contact_message:r+"<br>URL: "+window.location.href,listing_agent_id:$("#hlisting_bragent_id").val(),h_robot_field:$("#hcontacmodal_robot_field").val(),form_source_url:s,time_event_type:"contact_form",primary_agent:!0},c=$("#contact-modal-form").serializeArray(),d=["name","number","email","message","hcontacmodal_robot_field"];c.forEach((function(e){-1===d.indexOf(e.name)&&(l[e.name]=e.value)}));$("#contact-modal-form #contact_agent_sendbtn").attr("disabled",!0),$("#contact-modal-form #contact_agent_sendbtn").html("Sending..."),$.ajax({url:"/pages/contact.php",data:l,method:"POST",dataType:"json"}).done((function(e){if($("#contact-modal-form #contact_agent_sendbtn").removeAttr("disabled"),$("#contact-modal-form #contact_agent_sendbtn").html("Send"),e&&e.status){if($("#contact-modal-form #name").val(""),$("#contact-modal-form #phone").val(""),$("#contact-modal-form #email").val(""),$("#contact-modal-form #message").val(""),$("#contact-modal").modal("hide"),$("body").trigger("sayThanks","The email has been sent"),""==$("#huser_id").val().trim()&&e.lead_data&&e.lead_data.lead_id){var t={login_user_id:e.lead_data.lead_id,login_form_email:o};$.ajax({url:"/pages/login.php",data:t,method:"POST",dataType:"json"}).done((function(e,t,a){if(e.status){var i=a.getResponseHeader("Authorization");i&&localStorage.setItem("authorization",i),$("#huser_id").val(e.user_id).trigger("change"),$("#update_user_email").val(o),$.ajax({url:"/pages/is_logged.php",data:{user_info:"yes"},method:"POST",dataType:"json"}).done((function(e){reactLoginPhoneNumber=e.lead_data.phone,console.log(e.lead_data.phone),e.logged&&(_isPropertyDetails3()&&($("property-details").attr("user",JSON.stringify(e?.lead_data)),$("property-details").attr("isLogged",!0)),null!=e.favorites&&$(".favoritesCount").html(e.favorites||0),null!=e.saved_searches&&$(".savedSearchesCount").html(e.saved_searches||0),afterAuth(e.lead_data.first_name,e.lead_data.last_name,o))}))}}))}}else $("#contact-modal-error #contact-modal-error-message").text(e.msg),$("#contact-modal-error").modal("show"),$("#contact-modal-error #contact-modal-error-button-close").off().on("click",(function(){setTimeout((function(){$("#contact-modal").modal("show")}),500)}))}))}else alert("Form incomplete, please check all fields are filled.")})),$("#contact-modal-form #phone").mask("(999) 999-9999");var mapMobile,polygonGlobal,initialNearby=!1,mapMobileStarted=!1,mapMobileShowing=!1,polygonCoordsGlobal=[],globalPolygonLoaded=!1,searchData="",markers=[],markersClusterer=null,markersMobile=[],properties=[],areaPolygons=[],map_price_icon="https://drive.google.com/open?id=0B0e3CL1HLpWIS2lvNXVJR0ZiZ2c",mapMarkerImg=new google.maps.MarkerImage(map_price_icon,new google.maps.Size(42,22)),bounds=new google.maps.LatLngBounds,selectedPropertyType="",moreOptionsLoaded=!1,pagingLoaded=!1,priceArray=[1e3,2e3,3e3,4e3,5e3,1e4,15e3,25e3,5e4,6e4,7e4,8e4,9e4,1e5,125e3,15e4,175e3,2e5,225e3,25e4,275e3,3e5,325e3,35e4,375e3,4e5,425e3,45e4,475e3,5e5,55e4,6e5,65e4,7e5,75e4,8e5,85e4,9e5,95e4,1e6,125e4,15e5,175e4,2e6,225e4,25e5,275e4,3e6,35e5,4e6,45e5,5e6],minMaxNumArray=[1,2,3,4,5],lotArray=[.1,.2,.25,.33,.5,.75,1,1.5,2,5,10,20,40,50,100],yearArray=[1800,1900,1910,1920,1930,1940,1950,1960,1970,1980,1990,2e3,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020],sqFeetArray=[600,800,1e3,1200,1400,1600,1800,2e3,2250,2500,2750,3e3,3500,4e3,4500,5e3,6e3,7e3,8e3,9e3,1e4],firstSearch=!0,globalMlsLogos=new Array,globalMlsMetaLoaded=!1,qstrValue=document.getElementById("view_layout").value,today_is=document.getElementById("today_is").value,this_path=window.location.pathname.toString(),format_path="/"+this_path.replace("/",""),default_search=document.getElementById("default_search").value,default_layout=document.getElementById("default_layout").value,map_with_search=document.getElementById("map_with_search").value,hzoom=parseInt(document.getElementById("hzoom").value),hcity=document.getElementById("hcity").value,h_search_lat=parseFloat(document.getElementById("h_search_lat").value),h_search_lng=parseFloat(document.getElementById("h_search_lng").value);let collectionsService,blossorData=[],isLogged=!1;var styles=[{featureType:"all",elementType:"labels.text.fill",stylers:[{color:"#333333"},{gamma:"3"}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#ffffff"}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#fefefe"}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#fefefe"},{weight:1.2},{lightness:"17"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#e1e1e1"},{lightness:"0"},{gamma:"1.0"}]},{featureType:"landscape.man_made",elementType:"geometry.fill",stylers:[{color:"#ececec"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{color:"#cecece"},{visibility:"on"},{saturation:"20"},{weight:"0.40"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:21}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#c8c8c8"},{lightness:"21"},{gamma:"1"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#add399"},{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{lightness:"0"},{gamma:"5"},{visibility:"on"},{saturation:"5"},{color:"#c1c1c1"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{lightness:29},{weight:.2},{visibility:"on"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:"10"}]},{featureType:"road.arterial",elementType:"geometry.stroke",stylers:[{color:"#cecece"},{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#8b8b8b"}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:16}]},{featureType:"road.local",elementType:"geometry.stroke",stylers:[{visibility:"on"},{color:"#cecece"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#8b8b8b"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#f2f2f2"},{lightness:"10"}]},{featureType:"transit.line",elementType:"geometry.fill",stylers:[{color:"#cdcdcd"}]},{featureType:"transit.station.rail",elementType:"labels.icon",stylers:[{visibility:"on"},{gamma:"2.5"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"##000000"},{lightness:"0"},{gamma:"2.5"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#bad2f7"}]}],default_quality_image=$("#default_quality_image").length?document.getElementById("default_quality_image").value:50,advancedSearchParams=[],pageAd=[],moreOptionsChanged=!1,searchNotFound=!1,currentAutocompResults=[],savedSearchesList=[],recentSearchList=[],recommendedSearchesList=[],is_mobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);const localApiKey=localStorage.getItem("authorization");async function checkCollecionFavorites(e){const t=await collectionsService.checkIfInCollection(e);$("#collection-info").val(JSON.stringify(t.data));for(const e in t.data)t.data[e]&&($(`.${e} > i`).addClass("fa-heart"),$(`.${e} > i`).removeClass("fa-heart-o"))}collectionsService=new Collections.Service("https://property-collections-api-idx.brivity.com/",localApiKey,"sitebuilder"),is_mobile&&"hybrid_view"==qstrValue&&(qstrValue="gallery_view",$("#map-container").hide()),is_mobile&&"hybrid"==default_layout&&(default_layout="gallery");var array_years=[];$("#yearFull option").each((function(){array_years.push($(this).val())}));var array_selected_filters=[];function FbRealEstateSearchPixelTracker(e){this.contentIdLimit=10,this.pixelData={eventType:"Search"},this.init=function(e){e&&e.eventType&&(this.pixelData.eventType=e.eventType),e&&e.properties&&this.addContentIdsFromPropertyList(e.properties),e&&e.queryObj&&(e.queryObj.multi_cat&&e.queryObj.multi_search&&this.setSearchTermByType(e.queryObj.multi_cat,e.queryObj.multi_search),e.queryObj.totalBaths&&this.setNumericRangeFromMap(e.queryObj.totalBaths,"preferred_baths_range"),e.queryObj.bedrooms&&this.setNumericRangeFromMap(e.queryObj.bedrooms,"preferred_beds_range"),e.queryObj.price&&this.setNumericRangeFromMap(e.queryObj.price,"preferred_price_range",1e8,0,20))},this.fireEvent=function(){new FbRealEstatePixelTracker(this.pixelData).fireEvent()},this.addContentIdsFromPropertyList=function(e){if(delete this.pixelData.content_ids,!Array.isArray(e))return!1;let t=[];for(var a=0;a<this.contentIdLimit;a++)e[a]&&e[a].blossorId&&t.push(e[a].blossorId);t.length>0&&(this.pixelData.content_ids=t)},this.setSearchTermByType=function(e,t){let a=decodeURIComponent(e).split("|"),i=decodeURIComponent(t).split("|"),o=a.indexOf("CityState"),n=a.indexOf("NeighborhoodCityState");o>=0&&i[o]?this.setLocationFromCsvMap(i[o],["city","region"]):n>=0&&i[n]&&this.setLocationFromCsvMap(i[n],["neighborhood","city","region"])},this.setLocationFromCsvMap=function(e,t){let a=e.split(",");for(i=0;i<t.length;i++)a.length>i&&(this.pixelData[t[i]]=a[i].trim())},this.setNumericRangeFromMap=function(e,t,a,i,o){let n=e.split(":");if(a||(a=100),i||(i=0),o=isNaN(o)||Math.abs(o)<1?void 0:parseInt(o),n.length>0){for(var r in(n.length<2||""==n[1])&&(o&&!isNaN(n[0])&&(a=Math.ceil(parseInt(n[0])+parseInt(n[0])*(o/100))),n[1]=a),""==n[0]&&(o&&!isNaN(n[1])&&(i=Math.floor(parseInt(n[1])-parseInt(n[1])*(o/100))),n[0]=i),n)n[r]=parseInt(n[r],10);this.pixelData[t]=n}},e&&this.init(e)}function checkarrayValue(e,t){for(var a=0,i=0;i<t.length;i++){if(t[i]==e){a=1;break}}return a}function getHashValue(e){var t=location.hash.match(new RegExp(e+"=([^&]*)"));return t?t[1]:null}function getArrayIndex(e,t){for(var a=0,i=0;i<t.length;i++)if(e<t[i]){a=i;break}return a}function setCurrentLocationListener(){$("#currentLocation").click((function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){$("#hlat").val(e.coords.latitude),$("#hlng").val(e.coords.longitude),nearbySearch()})),$(".ui-autocomplete ").hide()}))}function setCookie(e,t,a){var i=new Date;i.setTime(i.getTime()+24*a*60*60*1e3);var o="expires="+i.toUTCString();document.cookie=e+"="+t+";"+o+"; path=/"}function getCookie(e){for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),i=0;i<a.length;i++){for(var o=a[i];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""}function getRecentSearch(){(recentSearchList=getCachedSearch()||[]).length||(previous_search=getCookie("multi_search"),previous_search&&(previous_search_cat=getCookie("multi_cat")||"",recentSearchList.push({category:previous_search_cat,label:previous_search,value:previous_search,previous_search:!0})))}function getCachedSearch(){var e=getCookie("cached_search_params");if(e&&JSON.parse(e)){var t=JSON.parse(e);t.multi_search&&(t.multi_search=atob(t.multi_search));var a=!1;if(Object.keys(t).forEach((function(e){t[e]&&"0"!=t[e]&&"hash_url"!=e&&("multi_search"==e&&(t[e]=t[e].replace("|",", ")),a=!0)})),a)return parseSavedSearches([t],!1)}return!1}$(document).ready((function(){checkHashUrl(),loadPropertyTypes(),getRecentSearch(),getSavedSearches(),getRecommendedSearches(),$(".dropdown select").on("click",(function(e){e.stopPropagation(),e.preventDefault()})),$("#more-filter-pop").on("show.bs.collapse",(function(){moreOptionsChanged=!1})),$("#more-filter-pop").on("hidden.bs.collapse",(function(){moreOptionsChanged&&("map_view"==qstrValue?mapviewsearch(!0,!0,1):doFullSearch(!0,!0,1))})),$("#advance-search-button").on("click",(function(){moreOptionsChanged&&("map_view"==qstrValue?mapviewsearch(!0,!0,1):doFullSearch(!0,!0,1))})),Array.isArray(window.CUSTOM_NEIGHBORHOODS)&&(window.CUSTOM_NEIGHBORHOODS.forEach((function(e){var t=$("<option></option>").val(e).text(e);$("#custom-neighborhood").append(t);var a=$("<option></option>").val(e).text(e);$("#custom-neighborhood_m").append(a)})),$("#custom-neighborhood-container").removeClass("hidden"),$("#custom-neighborhood-container_m").css({display:"block"})),window.CUSTOM_DROPDOWN_ID&&$.get(`/pages/get_custom_dropdown.php?dropdown_id=${window.CUSTOM_DROPDOWN_ID}`).done((e=>{const t=$("#building-dropdown"),a=$("#hFilterBuilding").val().split(",");e.items.forEach((e=>{t.append(function(e,t=!1){const a=$(`<li>\n        <label><input type="checkbox" name="custom-building" value="${e.value}"/>${e.label}</label>\n      </li>`);return a.find("input").prop("checked",t),a}(e,-1!==a.indexOf(e.value)))})),$("#building-dropdown-container").removeClass("hidden")})).fail((e=>{console.error(e)})),$("#sign-up-modal").on("show.bs.modal",(function(){$("#page").addClass("blur-modal")})),$("#sign-up-modal").on("hide.bs.modal",(function(){$("#page").removeClass("blur-modal")})),$("input.CurrencyInput").on("blur",(function(){let e=this.value.replace(/,/g,"");e=e.replace("$",""),""!==e&&(this.value="$"+parseFloat(e).toLocaleString("en-US",{style:"decimal",maximumFractionDigits:0,minimumFractionDigits:0})),moreOptionsChanged=!0})),$("input.CurrencyInput").on("keypress",(function(e){return e.metaKey||e.which<=0||8==e.which||/[0-9]/.test(String.fromCharCode(e.which))}))})),$.widget("custom.catcomplete",$.ui.autocomplete,{_create:function(){this._super(),this.widget().menu("option","items","> :not(.ui-autocomplete-category)")},_renderMenu:function(e,t){var a=this,i="";$.each(t,(function(t,o){var n;if(o.category!=i&&"current_location"!=o.category&&!o.previous_search){var r="https://cdn1.brivityidx.com/assets/images/autocomplete_icons/map-pin.png";"Saved Searches"==o.category&&(r="https://cdn1.brivityidx.com/assets/images/autocomplete_icons/search.png"),"Popular Searches"==o.category&&(r="https://cdn1.brivityidx.com/assets/images/autocomplete_icons/recommended.png"),"Elementary School"!=o.category&&"High School"!=o.category||(r="https://cdn1.brivityidx.com/assets/images/autocomplete_icons/school.png"),"MLS"==o.category&&(r="https://cdn1.brivityidx.com/assets/images/autocomplete_icons/mls.png"),"School District"==o.category&&(r="https://cdn1.brivityidx.com/assets/images/autocomplete_icons/school-district.png"),"State"==o.category&&(r="https://cdn1.brivityidx.com/assets/images/autocomplete_icons/state.png"),"County"==o.category&&(r="https://cdn1.brivityidx.com/assets/images/autocomplete_icons/county.png"),"City"==o.category&&(r="https://cdn1.brivityidx.com/assets/images/autocomplete_icons/city.png"),"Zip"==o.category&&(r="https://cdn1.brivityidx.com/assets/images/autocomplete_icons/zip.png"),"Neighborhood"==o.category&&(r="https://cdn1.brivityidx.com/assets/images/autocomplete_icons/neighborhood.png");let t="MLS"==o.category?"Listing ID":o.category;e.append("<li class='ui-autocomplete-category'><img class='icon' src='"+r+"'/>&nbsp; "+t+"</li>"),i=o.category}o.previous_search&&e.append("<li class='ui-autocomplete-category'><img class='icon' src='https://cdn1.brivityidx.com/assets/images/autocomplete_icons/clock.png'/>&nbsp; MOST RECENT SEARCH</li>"),"current_location"==o.category&&(e.append("<li class='ui-autocomplete-category ui-autocomplete-location' id='currentLocation'><i class='fa fa-location-arrow'></i> Current Location</li>"),setCurrentLocationListener()),n=a._renderItemData(e,o),o.category&&(n.attr("aria-label",o.category+" : "+o.label),"current_location"==o.category&&n.remove())}))}}),function(e){e.ajax({url:"/pages/mls_metadata.php",dataType:"json"}).done((function(t){if(t.count>0){for(var a="",i=!1,o=0;o<t.count;o++){var n=null!=t.data[o].logoUrl&&""!=t.data[o].logoUrl?'<br /><img src="'+t.data[o].logoUrl+'" style="max-width:100px; max-height:100px;" />':"";a+='<div class="col-md-12 mls-disclaimer"><p>'+t.data[o].disclaimer+'</p><p style="border-top: 1px solid #eee;padding-top: 20px;margin-top: 20px;"><strong><a href="https://wolfnet.com/terms-conditions/"></a></strong><br />Data last updated: '+t.data[o].lastUpdated+"<br />&copy;"+t.year+" "+t.data[o].name+n+"</p></div>",globalMlsLogos[t.data[o].mlsId]=null!=t.data[o].logoUrl&&""!=t.data[o].logoUrl?t.data[o].logoUrl:"",null!=globalMlsLogos[t.data[o].mlsId]&&""!=globalMlsLogos[t.data[o].mlsId]&&-1===globalMlsLogos[t.data[o].mlsId].indexOf("http")&&(globalMlsLogos[t.data[o].mlsId]="http://blueroof360.com"+globalMlsLogos[t.data[o].mlsId]),t.data[o].hasParkingSpaces&&(i=!0)}globalMlsMetaLoaded=!0,e("#mls_disclaimers").html(a),i&&e(".more-spaces-range").removeClass("hidden")}}));const t=()=>{collectionsService.getCollections(0,30).then((e=>{const t=e.data.Items.map((({collectionUUID:e,collectionName:t,...a})=>({collection_title:t,id:e,...a})));0==t.length?n.setAttribute("is_add_to_collection","0"):n.setAttribute("is_add_to_collection","1"),n.setAttribute("collections",JSON.stringify(t))})).catch((e=>{console.log("error"),n.setAttribute("is_add_to_collection","0")}))};const a=new class{constructor(){let e=this;this.element=document.querySelector("place-collectionpopup"),this.collectionUUID=0,this.element.addEventListener("on_close_press",(t=>{e.hide()})),this.element.addEventListener("on_save_press",(e=>{e.detail.collectionUUID=this.collectionUUID;let o=localStorage.getItem("uuid"),n=[{personUUID:o,role:"lead"}];collectionsService.createCollection(e.detail.name,e.detail.description,o,n,[""]).then((e=>{e.status&&(t(),s(),a.hide(),toast.show("Collection created successfully"))})).catch((e=>{e?.response?.data?.error.includes("duplicate")?toast.show("Collection with this name already exists",!0):(a.hide(),i.show())}))}))}setName(e){this.element.setAttribute("name_value",e)}setDescription(e){this.element.setAttribute("description_value",e)}show(e){e&&(this.collectionUUID=e),this.element.setAttribute("style","display:flex")}hide(){this.element.setAttribute("style","display:none"),this.setName(""),this.setDescription("")}},i=new class{constructor(){let e=this;this.element=document.getElementById("create-collection-error-modal"),this.element.addEventListener("on_primary_press",(t=>{e.hide()})),this.element.addEventListener("on_close_press",(t=>{e.hide()}))}show(){this.element.setAttribute("style","display:flex")}hide(){this.element.setAttribute("style","display:none")}};class o{constructor(){this.element=document.querySelector("place-generictoast")}show(e,t=!1){window.dispatchEvent(new CustomEvent("ShowToast",{detail:{text:e,error:t}}))}}if(void 0!==o&&"undefined"==typeof toast){new o}const n=document.querySelector("place-copycollectionmodal"),r=document.querySelector("place-removecollectionpopup"),s=()=>{e(".copy-collection-parent").css("display","flex"),n.setAttribute("style","display:flex")},l=()=>{e(".copy-collection-parent").css("display","none"),n.setAttribute("style","display:none")};n.addEventListener("on_save",(t=>{const a=JSON.parse(e("#property-info").val()).blossor_id;collectionsService.addPropertyToCollection(t.detail,[a]).then((t=>{let i=JSON.parse(n.getAttribute("collections")),o=t.data.collectionUUID;collectionsService.getCollectionProperties(o,1,1).then((e=>{let t=i.findIndex((e=>e.id==o)),a=i[t];a.propertiesImages=[],e.data.properties.length>0&&a.propertiesImages.push({mainPhoto:e?.data?.properties[0]?.photos[0]?.url}),i[t]=a,n.setAttribute("collections",JSON.stringify(i))})),l(),e(`.${a} > i`).addClass("fa-heart"),e(`.${a} > i`).removeClass("fa-heart-o"),toast.show("Property added to collection"),checkCollecionFavorites(blossorData)})).catch((e=>{400==e.response.status&&toast.show("Property already exists in this collection",!0),e.response.status>500&&e.status<599&&toast.show("There was an error, please try again later",!0),l()}))})),n.addEventListener("close_button",(e=>{l()})),n.addEventListener("on_link_press",(e=>{a.show(),l()})),n.addEventListener("cancel_button",(e=>{l()})),r.addEventListener("close_button",(t=>{e(".delete-property-parent").hide()})),r.addEventListener("on_remove",(t=>{let a=JSON.parse(e("#property-info").val()).blossor_id;const i=JSON.parse(r.getAttribute("collections")),o=i.findIndex((e=>e.collectionUUID===t.detail));collectionsService.removePropertyFromCollection(t.detail,i[o].propertyUUID).then((t=>{let i=JSON.parse(n.getAttribute("collections")),o=t.data.collectionUUID;collectionsService.getCollectionProperties(o,1,1).then((e=>{let t=i.findIndex((e=>e.id==o)),a=i[t];a.propertiesImages=[],e.data.properties&&a.propertiesImages.push({mainPhoto:e?.data?.properties[0]?.photos[0]?.url}),i[t]=a,n.setAttribute("collections",JSON.stringify(i))})),e(".delete-property-parent").hide(),e(`.${a} > i`).removeClass("fa-heart"),e(`.${a} > i`).addClass("fa-heart-o"),toast.show("Property removed from collection"),checkCollecionFavorites(blossorData)})).catch((()=>{toast.show("There was an error, please try again later",!0)}))})),r.addEventListener("cancel_button",(t=>{e(".delete-property-parent").hide()}));function c(e,t){var a=new RegExp("[?&]"+t+"=([^&#]*)").exec(e);return null!=a&&(a[1]||0)}(()=>{const e=document.getElementById("huser_email");isLogged=!0;new MutationObserver((function(){""!==e.value&&(collectionsService=new Collections.Service("https://property-collections-api-idx.brivity.com/",localStorage.getItem("authorization"),"sitebuilder"),t(),blossorData.length>0&&checkCollecionFavorites(blossorData))})).observe(e,{attributes:!0})})();var d={};e("#multi_search").catcomplete({minLength:0,delay:50,source:function(t,a){var i=t.term;i in d?a(d[i]):e.getJSON("/pages/autocomplete.php?mlsIds="+e("#mls_list").val(),{term:t.term},(function(t,o,n){i&&(t=function(t){var a=["State","City","County","Neighborhood","School District","Zip","Address","MLS","Building Name"],i=[];if(t&&t.length&&(a.forEach((function(e){var a=t.filter((function(t){return t.category==e}));i=i.concat(a)})),i.length!==t.length)){var o=t.filter((function(t){return-1===e.inArray(t.category,a)}));i=i.concat(o)}return i}(t),d[i]=t),""==i&&(savedSearchesList&&savedSearchesList.length&&(t=t.length?t:[],t=savedSearchesList.concat(t)),recentSearchList&&recentSearchList.length&&(t=t.length?recentSearchList.concat(t):recentSearchList),recommendedSearchesList&&recommendedSearchesList.length&&(t=t.length?t.concat(recommendedSearchesList):recommendedSearchesList),t=t.length?t:[]),a(t)}))},select:function(t,a){switch(a.item.category){case"City":a.item.category="CityState";break;case"County":a.item.category="CountyState";break;case"Neighborhood":a.item.category="NeighborhoodCityState"}if("Saved Searches"==a.item.category||""==a.item.category&&a.item.searchObj){var i=function(e){var t="/search";return e.hash_url&&(t+=atob(e.hash_url).replace("newsearchhash","").replace(/adv_/g,"")),t}(a.item.searchObj);window.location.assign(i),window.location.reload(),-1==window.location.href.search(i)&&(window.location.href=i)}else"Popular Searches"==a.item.category?(window.location.assign(a.item.url||"/search"),window.location.reload()):(null!=a.item.category&&e("#multi_cat").val(a.item.category),e("#multi_search").val(a.item.value),e("#multi_search_m").val(a.item.value),document.activeElement.blur(),"map_view"!=qstrValue?doFullSearch(!0,!0,1,!0):(qstrValue="map_view_alternative",doFullSearch(!0,!0,1,!0),qstrValue=""),setCookie("multi_search",a.item.value,7),setCookie("multi_cat",a.item.category,7))},change:function(e,t){},response:function(t,a){if(a.content){var i=a.content.filter((function(e){return!e.searchObj&&"Saved Searches"!=e.category&&""!=e.category}))||[];currentAutocompResults=i,searchNotFound=!i.length&&e("#multi_search").val().trim()}}}),e("#multi_search").keydown((function(t){if(13==t.keyCode)if(t.preventDefault(),e("#multi_search").val().trim())if(e("#multi_search").val().trim()&&searchNotFound){var a=null;Object.keys(d).sort().reverse().forEach((function(t){e("#multi_search").val().trim().startsWith(t)&&!a&&d[t].length&&t.length>=3&&(a=d[t])})),a?(generateDidYouMeanResults(a),e("#did-you-mean-modal").modal("show")):(e("#not-found-modal #search_value").text(e("#multi_search").val().trim()),e("#not-found-modal").modal("show"))}else""===e("#multi_cat").val()?e(".ui-autocomplete.ui-widget:visible").length&&checkAutocompleteValuesForAutoselect():(e("#not-found-modal #search_value").text(e("#multi_search").val().trim()),e("#not-found-modal").modal("show"));else e("#not-found-modal #search_value").text(""),e("#not-found-modal").modal("show")})),e("#multi_search_m").catcomplete({minLength:3,source:function(t,a){var i=t.term;i in d?a(d[i]):e.getJSON("/pages/autocomplete.php?mlsIds="+e("#mls_list").val(),{term:t.term},(function(e,t,o){d[i]=e,a(e)}))},select:function(t,a){null!=a.item.category&&e("#multi_cat").val(a.item.category),e("#multi_search").val(a.item.value),e("#multi_search_m").val(a.item.value),document.activeElement.blur(),doFullSearch(!0,!0,1)},open:function(t){e(".ui-autocomplete").off("menufocus hover mouseover mouseenter")},change:function(e,t){}}),(new WOW).init(),jQuery(window).load((function(){jQuery("#preloader").delay(100).fadeOut("slow"),jQuery("#load").delay(100).fadeOut("slow")})),e("#multi_search").focus((function(){e("#multi_search").catcomplete("search")})),e("#more-options").on("shown.bs.modal",(function(t){e(".modal-backdrop").height("100%")})),e("#multi_search_m").focus((function(){""==e("#multi_search_m").val()&&e("#currentLocation2").show()})),e("#multi_search_m").blur((function(){setTimeout((function(){e("#currentLocation2").hide()}),500)})),e("#multi_search_m").keydown((function(){e("#currentLocation2").hide()})),e("#currentLocation2").click((function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){e("#hlat").val(t.coords.latitude),e("#hlng").val(t.coords.longitude),nearbySearch()})),e("#currentLocation2").hide()})),e((function(){if(e.ajax({url:"/pages/states.php?mlses="+e("#mls_prefix").val(),dataType:"json"}).done((function(t){if(1==t.status){for(var a="",i=0;i<t.data.states.length;i++)a+=t.data.states[i]+",";e("#mls_states").val(a.substr(0,a.length-1));var o="no";for(i=0;i<t.data.mls.length;i++)if(1==t.data.mls[i].new_autocomplete){o="yes";break}e("#new_autocomplete").val(o)}e("body").trigger("mlsStatesLoaded")})),-1!=window.location.hash.indexOf("year")&&c(window.location.hash,"year")){var t=getHashValue("year").substr(0,getHashValue("year").indexOf(":")),a=!1;0===checkarrayValue(t,array_years)&&(a=!0),a&&e("#yearFull").append(e("<option>",{value:t,text:t}))}if(-1!=window.location.hash.indexOf("price")&&c(window.location.hash,"price")){var i,o=getHashValue("price").substr(0,getHashValue("price").indexOf(":")),n=!1,r=getHashValue("price").substr(getHashValue("price").indexOf(":")+1),s=!1;0===checkarrayValue(o,priceArray)&&0!=o&&(i=getArrayIndex(parseInt(o),priceArray),n=!0),n&&priceArray.splice(i,0,parseInt(o)),0===checkarrayValue(r,priceArray)&&0!=r&&(i=getArrayIndex(parseInt(r),priceArray),s=!0),s&&priceArray.splice(i,0,parseInt(r))}if("/search"===window.location.pathname||"/search.php"===window.location.pathname){var l=setDropdownLimit(1e3,priceArray,"max_price","greater","$");e("#max_price").html('<option value="0">Max</option>'+l),e("#max_price_m").html('<option value="0">Max</option>'+l);l=setDropdownLimit(5e6,priceArray,"min_price","lower","$");e("#min_price").html('<option value="0">Min</option>'+l),e("#min_price_m").html('<option value="0">Min</option>'+l)}else{l=setDropdownLimit(1e3,priceArray,"max_price","greater","$");e("#max_price").html('<option value="0">Max</option>'+l),e("#max_price_m").html('<option value="0">Max</option>'+l);l=setDropdownLimit(5e6,priceArray,"min_price","lower","$");e("#min_price").html('<option value="0">Min</option>'+l),e("#min_price_m").html('<option value="0">Min</option>'+l);let t=setDropdownLimitAdvancedSearch(1e3,priceArray,"max_price","greater","$");e("#max_price_checkbox").html('<label data-value="0" data-selected="" onclick="selectCustomValue(\'0\',\'max_price\',this)">Max</label>'+t);let a=setDropdownLimitAdvancedSearch(5e6,priceArray,"min_price","lower","$");e("#min_price_checkbox").html('<label data-value="0" data-selected="" onclick="selectCustomValue(\'0\',\'min_price\',this)">Min</label>'+a)}if(e(".type-dropdown-wrapper #hFilterType").val(""),e(".type-dropdown-wrapper #type-all-listings").attr("checked",!0),e(".type-dropdown span").text("All Listings"),"map_with_search"==map_with_search&&(qstrValue="",window.location.hash?setUIFromHash(window.location.hash):setUIFromHash(default_search),doFullSearch(!1,!0,1)),"map_view"==qstrValue)setUIFromHash(window.location.hash),""!=e("#hmulti_search").val()||-1!=window.location.hash.indexOf("polygon")?(qstrValue="",doFullSearch(!1,!0,1)):mapviewsearch(!0,!0,1);else if(window.location.hash){if("#no-default"!=window.location.hash){setUIFromHash(window.location.hash);e("body").on("mlsStatesLoaded",(function(){doFullSearch(!1,!0,1),!0}))}}else""!=default_search?(setUIFromHash(default_search),doFullSearch(!1,!0,1)):"map_view"!=getCurrentTypeView()&&(setUIFromHash("#?q_sort="+(e("#default_sort").val()||"createdAt-")),doFullSearch(!1,!0,1));if(e('button[data-toggle="tab"]').on("shown.bs.tab",(function(t){var a=e(t.target).attr("href");"#saved-properties"==a?getFavorites(!0):"#saved-searches"==a&&(e("#saved-searches-container").hide(),e("#saved-searches-loading").show(),e.ajax({url:"/pages/get_saved_searches.php?return_type=html",dataType:"json"}).done((function(t){e("#saved-searches-loading").hide(),e("#saved-searches-container").show(),1==t.status?(""==t.searches&&(t.searches="<label>No searches saved.</label>"),e("#saved-searches-container").html(t.searches)):e("#saved-searches-container").html("<label>"+t.msg+"</label>")})))})),e("#map-toggle-btn").bind("click",(function(){if(mapMobileShowing=!0,e("#marker_div").hide(),e("#map-container-mobile").show(),mapMobileStarted){removeMarkersMobile();i=0;bounds=new google.maps.LatLngBounds;for(o=e("#hfavorites").val().split(","),n=0;n<properties.length;n++)addPropertyMobile(properties[n],i,o),i+=2;mapMobile.fitBounds(bounds)}else{mapMobileStarted=!0;var t={zoom:13,minZoom:4,center:new google.maps.LatLng(40.5081,-111.869),mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:!1,panControl:!0,mapTypeControl:!0,scaleControl:!0,streetViewControlOptions:{style:google.maps.ZoomControlStyle.LARGE,position:google.maps.ControlPosition.LEFT_TOP},zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_TOP}};(mapMobile=new google.maps.Map(document.getElementById("map-container-mobile"),t)).setOptions({style:styles});var a=document.createElement("div");new drawButton(a,mapMobile,!0);a.index=1,mapMobile.controls[google.maps.ControlPosition.TOP_RIGHT].push(a),google.maps.event.addListener(mapMobile,"click",(function(){e("#marker_div").hide()})),google.maps.event.addListener(mapMobile,"drag",(function(){e("#marker_div").hide()}));var i=0;bounds=new google.maps.LatLngBounds;for(var o=e("#hfavorites").val().split(","),n=0;n<properties.length;n++)addPropertyMobile(properties[n],i,o),i+=2;""!=e("#location").val()&&(polygonGlobal=new google.maps.Polygon({clickable:!1,paths:polygonCoordsGlobal,strokeColor:"#656b70",strokeOpacity:.7,strokeWeight:2,fillColor:"#656b70",fillOpacity:.2})).setMap(mapMobile),mapMobile.fitBounds(bounds),e("#listing-grid-results-container").hide()}})),e("#gallery-toggle-btn").bind("click",(function(){mapMobileShowing=!1,e("#marker_div").hide(),e("#map-container-mobile").hide(),e("#listing-grid-results-container").show()})),e(".listingFilters").bind("click",(function(){var t=e(this).attr("id");e("#"+t).hasClass("active")?(e("#"+t).removeClass("active"),e("#h"+t).val("")):(e("#"+t).addClass("active"),e("#h"+t).val("true")),doFullSearch(!0,!0,1)})),e("#fullSearchBtn").bind("click",(function(){doFullSearch(!0,!0,1)})),e("#multi_search").bind("blur",(function(){e("#multi_search_m").val(e(this).val())})),e("#multi_search_m").bind("blur",(function(){e("#multi_search").val(e(this).val()),doFullSearch(!0,!0,1)})),e("#multi_search").keypress((function(e){13==e.which&&doFullSearch(!0,!0,1)})),e("#multi_search_m").keypress((function(e){13==e.which&&doFullSearch(!0,!0,1)})),e(".membersAreaBtn").bind("click",(function(){e("#member-area").collapse("toggle"),e(".myAccountIcon").hasClass("ss-heart")?(e(".myAccountIcon").removeClass("ss-heart"),e(".myAccountIcon").addClass("ss-navigateup")):(e(".myAccountIcon").addClass("ss-heart"),e(".myAccountIcon").removeClass("ss-navigateup"))})),e("#closeSignupBtn").bind("click",(function(){e("#member-area").collapse("hide")})),e("#closeLoginBtn").bind("click",(function(){e("#member-area").collapse("hide")})),e(".moreOptionsBtn").bind("click",(function(){moreOptionsLoaded||e("#more-filter-pop").append('<div id="lock-more-filter"> <p> Loading Options... </p> </div>')})),e(".bedroomsBtn").bind("click",(function(){setButtonsSelect(this,"bedrooms")})),e(".bathroomsBtn").bind("click",(function(){setButtonsSelect(this,"bathrooms")})),e(".garageBtn").bind("click",(function(){setButtonsSelect(this,"garage")})),e('.type-dropdown-wrapper input[type="checkbox"]').click((function(){"open_houses"===e(this).val()||"new_listings"===e(this).val()||"price_reduced"===e(this).val()?(e(".type-dropdown-wrapper #type-all-listings").attr("checked",!1),array_selected_filters.includes(e(this).val())?array_selected_filters=array_selected_filters.filter((t=>t!=e(this).val())):array_selected_filters.push(e(this).val()),array_selected_filters.length>0?(e(".type-dropdown-wrapper #hFilterType").val(array_selected_filters.join()),e(".type-dropdown span").text(array_selected_filters.join(", ").replaceAll("_"," "))):(e(".type-dropdown span").text("All Listings"),e(".type-dropdown-wrapper #hFilterType").val(""),e(".type-dropdown-wrapper #type-all-listings").attr("checked",!0))):(array_selected_filters=[],e(".type-dropdown-wrapper #type-all-listings").attr("checked",!0),e(".type-dropdown-wrapper #type-open-houses").attr("checked",!1),e(".type-dropdown-wrapper #type-new-listings").attr("checked",!1),e(".type-dropdown-wrapper #type-price-reduced").attr("checked",!1),e(".type-dropdown-wrapper #hFilterType").val(""),e(".type-dropdown span").text("All Listings")),"map_view"==qstrValue?mapviewsearch(!0,!0,1):doFullSearch(!0,!0,1)})),e(".building-dropdown-wrapper").on("change",'input[type="checkbox"]',(function(){let t=e("#hFilterBuilding").val().split(",").filter((e=>e.length>0));e(this).prop("checked")&&!t.some((t=>t==e(this).val()))?t.push(e(this).val()):t=t.filter((t=>t!==e(this).val())),e("#hFilterBuilding").val(t.join(",")),e("#hmulti_search").val(""),e("#hmuli_select").val(""),"map_view"===qstrValue?mapviewsearch(!0,!0,1):doFullSearch(!0,!0,1)})),e("#sortOption").change((function(){var t=e(this).val();e("#sortFull").val(t),"map_view"==qstrValue?mapviewsearch(!0,!0,1):doFullSearch(!0,!0,1)})),e("#min_bedrooms").change((function(){var t=e(this).val(),a=setDropdownLimit(t,minMaxNumArray,"max_bedrooms","greater","");e("#max_bedrooms").html('<option value="0">No Max</option>'+a),e("#min_bedrooms_m").html('<option value="0">No Max</option>'+a),e("#min_bedrooms_m").val(t),"map_view"==qstrValue?mapviewsearch(!0,!0,1):doFullSearch(!0,!0,1,!0);let i=e("#max_bedrooms").val();if("/search"!==window.location.pathname){let a=setDropdownLimitAdvancedSearch(t,minMaxNumArray,"max_bedrooms","greater","");e("#max_bedrooms_checkbox").html('<label data-value="0" data-selected="" onclick="selectCustomValue(\'0\',\'max_price\',this)">Max</label>'+a)}e("#dropdownMenuBedrooms").text(t+" : "+i)})),e("#max_bedrooms").change((function(){var t=e(this).val(),a=setDropdownLimit(t,minMaxNumArray,"min_bedrooms","lower","");if(e("#min_bedrooms").html('<option value="0">No Min</option>'+a),e("#max_bedrooms_m").html('<option value="0">No Min</option>'+a),e("#max_bedrooms_m").val(t),"/search"!==window.location.pathname){let a=setDropdownLimitAdvancedSearch(t,minMaxNumArray,"min_bedrooms","lower","");e("#min_bedrooms_checkbox").html('<label data-value="0" data-selected="" onclick="selectCustomValue(\'0\',\'min_price\',this)">Min</label>'+a)}"map_view"==qstrValue?mapviewsearch(!0,!0,1):doFullSearch(!0,!0,1,!0);let i=e("#min_bedrooms").val();e("#dropdownMenuBedrooms").text(i+" : "+t)})),e("#min_bedrooms_m").change((function(){var t=e(this).val(),a=setDropdownLimit(t,minMaxNumArray,"max_bedrooms_m","greater","");e("#max_bedrooms_m").html('<option value="0">Max</option>'+a),e("#min_bedrooms").html('<option value="0">Max</option>'+a),e("#min_bedrooms").val(t),moreOptionsChanged=!0})),e("#max_bedrooms_m").change((function(){var t=e(this).val(),a=setDropdownLimit(t,minMaxNumArray,"min_bedrooms_m","lower","");e("#min_bedrooms_m").html('<option value="0">Min</option>'+a),e("#max_bedrooms").html('<option value="0">Min</option>'+a),e("#max_bedrooms").val(t),moreOptionsChanged=!0})),e("#showWithPhotos").change((function(){moreOptionsChanged=!0})),e("#new_listings_m, #open_houses_m, #price_reduced_m").change((function(){moreOptionsChanged=!0})),e("#min_bathrooms").change((function(){var t=e(this).val(),a=setDropdownLimit(t,minMaxNumArray,"max_bathrooms","greater","");if(e("#max_bathrooms").html('<option value="0">No Max</option>'+a),e("#min_bathrooms_m").html('<option value="0">No Min</option>'+a),e("#min_bathrooms_m").val(t),"/search"!==window.location.pathname){let a=setDropdownLimitAdvancedSearch(t,minMaxNumArray,"max_bathrooms","greater","");e("#max_bathrooms_checkbox").html('<label data-value="0" data-selected="" onclick="selectCustomValue(\'0\',\'max_price\',this)">Max</label>'+a)}"map_view"==qstrValue?mapviewsearch(!0,!0,1):doFullSearch(!0,!0,1,!0)})),e("#max_bathrooms").change((function(){var t=e(this).val(),a=setDropdownLimit(t,minMaxNumArray,"min_bathrooms","lower","");if(e("#min_bathrooms").html('<option value="0">No Min</option>'+a),e("#max_bathrooms_m").html('<option value="0">No Min</option>'+a),e("#max_bathrooms_m").val(t),"/search"!==window.location.pathname){let a=setDropdownLimitAdvancedSearch(t,minMaxNumArray,"min_bathrooms","lower","");e("#min_bathrooms_checkbox").html('<label data-value="0" data-selected="" onclick="selectCustomValue(\'0\',\'min_price\',this)">Min</label>'+a)}"map_view"==qstrValue?mapviewsearch(!0,!0,1):doFullSearch(!0,!0,1,!0),moreOptionsChanged=!0})),e("#min_bathrooms_m").change((function(){var t=e(this).val(),a=setDropdownLimit(t,minMaxNumArray,"max_bathrooms_m","greater","");e("#max_bathrooms_m").html('<option value="0">Max</option>'+a),e("#max_bathrooms").html('<option value="0">Max</option>'+a),e("#min_bathrooms").val(t),moreOptionsChanged=!0})),e("#max_bathrooms_m").change((function(){var t=e(this).val(),a=setDropdownLimit(t,minMaxNumArray,"min_bathrooms_m","lower","");e("#min_bathrooms_m").html('<option value="0">Min</option>'+a),e("#min_bathrooms").html('<option value="0">Min</option>'+a),e("#max_bathrooms").val(t),moreOptionsChanged=!0})),e("#min_price").change((function(){var t=e(this).val(),a=setDropdownLimit(t,priceArray,"max_price","greater","$");if(e("#max_price").html('<option value="0">Max</option>'+a),e("#max_price_m").html('<option value="0">Max</option>'+a),e("#min_price_m").val(t),"/search"!==window.location.pathname){let a=setDropdownLimitAdvancedSearch(t,priceArray,"max_price","greater","$");e("#max_price_checkbox").html('<label data-value="0" data-selected="" onclick="selectCustomValue(\'0\',\'max_price\',this)">Max</label>'+a)}"map_view"==qstrValue?mapviewsearch(!0,!0,1):doFullSearch(!0,!0,1,!0),moreOptionsChanged=!0})),e("#max_price").change((function(){var t=e(this).val(),a=setDropdownLimit(t,priceArray,"min_price","lower","$");if(e("#min_price").html('<option value="0">Min</option>'+a),e("#min_price_m").html('<option value="0">Min</option>'+a),e("#max_price_m").val(t),"/search"!==window.location.pathname){let a=setDropdownLimitAdvancedSearch(t,priceArray,"min_price","lower","$");e("#min_price_checkbox").html('<label data-value="0" data-selected="" onclick="selectCustomValue(\'0\',\'min_price\',this)">Min</label>'+a)}"map_view"==qstrValue?mapviewsearch(!0,!0,1):doFullSearch(!0,!0,1,!0),moreOptionsChanged=!0})),e("#min_price_m").change((function(){var t=e(this).val(),a=setDropdownLimit(t,priceArray,"max_price_m","greater","$");e("#max_price").html('<option value="0">Max</option>'+a),e("#max_price_m").html('<option value="0">Max</option>'+a),e("#min_price").val(t),moreOptionsChanged=!0})),e("#max_price_m").change((function(){var t=e(this).val(),a=setDropdownLimit(t,priceArray,"min_price_m","lower","$");e("#min_price").html('<option value="0">Min</option>'+a),e("#min_price_m").html('<option value="0">Min</option>'+a),e("#max_price").val(t),moreOptionsChanged=!0})),e("#custom-neighborhood").change((function(){var t=e(this).val();e("#custom-neighborhood_m").val(t),"map_view"==qstrValue?mapviewsearch(!0,!0,1):doFullSearch(!0,!0,1)})),e("#custom-neighborhood_m").change((function(){var t=e(this).val();e("#custom-neighborhood").val(t),"map_view"==qstrValue?mapviewsearch(!0,!0,1):doFullSearch(!0,!0,1)})),e("#min_sqt").change((function(){var t=e(this).val(),a=setDropdownLimit(t,sqFeetArray,"max_sqt","greater","");if(e("#max_sqt").html('<option value="0">No Max</option>'+a),"/search"!==window.location.pathname){let a=setDropdownLimitAdvancedSearch(t,sqFeetArray,"max_sqt","greater","");e("#max_sqt_checkbox").html('<label data-value="0" data-selected="" onclick="selectCustomValue(\'0\',\'max_price\',this)">Max</label>'+a)}moreOptionsChanged=!0})),e("#max_sqt").change((function(){var t=e(this).val(),a=setDropdownLimit(t,sqFeetArray,"min_sqt","lower","");if(e("#min_sqt").html('<option value="0">No Min</option>'+a),"/search"!==window.location.pathname){let a=setDropdownLimitAdvancedSearch(t,sqFeetArray,"min_sqt","lower","");e("#min_sqt_checkbox").html('<label data-value="0" data-selected="" onclick="selectCustomValue(\'0\',\'min_price\',this)">Min</label>'+a)}moreOptionsChanged=!0})),e("#lotSizeFull").change((function(){"map_view"==qstrValue?mapviewsearch(!0,!0,1):doFullSearch(!0,!0,1)})),e("#min_lot").change((function(){var t=e(this).val(),a=setDropdownLimit(t,lotArray,"max_lot","greater","");if(e("#max_lot").html('<option value="0">No Max</option>'+a),"/search"!==window.location.pathname){let a=setDropdownLimitAdvancedSearch(t,lotArray,"max_lot","greater","");e("#max_lot_checkbox").html('<label data-value="0" data-selected="" onclick="selectCustomValue(\'0\',\'max_price\',this)">Max</label>'+a)}moreOptionsChanged=!0})),e("#max_lot").change((function(){var t=e(this).val(),a=setDropdownLimit(t,lotArray,"min_lot","lower","");if(e("#min_lot").html('<option value="0">No Min</option>'+a),"/search"!==window.location.pathname){let a=setDropdownLimitAdvancedSearch(t,lotArray,"min_lot","lower","");e("#min_lot_checkbox").html('<label data-value="0" data-selected="" onclick="selectCustomValue(\'0\',\'min_price\',this)">Min</label>'+a)}moreOptionsChanged=!0})),e("#min_year").change((function(){var t=e(this).val(),a=setDropdownLimit(t,yearArray,"max_year","greater","");if(e("#max_year").html('<option value="0">No Max</option>'+a),"/search"!==window.location.pathname){let a=setDropdownLimitAdvancedSearch(t,yearArray,"max_year","greater","");e("#max_year_checkbox").html('<label data-value="0" data-selected="" onclick="selectCustomValue(\'0\',\'max_price\',this)">Max</label>'+a)}moreOptionsChanged=!0})),e("#max_year").change((function(){var t=e(this).val(),a=setDropdownLimit(t,yearArray,"min_year","lower","");if(e("#min_year").html('<option value="0">No Min</option>'+a),"/search"!==window.location.pathname){let a=setDropdownLimitAdvancedSearch(t,yearArray,"min_year","lower","");e("#min_year_checkbox").html('<label data-value="0" data-selected="" onclick="selectCustomValue(\'0\',\'min_price\',this)">Min</label>'+a)}moreOptionsChanged=!0})),e("#status-filters input:checkbox").change((function(){"map_view"==qstrValue?mapviewsearch(!0,!0,1):doFullSearch(!0,!0,1)})),e("#stories").change((function(){e("#h_stories").val(e(this).val()),moreOptionsChanged=!0;let t=window.location.hash;t=t.replace("&oneStory=true",""),t=t.replace("&twoStory=true",""),t=t.replace("&threePlusStory=true",""),location.hash="#"+t})),e("#min_garage").change((function(){var t=e(this).val(),a=setDropdownLimit(t,minMaxNumArray,"max_garage","greater","");if(e("#max_garage").html('<option value="0">No Max</option>'+a),"/search"!==window.location.pathname){let a=setDropdownLimitAdvancedSearch(t,minMaxNumArray,"max_garage","greater","");e("#max_garage_checkbox").html('<label data-value="0" data-selected="" onclick="selectCustomValue(\'0\',\'max_price\',this)">Max</label>'+a)}moreOptionsChanged=!0})),e("#max_garage").change((function(){var t=e(this).val(),a=setDropdownLimit(t,minMaxNumArray,"min_garage","lower","");if(e("#min_garage").html('<option value="0">No Min</option>'+a),"/search"!==window.location.pathname){let a=setDropdownLimitAdvancedSearch(t,minMaxNumArray,"min_garage","lower","");e("#min_garage_checkbox").html('<label data-value="0" data-selected="" onclick="selectCustomValue(\'0\',\'min_price\',this)">Min</label>'+a)}moreOptionsChanged=!0})),e("#min_spaces").change((function(){var t=setDropdownLimit(e(this).val(),minMaxNumArray,"max_spaces","greater","");e("#max_spaces").html('<option value="0">No Max</option>'+t),"map_view"==qstrValue?mapviewsearch(!0,!0,1):doFullSearch(!0,!0,1,!0)})),e("#max_spaces").change((function(){var t=setDropdownLimit(e(this).val(),minMaxNumArray,"min_spaces","lower","");e("#min_spaces").html('<option value="0">No Min</option>'+t),"map_view"==qstrValue?mapviewsearch(!0,!0,1):doFullSearch(!0,!0,1,!0)})),e(".myAccountBtn").bind("click",(function(){e("#my-account").collapse("toggle"),e(".myAccountIcon").hasClass("ss-heart")?(e(".myAccountIcon").removeClass("ss-heart"),e(".myAccountIcon").addClass("ss-navigateup")):(e(".myAccountIcon").addClass("ss-heart"),e(".myAccountIcon").removeClass("ss-navigateup")),getFavorites(!0)})),e("#saveSearchBtn").bind("click",(function(){saveSearch()})),e(".page-scroll a").bind("click",(function(t){var a=e(this);e("html, body").stop().animate({scrollTop:e(a.attr("href")).offset().top},1500,"easeInOutExpo"),t.preventDefault()})),e(document).click((function(t){var a=e(t.target);!0!==e(".navbar-collapse").hasClass("navbar-collapse in")||a.hasClass("navbar-toggle")||e("button.navbar-toggle").click()})),"gallery_view"!=qstrValue){var d={zoom:13,minZoom:4,center:new google.maps.LatLng(40.5081,-111.869),mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:!1,panControl:!0,mapTypeControl:!0,scaleControl:!0,streetViewControlOptions:{style:google.maps.ZoomControlStyle.LARGE,position:google.maps.ControlPosition.LEFT_TOP},zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_TOP}};(map=new google.maps.Map(document.getElementById("map-container"),d)).setOptions({styles:styles});var u=document.createElement("div"),h=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);new drawButton(u,map,h);u.index=1,map.controls[google.maps.ControlPosition.TOP_RIGHT].push(u)}e(".moreOptionsDisabledBtn").click((function(t){t.preventDefault(),e(".moreOptionsDisabledBtn").tooltip().mouseover()}))}))}(jQuery);var elems=Array.prototype.slice.call(document.querySelectorAll(".js-switch"));elems.forEach((function(e){new Switchery(e)})),
/*!
 * classie - class helper functions
 * from bonzo https://github.com/ded/bonzo
 *
 * classie.has( elem, 'my-class' ) -> true/false
 * classie.add( elem, 'my-new-class' )
 * classie.remove( elem, 'my-unwanted-class' )
 * classie.toggle( elem, 'my-class' )
 */
function(e){"use strict";function t(e){return new RegExp("(^|\\s+)"+e+"(\\s+|$)")}var a,i,o;function n(e,t){(a(e,t)?o:i)(e,t)}"classList"in document.documentElement?(a=function(e,t){return e.classList.contains(t)},i=function(e,t){e.classList.add(t)},o=function(e,t){e.classList.remove(t)}):(a=function(e,a){return t(a).test(e.className)},i=function(e,t){a(e,t)||(e.className=e.className+" "+t)},o=function(e,a){e.className=e.className.replace(t(a)," ")});var r={hasClass:a,addClass:i,removeClass:o,toggleClass:n,has:a,add:i,remove:o,toggle:n};"function"==typeof define&&define.amd?define(r):e.classie=r}(window),function(){var e;function t(e){classie.add(e.target.parentNode,"input--filled")}function a(e){""===e.target.value.trim()&&classie.remove(e.target.parentNode,"input--filled")}String.prototype.trim||(e=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,String.prototype.trim=function(){return this.replace(e,"")}),[].slice.call(document.querySelectorAll(".input__field--yoshiko")).forEach((function(e){""!==e.value.trim()&&classie.add(e.parentNode,"input--filled"),e.addEventListener("focus",t),e.addEventListener("blur",a)})),[].slice.call(document.querySelectorAll(".input__field--yoko")).forEach((function(e){""!==e.value.trim()&&classie.add(e.parentNode,"input--filled"),e.addEventListener("focus",t),e.addEventListener("blur",a)}))}();var gblDrawListeners={};function drawButton(e,t,a){var i=document.createElement("button");i.style.backgroundColor="#fff",i.style.border="2px solid #fff",i.style.borderRadius="3px",i.style.boxShadow="0 2px 6px rgba(0,0,0,.3)",i.style.cursor="pointer",i.style.marginTop="10px",i.style.marginRight="10px",i.style.textAlign="center",i.title="Click to do a search by drawing",e.appendChild(i);var o=document.createElement("div");o.style.color="rgb(25,25,25)",o.style.fontFamily="Roboto,Arial,sans-serif",o.style.fontSize="12px",""==$("#location").val()?o.innerHTML='<i class="ss-location"></i> Draw':o.innerHTML="Cancel",o.style.paddingLeft="5px",o.style.paddingRight="5px",o.style.lineHeight="28px",a?o.setAttribute("id","drawBtnTextM"):o.setAttribute("id","drawBtnText"),""==$("#location").val()?o.setAttribute("is-active",!1):(o.setAttribute("is-active",!0),showMoreOptions()),i.appendChild(o),i.addEventListener("click",(function(){a?"true"==$("#drawBtnTextM").attr("is-active")?($("#drawBtnTextM").attr("is-active",!1),$("#drawBtnTextM").html('<i class="ss-location"></i> Draw'),enableMap(t),polygonGlobal.setMap(null),$("#location").val(""),enableScroll(),google.maps.event.clearListeners(t.getDiv(),"mousedown"),google.maps.event.removeListener(gblDrawListeners.move),google.maps.event.clearListeners(t,"mouseup"),removePolygonFromHash(),hideMoreOptions()):(removeMarkers(),markersClusterer&&markersClusterer.clearMarkers(),$("#drawBtnTextM").attr("is-active",!0),$("#drawBtnTextM").html("X"),disableMap(t),disableScroll(),$("#listing-grid-results").length&&$("html, body").animate({scrollTop:$("#listing-grid-results").offset().top},200),google.maps.event.addDomListener(t.getDiv(),"mousedown",(function(e){drawFreeHand(t,a)})),drawFreeHand(t,a),$(".gm-fullscreen-control").trigger("click"),navigator.userAgent.includes("iPhone")&&($("html, body").css({position:"absolute",overflow:"hidden",width:"100%",height:"100%"}),$("#map-container").get(0).scrollIntoView())):"true"==$("#drawBtnText").attr("is-active")?($("#drawBtnText").attr("is-active",!1),$("#drawBtnText").html('<i class="ss-location"></i> Draw'),enableMap(t),polygonGlobal.setMap(null),$("#location").val(""),google.maps.event.clearListeners(t.getDiv(),"mousedown"),google.maps.event.removeListener(gblDrawListeners.move),google.maps.event.clearListeners(t,"mouseup"),removePolygonFromHash(),hideMoreOptions()):(removeMarkers(),markersClusterer&&markersClusterer.clearMarkers(),$("#drawBtnText").attr("is-active",!0),$("#drawBtnText").html("Cancel"),disableMap(t),google.maps.event.addDomListener(t.getDiv(),"mousedown",(function(e){drawFreeHand(t,a)})))}))}function drawFreeHand(e,t){poly=new google.maps.Polyline({map:e,clickable:!1,strokeColor:"#656b70",strokeOpacity:.7,strokeWeight:2,fillColor:"#656b70",fillOpacity:.2}),gblDrawListeners.move=google.maps.event.addListener(e,"mousemove",(function(e){poly.getPath().push(e.latLng)})),google.maps.event.addListenerOnce(e,"mouseup",(function(a){google.maps.event.removeListener(gblDrawListeners.move);var i=poly.getPath();if(i.length>0){poly.setMap(null),polygonGlobal=new google.maps.Polygon({map:e,path:i,strokeColor:"#656b70",strokeOpacity:.7,strokeWeight:2,fillColor:"#656b70",fillOpacity:.2}),google.maps.event.clearListeners(e.getDiv(),"mousedown");for(var o=polygonGlobal.getPath().getArray(),n="",r=0,s=0;s<o.length;s++)0==r?n+="("+o[s].lat().toFixed(8)+","+o[s].lng().toFixed(8)+"),":4==r&&(r=-1),r++;""!=n&&$("#location").val(n.substr(0,n.length-1)),t&&(removeMarkersMobile(),$(".gm-fullscreen-control").trigger("click"),navigator.userAgent.includes("iPhone")&&$("html, body").css({position:"static",overflow:"auto"})),enableScroll(),enableMap(e),$("html,body").animate({scrollTop:$("#map-container").position().top},"slow"),doFullSearch(!0,!0,1),showMoreOptions()}}))}var keys={37:1,38:1,39:1,40:1};function preventDefault(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}function preventDefaultForScrollKeys(e){if(keys[e.keyCode])return preventDefault(e),!1}function disableScroll(){window.addEventListener&&window.addEventListener("DOMMouseScroll",preventDefault,!1),window.onwheel=preventDefault,window.onmousewheel=document.onmousewheel=preventDefault,window.ontouchmove=preventDefault,document.onkeydown=preventDefaultForScrollKeys}function enableScroll(){window.removeEventListener&&window.removeEventListener("DOMMouseScroll",preventDefault,!1),window.onmousewheel=document.onmousewheel=null,window.onwheel=null,window.ontouchmove=null,document.onkeydown=null}function disableMap(e){e.setOptions({draggable:!1,scrollwheel:!1,disableDoubleClickZoom:!0,text:""})}function enableMap(e){e.setOptions({draggable:!0,scrollwheel:!0,disableDoubleClickZoom:!1})}function doAction(){var e=$("#haction").val().split("|");if(14==e.length&&"addFavorite"==e[0]){var t=e[1].split("_");saveFavorite(e[1],!1,t[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13]),addAnalytics(e[4],e[12],e[2],e[3],e[13],e[10],e[9],e[11],e[5],e[7],e[6],e[8]),getFavorites(!1),$("#haction").val("")}}function addAnalytics(e,t,a,i,o,n,r,s,l,c,d,u){$.ajax({url:"/pages/is_logged.php",data:{user_info:"yes"},method:"POST",dataType:"json"}).done((function(h){if(h.logged){var p={address:e,photo_url:t,type:"property_view",uuid:h.uuid,lead_id:h.user_id,blossor_id:a,price:i,url:window.location.href,property_id:o,beds:n,baths:r,sqft:s,city:l,zip:c,state:d,neighborhood:u,first_name:h.lead_data.first_name,last_name:h.lead_data.last_name};$.ajax({url:"/pages/analytics.php",data:p,dataType:"json"}).done((function(e){trackSiteVisit()}))}}))}function validateEmail(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}function nearbySearch(){$("#hradius").val(1),doFullSearch(!0,!0,1)}function getFavorites(e){$("#saved-properties-container").hide(),$("#saved-properties-loading").show();var t="/pages/get_favorites.php?return_type=html";e||(t="/pages/get_favorites.php"),$.ajax({url:t,dataType:"json"}).done((function(t){if($("#saved-properties-loading").hide(),$("#saved-properties-container").show(),1==t.status)if(e)""==t.favorites&&(t.favorites="<label>No favorites saved.</label>"),$("#saved-properties-container").html(t.favorites);else{for(var a="",i=0;i<t.favorites.length;i++)a+=t.favorites[i].mls_id+"_"+t.favorites[i].mls_num+",";$("#hfavorites").val(a.substr(0,a.length-1)),window.location.hash&&doFullSearch(!1,!1,1)}else $("#saved-properties-container").html("<label>"+t.msg+"</label>")}))}function saveFavoriteBtn(e,t,a,i){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}function setButtonsSelect(e,t){var a=$("#h"+t).val(),i=$(e).attr("value");$("."+t+"Btn").removeClass("active"),a!=i?($("."+t+"Btn"+i).addClass("active"),$("#h"+t).val(i)):$("#h"+t).val(""),doFullSearch(!0,!0,1)}function setSearchTag(e,t){if($(".searchtag_"+e).remove(),isfromMoreOptions(e))$(".listing-grid-tags").append("");else{let a=t.replace("'","%27");t=t.includes("- MLS")?t.replace("- MLS","- Listing ID"):t,$(".listing-grid-tags").append('<button id="searchtag_'+e+'" onclick="removeFilter(\'searchtag_'+e+"','"+a+'\')" class="btn search-tag"><span>'+t+"</span></button>")}}function loadPropertyTypes(){moreOptionsLoaded||($("#waterbodyField").hide(),$.ajax({url:"/pages/more_options.php",dataType:"json"}).done((function(e){!1===e.status?($("#lock-more-filter > p").text("Load options failed"),setTimeout($("#lock-more-filter").remove,2e3)):$("#lock-more-filter").length>0&&$("#lock-more-filter").remove();for(var t=e.data.propertyType,a=$("#hpropertyType").val().split("|"),i=0;i<a.length;i++)a[i]=decodeURIComponent(replaceAll("+"," ",a[i]));for(i=0;i<t.length;i++){var o="";-1!=a.indexOf(t[i])&&(o="active");var n=t[i].replace(/ /g,"_"),r=replaceAll("%20","+",encodeURIComponent(t[i]));$("#pTypeContainer").append("<button onclick=\"pTypeClick('ptype_"+n+"','"+r+'\')" id="ptype_'+n+'" class="'+o+' btn btn-outline outline-dark pTypeFilter">'+t[i]+"</button>")}invertBorder(".pTypeFilter"),invertBorder(".listingFilters");var s=e.data&&e.data.searchFields&&Object.keys(e.data.searchFields).length?e.data.searchFields:[];$("#advanced-filters").empty(),$(".stories-field").hide(),$("#stories option:gt(0)").remove(),s&&s.Stories&&s.Stories.length&&($(".stories-field").show(),s.Stories.sort((function(e,t){return e.label<t.label?-1:e.label>t.label?1:0})),s.Stories.forEach((function(e){$("#stories").append('<option value="'+e.field+'">'+e.label+"</option>")})),$("#h_stories").val()&&$("#stories").val($("#h_stories").val()));var l=Object.keys(s).sort().filter((function(e){return"Style"!==e&&"Stories"!==e})),c="Popular Features",d=l.indexOf(c);if(-1!==d){var u=l[0];l[0]=c,l[d]=u}l.forEach((function(e){if("/search"===window.location.pathname||"/search.php"===window.location.pathname){var t=e.replace(" ","-");$("#advanced-filters").append('<h6><a data-toggle="collapse" data-target="#'+t+'">'+e+' <i class="fa fa-caret-down"></i></a></h6>');var a=document.createElement("div");a.className="row collapse",a.id=t,s[e].length>1&&s[e].sort((function(e,t){return e.label<t.label?-1:e.label>t.label?1:0})),s[e].forEach((function(e){var t='<div class="col-md-3 col-sm-6"><div class="toggle-button"><input id="'+getCleanId(e.field)+'" name="'+e.field+'" cat="'+e.searchCategory+'" type="checkbox" class="advancedSearchCheckbox"><label for="'+getCleanId(e.field)+'">'+(e.label||e.name)+'</label><div class="toggle-button__icon"></div></div> </div>';$(a).append(t)})),$("#advanced-filters").append(a)}else if("Heating"!==e){let t="checkbox"+e.replace(" ","_").toLowerCase(),a='<div class="col-xs-12 col-sm-6 col-md-4 margin-top-20"><div class="multiselect_aps" onmouseout="hideCheckboxes(\''+t+'\')"><div class="selectBox" onclick="showCheckboxes(\''+t+'\')" ><select class="form-control dropdown minimal" style="width: 250px;"><option>'+e+'</option></select><div class="overSelect"></div></div><div class="checkboxes" id="'+t+'" onmouseover="showCheckboxes(\''+t+"')\">";s[e].length>1&&s[e].sort((function(e,t){return e.label<t.label?-1:e.label>t.label?1:0}));let i="";s[e].forEach((function(e){i=i+'<label for="'+getCleanId(e.field)+'"><input type="checkbox" id="'+getCleanId(e.field)+'" name="'+e.field+'" />&ensp;'+(e.label||e.name)+"</label>"})),a=a+i+"</div></div></div>",$("#advanced-filters").append(a)}$("#loading").length&&$("#loading").css("display","none")})),advancedSearchParams.forEach((function(e){$("#advanced-filters #"+getCleanId(decodeURIComponent(e))+":checkbox").attr("checked",!0)})),$("#advanced-filters input:checkbox").change((function(){if(moreOptionsChanged=!0,$(this)&&$(this)[0]&&!$(this)[0].checked){let e=window.location.hash;e=e.replace("&"+encodeURI($(this)[0].name)+"=true",""),location.hash="#"+e}})),e.data.hasGarageCap?$(".hasGarageCap").show():($(".hasGarageCap").hide(),$(".col-md-2.search-filter").removeClass("col-md-2").addClass("col-md-3")),e.data&&e.data.waterbodyName&&e.data.waterbodyName.length&&($("#waterbodyField").show(),$("#waterbody").autocomplete({source:e.data.waterbodyName,select:function(e,t){$("#waterbody").val(t.item.label),setWaterbodyTag($("#waterbody").val()),moreOptionsChanged=!0},response:function(e,t){t.content.unshift({label:$(this).val(),value:$(this).val()})}}))})),moreOptionsLoaded=!0)}function getCleanId(e){return e.replace(/\W/g,"")}function setWaterbodyTag(e){$("#waterbody").hide(),$("#waterbodyField div .waterbody-tag").remove(),$("#waterbodyField > div").append('<button onclick="removeWaterbodyTag()" class="btn waterbody-tag"><span>'+(e||"")+"</span></button>")}function removeWaterbodyTag(){$("#waterbody").val(""),$("#waterbody").show(),$("#waterbodyField div .waterbody-tag").remove(),moreOptionsChanged=!0}function isfromMoreOptions(e){return-1!=["propertyType","sqfeet","lotsize","year","new_construction","short_sale","foreclosure","beds","baths","stories","garage","waterbody","status"].indexOf(e)}function setSearchTagRange(e,t,a,i){$(".searchtag_"+e).remove(),$(".listing-grid-tags").append("")}function sortFull(e){e!=$("#sortFull").val()&&($(".sortOption").removeClass("active"),$(".sortOption_"+e).addClass("active"),$("#sortFull").val(e),doFullSearch(!0,!0,1))}function setUIFromHash(e){window.location.hash&&""!=window.location.hash||(window.location.hash=e);for(var t=(e=e.replace("#?","")).split("&"),a=0;a<t.length;a++){var i=t[a].split("=");switch(i[0]){case"showlogin":"true"==i[1]&&$.get("/pages/login.php",(function(e){if(session=e,userData=JSON.parse(e),!1===userData.status){var t=$("#member-area");t.collapse("show"),t.find("#create").removeClass("active"),t.find("#create").removeClass("in"),t.find("#signin").addClass("active"),t.find("#signin").addClass("in")}}));break;case"signup":"true"==i[1]&&$.get("/pages/login.php",(function(e){session=e,userData=JSON.parse(e),!1===userData.status&&$("#member-area").collapse("show")}));break;case"q_limit":36!=i[1]?("map_vew"==qstrValue||""==qstrValue||"map_view_alternative"==qstrValue||"map_view"===getCurrentTypeView())&&$("#q_limit").val(1e7):$("#q_limit").val(i[1]);break;case"mls_id":$("#mls_id").val(i[1]);break;case"price":var o=i[1].split(":");""!=o[0]&&($("#min_price option[value='"+o[0]+"']").length||($("#min_price").append($("<option>",{value:o[0],text:makePrettyMoney(o[0])})),$("#min_price_m").append($("<option>",{value:o[0],text:makePrettyMoney(o[0])}))),$("#min_price").val(o[0]),$("#min_price_m").val(o[0])),""!=o[1]&&($("#max_price option[value='"+o[1]+"']").length||($("#max_price").append($("<option>",{value:o[1],text:makePrettyMoney(o[1])})),$("#max_price_m").append($("<option>",{value:o[1],text:makePrettyMoney(o[1])}))),$("#max_price").val(o[1]),$("#max_price_m").val(o[1]));break;case"bedrooms":var n=i[1].split(":");""!=n[0]&&($("#min_bedrooms option[value='"+n[0]+"']").length||($("#min_bedrooms").append($("<option>",{value:n[0],text:n[0]})),$("#min_bedrooms_m").append($("<option>",{value:n[0],text:n[0]}))),$("#min_bedrooms").val(n[0]),$("#min_bedrooms_m").val(n[0])),""!=n[1]&&($("#max_bedrooms option[value='"+n[1]+"']").length||($("#max_bedrooms").append($("<option>",{value:n[1],text:n[1]})),$("#max_bedrooms_m").append($("<option>",{value:n[1],text:n[1]}))),$("#max_bedrooms").val(n[1]),$("#max_bedrooms_m").val(n[1]));break;case"totalBaths":var r=i[1].split(":");""!=r[0]&&($("#min_bathrooms option[value='"+r[0]+"']").length||($("#min_bathrooms").append($("<option>",{value:r[0],text:r[0]})),$("#min_bathrooms_m").append($("<option>",{value:r[0],text:r[0]}))),$("#min_bathrooms").val(r[0]),$("#min_bathrooms_m").val(r[0])),""!=r[1]&&($("#max_bathrooms option[value='"+r[1]+"']").length||($("#max_bathrooms").append($("<option>",{value:r[1],text:r[1]})),$("#max_bathrooms_m").append($("<option>",{value:r[1],text:r[1]}))),$("#max_bathrooms").val(r[1]),$("#max_bathrooms_m").val(r[1]));break;case"garageCap":var s=i[1].split(":");""!=s[0]&&($("#min_garage option[value='"+s[0]+"']").length||$("#min_garage").append($("<option>",{value:s[0],text:s[0]})),$("#min_garage").val(s[0])),""!=s[1]&&($("#max_garage option[value='"+s[1]+"']").length||$("#max_garage").append($("<option>",{value:s[1],text:s[1]})),$("#max_garage").val(s[1]));break;case"parking.totalSpaces":var l=i[1].split(":");""!=l[0]&&($("#min_spaces option[value='"+l[0]+"']").length||$("#min_spaces").append($("<option>",{value:l[0],text:l[0]})),$("#min_spaces").val(l[0])),""!=l[1]&&($("#max_spaces option[value='"+l[1]+"']").length||$("#max_spaces").append($("<option>",{value:l[1],text:l[1]})),$("#max_spaces").val(l[1]));break;case"address.neighborhood":var c=decodeURIComponent(i[1]);$("#custom-neighborhood").val(c),$("#custom-neighborhood_m").val(c);break;case"new_listings":""===$(".type-dropdown-wrapper #hFilterType").val()?($(".type-dropdown-wrapper #hFilterType").val("new_listings"),$(".type-dropdown span").text("New Listings")):($(".type-dropdown-wrapper #hFilterType").val($(".type-dropdown-wrapper #hFilterType").val()+",new_listings"),$(".type-dropdown span").text($(".type-dropdown span").text()+", New Listings")),$(".type-dropdown-wrapper #type-all-listings").attr("checked",!1),$(".type-dropdown-wrapper #type-new-listings").attr("checked",!0),$("#new_listings_m").prop("checked",!0);break;case"created_at":$("#hcreatedAt").val(i[1]);break;case"openhouse":""===$(".type-dropdown-wrapper #hFilterType").val()?($(".type-dropdown-wrapper #hFilterType").val("open_houses"),$(".type-dropdown span").text("Open Houses")):($(".type-dropdown-wrapper #hFilterType").val($(".type-dropdown-wrapper #hFilterType").val()+",open_houses"),$(".type-dropdown span").text($(".type-dropdown span").text()+", Open Houses")),$(".type-dropdown-wrapper #type-all-listings").attr("checked",!1),$(".type-dropdown-wrapper #type-open-houses").attr("checked",!0),$("#open_houses_m").prop("checked",!0);break;case"price_reduced":""===$(".type-dropdown-wrapper #hFilterType").val()?($(".type-dropdown-wrapper #hFilterType").val("price_reduced"),$(".type-dropdown span").text("Price Reduced")):($(".type-dropdown-wrapper #hFilterType").val($(".type-dropdown-wrapper #hFilterType").val()+",price_reduced"),$(".type-dropdown span").text($(".type-dropdown span").text()+", Price Reduced")),$(".type-dropdown-wrapper #type-all-listings").attr("checked",!1),$(".type-dropdown-wrapper #type-open-houses").attr("checked",!1),$(".type-dropdown-wrapper #type-price-reduced").attr("checked",!0),$("#price_reduced_m").prop("checked",!0);break;case"sqFeet":var d=i[1].split(":");""!=d[0]&&($("#min_sqt option[value='"+d[0]+"']").length||$("#min_sqt").append($("<option>",{value:d[0],text:d[0]})),$("#min_sqt").val(d[0])),""!=d[1]&&($("#max_sqt option[value='"+d[1]+"']").length||$("#max_sqt").append($("<option>",{value:d[1],text:d[1]})),$("#max_sqt").val(d[1]));break;case"acreage":""!=(u=i[1].split(":"))[0]&&($("#min_lot option[value='"+u[0]+"']").length||$("#min_lot").append($("<option>",{value:u[0],text:u[0]})),$("#min_lot").val(u[0])),""!=u[1]&&($("#max_lot option[value='"+u[1]+"']").length||$("#max_lot").append($("<option>",{value:u[1],text:u[1]})),$("#max_lot").val(u[1]));break;case"year":var u;""!=(u=i[1].split(":"))[0]&&($("#min_year option[value='"+u[0]+"']").length||$("#min_year").append($("<option>",{value:u[0],text:u[0]})),$("#min_year").val(u[0])),""!=u[1]&&($("#max_year option[value='"+u[1]+"']").length||$("#max_year").append($("<option>",{value:u[1],text:u[1]})),$("#max_year").val(u[1]));break;case"q_sort":$("#sortFull").val(i[1]),$(".sortOption_"+i[1]).addClass("active"),$("#sortOption").val(i[1]);break;case"multi_search":const e=extract(["multi_search=","&"])(window.location.toString());e[0].includes("%27")?$("#hmulti_search").val(decodeURIComponent(e[0])):$("#hmulti_search").val(decodeURIComponent(i[1]));break;case"multi_cat":$("#hmulti_cat").val(decodeURIComponent(i[1]));break;case"propertyType":$("#hpropertyType").val(decodeURIComponent(i[1]));break;case"status":$.each(decodeURIComponent(i[1]).split("|"),(function(e,t){$("#status-filters input[value="+t+"]").prop("checked",!0)}));break;case"q_offset":$("#offset").val(i[1]);break;case"polygon":$("#location").val(i[1]);break;case"location":var h=i[1].replace("(",""),p=(h=h.replace(")","")).split(",");3==p.length&&($("#hlat").val(p[0]),$("#hlng").val(p[1]),$("#hradius").val(p[2]));break;case"s_sqFeet":$("#s_sqFeet").val(i[1]);break;case"s_price":$("#s_price").val(i[1]);break;case"oneStory":$("#h_stories").val("oneStory"),$("#stories").val("oneStory");break;case"twoStory":$("#h_stories").val("twoStory"),$("#stories").val("twoStory");break;case"threePlusStory":$("#h_stories").val("threePlusStory"),$("#stories").val("threePlusStory");break;case"waterbodyName":$("#waterbody").val(decodeURIComponent(i[1]));break;case"state":$("#state").val(i[1]);break;case"q_photos_available":"false"==i[1]?$("#showWithPhotos").prop("checked",!0):$("#showWithPhotos").prop("checked",!1);break;case"buildingName":i[1].split("|").forEach((e=>{$(`#building-dropdown input[value="${e}"]`).prop("checked",!0)})),$("#hFilterBuilding").val(i[1].replace(/\|/g,",").replace(/%20/g," "));break;case"maxAnnualTax":try{let e="$"+parseFloat(i[1]).toLocaleString("en-US",{style:"decimal",maximumFractionDigits:0,minimumFractionDigits:0});$("#max-annual-tax").val(e)}catch(e){console.log("Invalid max annual tax")}}}e.indexOf("status=")<0&&($("#status-filters input[value=1]").prop("checked",!0),$("#status-filters input[value=3]").prop("checked",!0)),hideOptionsOnMapView(),buildSearchLocation()}function extract([e,t]){const a=new RegExp(`${e}(.*?)${t}`,"gm"),i=a=>a.slice(e.length,-1*t.length);return function(e){return e.match(a).map(i)}}function buildSearchLocation(){var e="",t=!1,a=!1;if(""!=$("#hmulti_search").val()&&(a=!0,e="Location: <strong>"+$("#hmulti_search").val()+"</strong>"),parseInt($("#min_bedrooms").val())||parseInt($("#max_bedrooms").val())){t=!0,a&&(e+="<br>");var i="";parseInt($("#min_bedrooms").val())&&parseInt($("#max_bedrooms").val())?i=$("#min_bedrooms").val()+" - "+$("#max_bedrooms").val():parseInt($("#min_bedrooms").val())?i=$("#min_bedrooms").val()+"+":parseInt($("#max_bedrooms").val())&&(i="<"+$("#max_bedrooms").val()),e+="Beds: <strong>"+i+"</strong>"}if(parseInt($("#min_bathrooms").val())||parseInt($("#max_bathrooms").val())){e+=t?" | ":"<br>";var o="";parseInt($("#min_bathrooms").val())&&parseInt($("#max_bathrooms").val())?o=$("#min_bathrooms").val()+" - "+$("#max_bathrooms").val():parseInt($("#min_bathrooms").val())?o=$("#min_bathrooms").val()+"+":parseInt($("#max_bathrooms").val())&&(o="<"+$("#max_bathrooms").val()),e+="Baths: <strong>"+o+"</strong>",t=!0}$("#min_price").val()>0&&$("#max_price").val()>0?((a||t)&&(e+="<br>"),e+="Price: <strong>$"+makePrettyMoney($("#min_price").val())+"</strong> - <strong>$"+makePrettyMoney($("#max_price").val())+"</strong>"):$("#min_price").val()>0?((a||t)&&(e+="<br>"),e+="Price: <strong>$"+makePrettyMoney($("#min_price").val())+"</strong>"):$("#min_price").val()>0&&((a||t)&&(e+="<br>"),e+="Price: <strong>$"+makePrettyMoney($("#max_price").val())+"</strong>"),$(".searchLocation").html(e)}function calculateDays(e,t){var a=new Date(e),i=new Date(t);return Math.round(Math.abs((a.getTime()-i.getTime())/864e5))}function calculateHistoryPrice(e,t){if(e&&e.length>0){let n=e.filter((function(e){return void 0!==e.price}));if(n.length>0){let e=n.reduce(((e,t)=>e.date>t.date?e:t));var a=new Date;a.setDate(a.getDate()-30);var i=new Date(e.date),o=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0});if(a<=i){if(e.price>t){let a=e.price-t;return"<span class='prmry-color high'>\n    <svg width='15' height='15' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'>\n        <path id='price-change-svg' style='' d='M24 18C24 18.1 24 18.3 23.9 18.4C23.8 18.6 23.6 18.8 23.4 18.9C23.3 19 23.1 19 23 19H17C16.4 19 16 18.6 16 18C16 17.4 16.4 17 17 17H20.6L13.5 9.9L9.2 14.2C8.8 14.6 8.2 14.6 7.8 14.2L0.3 6.7C-0.1 6.3 -0.1 5.7 0.3 5.3C0.7 4.9 1.3 4.9 1.7 5.3L8.5 12.1L12.8 7.8C13.2 7.4 13.8 7.4 14.2 7.8L22 15.6V12C22 11.4 22.4 11 23 11C23.6 11 24 11.4 24 12V18Z'></path>\n        <mask id='mask0' mask-type='alpha' maskUnits='userSpaceOnUse' x='0' y='5' width='24' height='14'>\n            <path d='M24 18C24 18.1 24 18.3 23.9 18.4C23.8 18.6 23.6 18.8 23.4 18.9C23.3 19 23.1 19 23 19H17C16.4 19 16 18.6 16 18C16 17.4 16.4 17 17 17H20.6L13.5 9.9L9.2 14.2C8.8 14.6 8.2 14.6 7.8 14.2L0.3 6.7C-0.1 6.3 -0.1 5.7 0.3 5.3C0.7 4.9 1.3 4.9 1.7 5.3L8.5 12.1L12.8 7.8C13.2 7.4 13.8 7.4 14.2 7.8L22 15.6V12C22 11.4 22.4 11 23 11C23.6 11 24 11.4 24 12V18Z' fill='white'></path>\n        </mask>\n    </svg>\n    <label id='price-change' style='font-size:15px;'>"+o.format(a)+"</label>\n</span>"}{let a=t-e.price;return"<span class='low'>\n    <svg width='15' height='15' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'>\n        <path id='price-change-svg'  d='M24 6V12C24 12.6 23.6 13 23 13C22.4 13 22 12.6 22 12V8.4L14.2 16.2C13.8 16.6 13.2 16.6 12.8 16.2L8.5 11.9L1.7 18.7C1.5 18.9 1.3 19 1 19C0.7 19 0.5 18.9 0.3 18.7C-0.1 18.3 -0.1 17.7 0.3 17.3L7.8 9.8C8.2 9.4 8.8 9.4 9.2 9.8L13.5 14.1L20.6 7H17C16.4 7 16 6.6 16 6C16 5.4 16.4 5 17 5H23C23.1 5 23.3 5 23.4 5.1C23.6 5.2 23.8 5.4 23.9 5.6C24 5.7 24 5.9 24 6Z' fill='black'></path>\n        <mask id='mask0' mask-type='alpha' maskUnits='userSpaceOnUse' x='0' y='5' width='24' height='14'>\n            <path d='M24 6V12C24 12.6 23.6 13 23 13C22.4 13 22 12.6 22 12V8.4L14.2 16.2C13.8 16.6 13.2 16.6 12.8 16.2L8.5 11.9L1.7 18.7C1.5 18.9 1.3 19 1 19C0.7 19 0.5 18.9 0.3 18.7C-0.1 18.3 -0.1 17.7 0.3 17.3L7.8 9.8C8.2 9.4 8.8 9.4 9.2 9.8L13.5 14.1L20.6 7H17C16.4 7 16 6.6 16 6C16 5.4 16.4 5 17 5H23C23.1 5 23.3 5 23.4 5.1C23.6 5.2 23.8 5.4 23.9 5.6C24 5.7 24 5.9 24 6Z' fill='white'></path>\n        </mask>\n    </svg>\n    <label id='price-change' style='font-size:15px;'>"+o.format(a)+"</label>\n</span>"}}}}return""}function mapviewsearch(e,t,a){var i,o=window.location.hash;$(".search-tag").remove(),removeMarkers(),markersClusterer&&markersClusterer.clearMarkers(),$("#map-toggle-btn").is(":visible")&&!firstSearch?$("html, body").animate({scrollTop:$("#moreOptionsBtn").offset().top},200):firstSearch=!1,e&&$("#offset").val(""),i="map_view"==qstrValue||"map_view_alternative"==qstrValue||""==qstrValue?1e7:$("#perPage").val();var n={},r="?q_limit="+i;if(n.q_limit=i,""!=$("#q_limit").val()&&(r="?q_limit="+$("#q_limit").val(),n.q_limit=$("#q_limit").val()),""!=$("#q_prioritize").val()&&(r+="&q_prioritize="+$("#q_prioritize").val(),n.q_prioritize=$("#q_prioritize").val()),""!=$("#mls_list").val()){if(r+="&mlsId="+$("#mls_list").val(),n.mlsId=$("#mls_list").val(),""!=$("#hlistings").val()&&(r+="&listings="+$("#hlistings").val(),n.listings=$("#hlistings").val()),""!=$("#custom-neighborhood").val()&&null!=$("#custom-neighborhood").val()&&(r+="&address.neighborhood="+$("#custom-neighborhood").val(),n["address.neighborhood"]=$("#custom-neighborhood").val()),$("#hFilterBuilding").length>0&&""!=$("#hFilterBuilding").val()&&(r+="&buildingName="+$("#hFilterBuilding").replace(/,/g,"|")),0==$("#min_price").val()&&0==$("#max_price").val()||(setSearchTagRange("price",$("#min_price").val(),$("#max_price").val(),"$"),$("#min_price").val()>0&&0==$("#max_price").val()?(r+="&price="+$("#min_price").val()+":",n.price=$("#min_price").val()+":"):0==$("#min_price").val()&&$("#max_price").val()>0?(r+="&price=:"+$("#max_price").val(),n.price=":"+$("#max_price").val()):(r+="&price="+$("#min_price").val()+":"+$("#max_price").val(),n.price=$("#min_price").val()+":"+$("#max_price").val())),""!=$("#s_price").val()){var s=$("#s_price").val().split(":");setSearchTagRange("s_price",s[0],s[1],"$"),r+="&s_price="+s[0]+":"+s[1],n.s_price=s[0]+":"+s[1]}if(0==$("#min_bedrooms").val()&&0==$("#max_bedrooms").val()||(setSearchTagRange("beds",$("#min_bedrooms").val(),$("#max_bedrooms").val(),""),$("#min_bedrooms").val()>0&&0==$("#max_bedrooms").val()?(r+="&bedrooms="+$("#min_bedrooms").val()+":",n.bedrooms=$("#min_bedrooms").val()+":"):0==$("#min_bedrooms").val()&&$("#max_bedrooms").val()>0?(r+="&bedrooms=:"+$("#max_bedrooms").val(),n.bedrooms=":"+$("#max_bedrooms").val()):(r+="&bedrooms="+$("#min_bedrooms").val()+":"+$("#max_bedrooms").val(),n.bedrooms=$("#min_bedrooms").val()+":"+$("#max_bedrooms").val())),$("#showWithPhotos").is(":checked")&&(r+="&q_photos_available=false",n.q_photos_available=!1),0==$("#min_bathrooms").val()&&0==$("#max_bathrooms").val()||(setSearchTagRange("baths",$("#min_bathrooms").val(),$("#max_bathrooms").val(),""),$("#min_bathrooms").val()>0&&0==$("#max_bathrooms").val()?(r+="&totalBaths="+$("#min_bathrooms").val()+":",n.totalBaths=$("#min_bathrooms").val()+":"):0==$("#min_bathrooms").val()&&$("#max_bathrooms").val()>0?(r+="&totalBaths=:"+$("#max_bathrooms").val(),n.totalBaths=":"+$("#max_bathrooms").val()):(r+="&totalBaths="+$("#min_bathrooms").val()+":"+$("#max_bathrooms").val(),n.totalBaths=$("#min_bathrooms").val()+":"+$("#max_bathrooms").val())),0==$("#min_garage").val()&&0==$("#max_garage").val()||(setSearchTagRange("garage",$("#min_garage").val(),$("#max_garage").val(),""),$("#min_garage").val()>0&&0==$("#max_garage").val()?(r+="&garageCap="+$("#min_garage").val()+":",n.garageCap=$("#min_garage").val()+":"):0==$("#min_garage").val()&&$("#max_garage").val()>0?(r+="&garageCap=:"+$("#max_garage").val(),n.garageCap=":"+$("#max_garage").val()):(r+="&garageCap="+$("#min_garage").val()+":"+$("#max_garage").val(),n.garageCap=$("#min_garage").val()+":"+$("#max_garage").val())),null!==$("#min_spaces").val()&&null!==$("#max_spaces").val()&&(0==$("#min_spaces").val()&&0==$("#max_spaces").val()||(setSearchTagRange("spaces",$("#min_spaces").val(),$("#max_spaces").val(),""),$("#min_spaces").val()>0&&0==$("#max_spaces").val()?(r+="&parking.totalSpaces="+$("#min_spaces").val()+":",n["parking.totalSpaces"]=$("#min_spaces").val()+":"):0==$("#min_spaces").val()&&$("#max_spaces").val()>0?(r+="&parking.totalSpaces=:"+$("#max_spaces").val(),n["parking.totalSpaces"]=":"+$("#max_spaces").val()):(r+="&parking.totalSpaces="+$("#min_spaces").val()+":"+$("#max_spaces").val(),n["parking.totalSpaces"]=$("#min_spaces").val()+":"+$("#max_spaces").val()))),""!=$("#multi_search").val()||""!=$("#hmulti_search").val()){var l=$("#hmulti_search").val();$("#hmulti_cat").val();""==l?($("#hmulti_search").val($("#multi_search").val()),""==$("#multi_cat").val()?$("#hmulti_cat").val("no_cat"):($("#hmulti_cat").val($("#multi_cat").val()),$("#multi_cat").val(""))):""!=$("#multi_search").val()&&$("#multi_search").val()!=l&&($("#hmulti_search").val($("#hmulti_search").val()+"|"+$("#multi_search").val()),""==$("#multi_cat").val()?$("#hmulti_cat").val($("#hmulti_cat").val()+"|no_cat"):($("#hmulti_cat").val($("#hmulti_cat").val()+"|"+$("#multi_cat").val()),$("#multi_cat").val("")));for(var c=$("#hmulti_search").val().split("|"),d=$("#hmulti_cat").val().split("|"),u=0;u<c.length;u++)"no_cat"!=d[u]?setSearchTag("multi_search",c[u]+" - "+getDisplayCategory(d[u])):setSearchTag("multi_search",c[u]);!getCookie("multi_search")&&$("#hmulti_search").val().trim()&&setCookie("multi_search",$("#hmulti_search").val().trim().split("|")[0],7),!getCookie("multi_cat")&&$("#hmulti_cat").val().trim()&&setCookie("multi_cat",$("#hmulti_cat").val().trim().split("|")[0],7),$("#multi_search").val(""),r+="&multi_search="+encodeURI($("#hmulti_search").val()),r+="&multi_cat="+encodeURI($("#hmulti_cat").val()),n.multi_search=encodeURI($("#hmulti_search").val()),n.multi_cat=encodeURI($("#hmulti_cat").val()),$(".search-term-text").text($("#hmulti_search").val().replace(/\|/g," | ")+" Real Estate"),document.title=$("#hmulti_search").val().replace(/\|/g," | ")+" Real Estate",showMoreOptions()}else $(".search-term-text").text("Search for Your New Home"),document.title="Search for Your New Home",hideMoreOptions();if("block"==$(".listing-type-mobile").css("display"))$("#new_listings_m").is(":checked")&&(r+="&new_listings=true",n.new_listings="true"),$("#open_houses_m").is(":checked")&&(r+="&openhouse=true",n.openhouse="true"),$("#type-price-reduced").is(":checked")&&(r+="&price_reduced=true",n.price_reduced="true"),$("#price_reduced_m").is(":checked")&&(r+="&price_reduced=true",n.price_reduced="true");else{$(".type-dropdown-wrapper #hFilterType").val().split(",").forEach((function(e){switch(e){case"open_houses":r+="&openhouse=true",n.openhouse="true";break;case"new_listings":r+="&new_listings=true",n.new_listings="true";break;case"price_reduced":r+="&price_reduced=true",n.price_reduced="true"}}))}if($("#hcreatedAt").val()&&""!=$("#hcreatedAt").val()&&(r+="&created_at="+$("#hcreatedAt").val(),n.created_at=$("#hcreatedAt").val()),0==$("#min_sqt").val()&&0==$("#max_sqt").val()||(setSearchTagRange("sqfeet",$("#min_sqt").val(),$("#max_sqt").val(),""),$("#min_sqt").val()>0&&0==$("#max_sqt").val()?(r+="&sqFeet="+$("#min_sqt").val()+":",n.sqFeet=$("#min_sqt").val()+":"):0==$("#min_sqt").val()&&$("#max_sqt").val()>0?(r+="&sqFeet=:"+$("#max_sqt").val(),n.sqFeet=":"+$("#max_sqt").val()):(r+="&sqFeet="+$("#min_sqt").val()+":"+$("#max_sqt").val(),n.sqFeet=$("#min_sqt").val()+":"+$("#max_sqt").val())),""!=$("#s_sqFeet").val()){var h=$("#s_sqFeet").val().split(":");setSearchTagRange("s_sqFeet",h[0],h[1],"sqft"),r+="&s_sqFeet="+h[0]+":"+h[1],n.s_sqFeet=h[0]+":"+h[1]}if(0==$("#min_lot").val()&&0==$("#max_lot").val()||(setSearchTagRange("lotsize",$("#min_lot").val(),$("#max_lot").val(),""),$("#min_lot").val()>0&&0==$("#max_lot").val()?(r+="&acreage="+$("#min_lot").val()+":",n.acreage=$("#min_lot").val()+":"):0==$("#min_lot").val()&&$("#max_lot").val()>0?(r+="&acreage=:"+$("#max_lot").val(),n.acreage=":"+$("#max_lot").val()):(r+="&acreage="+$("#min_lot").val()+":"+$("#max_lot").val(),n.acreage=$("#min_lot").val()+":"+$("#max_lot").val())),0==$("#min_year").val()&&0==$("#max_year").val()||(setSearchTagRange("year",$("#min_year").val(),$("#max_year").val(),""),$("#min_year").val()>0&&0==$("#max_year").val()?(r+="&year="+$("#min_year").val()+":",n.year=$("#min_year").val()+":"):0==$("#min_year").val()&&$("#max_year").val()>0?(r+="&year=:"+$("#max_year").val(),n.year=":"+$("#max_year").val()):(r+="&year="+$("#min_year").val()+":"+$("#max_year").val(),n.year=$("#min_year").val()+":"+$("#max_year").val())),$("#hmulti_cat").val().indexOf("State")<0&&$("#state").val()&&""!=$("#state").val()&&(r+="&state="+$("#state").val(),n.state=$("#state").val()),$("#stories").val()&&""!=$("#stories").val()&&(setSearchTag("stories",$("#stories").val()),r+="&"+$("#stories").val()+"=true",n[$("#stories").val()]="true"),$("#waterbody").val()&&""!=$("#waterbody").val()&&(setWaterbodyTag($("#waterbody").val()),r+="&waterbodyName="+encodeURI($("#waterbody").val()),n.waterbodyName=$("#waterbody").val()),""!=$("#hpropertyType").val()){setSearchTag("propertyType",$("#hpropertyType").val());var p=$("#hpropertyType").val().replace(/_/g," ");r+="&propertyType="+p,p=replaceAll("+"," ",p),n.propertyType=decodeURIComponent(p)}var m=$("#status-filters input:checkbox:checked").map((function(){return $(this).val()})).get();m.length<1&&(m=["1","3"]),r+="&status="+m.join("|"),n.status=m.join("|"),$("#advanced-filters input:checkbox:checked").each((function(){r+="&"+$(this).attr("name")+"=true",n[$(this).attr("name")]="true"})),""!=$("#hlat").val()&&""!=$("#hlng").val()&&""!=$("#hradius").val()&&(setSearchTag("nearby","Nearby"),r+="&location=("+$("#hlat").val()+","+$("#hlng").val()+"),"+$("#hradius").val(),n.location="("+$("#hlat").val()+","+$("#hlng").val()+"),"+$("#hradius").val()),""!=$("#location").val()&&(r+="&polygon="+$("#location").val(),n.polygon=$("#location").val(),qstrValue="map_view_alternative",delete n.listings),""!=$("#sortFull").val()&&(r+="&q_sort="+$("#sortFull").val(),n.q_sort=$("#sortFull").val()),0==$("#advanced-filters input:checkbox").length&&(advancedSearchParams=[],(o=o?o.split("&"):[]).forEach((function(e){var t=e.split("=");-1==r.search(t[0])&&t[1]&&"true"==t[1]&&advancedSearchParams.push(t[0])})),advancedSearchParams.forEach((function(e){r+="&"+e+"=true",n[e]="true"}))),location.hash="#"+r,$("#searchingLabel").show(),$("#listingsContainer").hide(),""!=qstrValue&&"map_view_alternative"!=qstrValue||delete n.listings,r+="&q_include_total_count="+!0,n.q_include_total_count=!0;var f={url:"/pages/search.php"+r,method:"GET",dataType:"json"};$("#postSearch").val()&&(f={url:"/pages/search.php",method:"POST",data:{data:JSON.stringify(n)},dataType:"json"}),$.ajax(f).done((function(e){var o="",r=!1,s=e.data;if(t){var l=e.total/i;if(e.total%i>0&&l++,!globalPolygonLoaded){globalPolygonLoaded=!0;var c=$("#location").val().split("),(");if(c.length>0){c[0]=c[0].replace("(",""),c[c.length-1]=c[c.length-1].replace(")","");for(var d=0;d<c.length;d++){var u=c[d].split(",");""!==u[0]&&""!==u[1]&&polygonCoordsGlobal.push(new google.maps.LatLng(u[0],u[1]))}polygonCoordsGlobal.length>0&&(polygonGlobal=new google.maps.Polygon({clickable:!1,paths:polygonCoordsGlobal,strokeColor:"#656b70",strokeOpacity:.7,strokeWeight:2,fillColor:"#656b70",fillOpacity:.2})).setMap(map)}}pagingLoaded?$(".page-selection").bootpag({total:l,page:a,maxVisible:6}):($(".page-selection").bootpag({total:l,page:a,maxVisible:6}).on("page",(function(e,t){$("#offset").val(i*(t-1)),doFullSearch(!1,!1,t),$("html, body").animate({scrollTop:$("#listing-grid-results-container").position().top},300);var a=document.getElementById("listingsContainer").firstElementChild.offsetTop;document.getElementById("listingsContainer").scrollTop=a-10})),pagingLoaded=!0)}var h=0;bounds=new google.maps.LatLngBounds;var p=$("#hfavorites").val().split(",");properties=[];var m,f,g=0;for(d=0;d<s.length;d++)s[d].lat&&s[d].lng&&(g<s[d].total&&(g=s[d].total,m=s[d].lat,f=s[d].lng),properties.push(s[d]),o+=addProperty(s[d],h,p),h+=2,r=!0);if(r){if(mapInfoBox(),mapMobileShowing){removeMarkersMobile();h=0;bounds=new google.maps.LatLngBounds;for(p=$("#hfavorites").val().split(","),d=0;d<properties.length;d++)addPropertyMobile(properties[d],h,p),h+=2;mapMobile.fitBounds(bounds)}""!=hcity?""!=$("#location").val()?map.fitBounds(getPolygonBounds(polygonGlobal)):(map.setCenter(new google.maps.LatLng(h_search_lat,h_search_lng)),map.setZoom(hzoom)):""!=$("#location").val()?map.fitBounds(getPolygonBounds(polygonGlobal)):""==$("#location").val()?(map.setCenter(new google.maps.LatLng(m,f)),map.setZoom(hzoom)):(""!=$("#location").val()&&$("#hmulti_search").val(),map.fitBounds(bounds))}else initialNearby&&(initialNearby=!1,$("#hlat").val(""),$("#hlng").val(""),doFullSearch(!0,!0,1)),o='<label style="margin-left:15px">No results found.</label>';$("#multi_search").val(""),$("#multi_search_m").val(""),$("#listingsContainer").html(o),e.total?$(".listingsCount").html(e.total+" listings found"):$(".listingsCount").html("all homes"),e.hidePriceChangeFilter&&$("#type-price-reduced").parent().hide(),$("#searchingLabel").hide(),$("#listingsContainer").show(),insertUserActivity&&insertUserActivity("search_performed",null,n)}));var g=String(window.location.hash).replace("q_limit=10000000","q_limit=36");$("#map-view").attr("href",format_path+"?view=map_view"+window.location.hash),$("#gallery-view").attr("href",format_path+"?view=gallery_view"+g),$("#hybrid-view").attr("href",format_path+"?view=hybrid_view"+g),hideOptionsOnMapView()}else alert("No mls set, please login to your settings and set an mls to search by")}function doFullSearch(e,t,a,i){var o,n=window.location.hash;$(".search-tag").remove(),removeMarkers(),markersClusterer&&markersClusterer.clearMarkers(),$("#map-toggle-btn").is(":visible")&&!firstSearch?$("html, body").animate({scrollTop:$("#moreOptionsBtn").offset().top},200):firstSearch=!1,e&&$("#offset").val(""),o="map_view"==qstrValue||"map_view_alternative"==qstrValue||""==qstrValue?1e7:$("#perPage").val();var r={},s="?q_limit="+o;if(r.q_limit=o,""!=$("#q_limit").val()&&(s="?q_limit="+$("#q_limit").val(),r.q_limit=$("#q_limit").val()),""!=$("#q_prioritize").val()&&"featured"==$("#sortFull").val()&&(s+="&q_prioritize="+$("#q_prioritize").val(),r.q_prioritize=$("#q_prioritize").val()),""==$("#mls_list").val())return void alert("No mls set, please login to your settings and set an mls to search by");if(s+="&mlsId="+$("#mls_list").val(),r.mlsId=$("#mls_list").val(),""!=$("#custom-neighborhood").val()&&null!=$("#custom-neighborhood").val()&&(s+="&address.neighborhood="+$("#custom-neighborhood").val(),r["address.neighborhood"]=$("#custom-neighborhood").val()),$("#hFilterBuilding").length>0&&""!=$("#hFilterBuilding").val()&&(s+="&buildingName="+$("#hFilterBuilding").val().replace(/,/g,"|"),r.buildingName=$("#hFilterBuilding").val().replace(/,/g,"|")),0==$("#min_price").val()&&0==$("#max_price").val()||(setSearchTagRange("price",$("#min_price").val(),$("#max_price").val(),"$"),$("#min_price").val()>0&&0==$("#max_price").val()?(s+="&price="+$("#min_price").val()+":",r.price=$("#min_price").val()+":"):0==$("#min_price").val()&&$("#max_price").val()>0?(s+="&price=:"+$("#max_price").val(),r.price=":"+$("#max_price").val()):(s+="&price="+$("#min_price").val()+":"+$("#max_price").val(),r.price=$("#min_price").val()+":"+$("#max_price").val())),""!=$("#s_price").val()){var l=$("#s_price").val().split(":");setSearchTagRange("s_price",l[0],l[1],"$"),s+="&s_price="+l[0]+":"+l[1],r.s_price=l[0]+":"+l[1]}if(0==$("#min_bedrooms").val()&&0==$("#max_bedrooms").val()||(setSearchTagRange("beds",$("#min_bedrooms").val(),$("#max_bedrooms").val(),""),$("#min_bedrooms").val()>0&&0==$("#max_bedrooms").val()?(s+="&bedrooms="+$("#min_bedrooms").val()+":",r.bedrooms=$("#min_bedrooms").val()+":"):0==$("#min_bedrooms").val()&&$("#max_bedrooms").val()>0?(s+="&bedrooms=:"+$("#max_bedrooms").val(),r.bedrooms=":"+$("#max_bedrooms").val()):(s+="&bedrooms="+$("#min_bedrooms").val()+":"+$("#max_bedrooms").val(),r.bedrooms=$("#min_bedrooms").val()+":"+$("#max_bedrooms").val())),$("#showWithPhotos").is(":checked")&&(s+="&q_photos_available=false",r.q_photos_available=!1),0==$("#min_bathrooms").val()&&0==$("#max_bathrooms").val()||(setSearchTagRange("baths",$("#min_bathrooms").val(),$("#max_bathrooms").val(),""),$("#min_bathrooms").val()>0&&0==$("#max_bathrooms").val()?(s+="&totalBaths="+$("#min_bathrooms").val()+":",r.totalBaths=$("#min_bathrooms").val()+":"):0==$("#min_bathrooms").val()&&$("#max_bathrooms").val()>0?(s+="&totalBaths=:"+$("#max_bathrooms").val(),r.totalBaths=":"+$("#max_bathrooms").val()):(s+="&totalBaths="+$("#min_bathrooms").val()+":"+$("#max_bathrooms").val(),r.totalBaths=$("#min_bathrooms").val()+":"+$("#max_bathrooms").val())),0==$("#min_garage").val()&&0==$("#max_garage").val()||(setSearchTagRange("garage",$("#min_garage").val(),$("#max_garage").val(),""),$("#min_garage").val()>0&&0==$("#max_garage").val()?(s+="&garageCap="+$("#min_garage").val()+":",r.garageCap=$("#min_garage").val()+":"):0==$("#min_garage").val()&&$("#max_garage").val()>0?(s+="&garageCap=:"+$("#max_garage").val(),r.garageCap=":"+$("#max_garage").val()):(s+="&garageCap="+$("#min_garage").val()+":"+$("#max_garage").val(),r.garageCap=$("#min_garage").val()+":"+$("#max_garage").val())),null!==$("#min_spaces").val()&&null!==$("#max_spaces").val()&&(0==$("#min_spaces").val()&&0==$("#max_spaces").val()||(setSearchTagRange("spaces",$("#min_spaces").val(),$("#max_spaces").val(),""),$("#min_spaces").val()>0&&0==$("#max_spaces").val()?(s+="&parking.totalSpaces="+$("#min_spaces").val()+":",r["parking.totalSpaces"]=$("#min_spaces").val()+":"):0==$("#min_spaces").val()&&$("#max_spaces").val()>0?(s+="&parking.totalSpaces=:"+$("#max_spaces").val(),r["parking.totalSpaces"]=":"+$("#max_spaces").val()):(s+="&parking.totalSpaces="+$("#min_spaces").val()+":"+$("#max_spaces").val(),r["parking.totalSpaces"]=$("#min_spaces").val()+":"+$("#max_spaces").val()))),""!=$("#multi_search").val()||""!=$("#hmulti_search").val()){var c=$("#hmulti_search").val();$("#hmulti_cat").val();""==c?($("#hmulti_search").val($("#multi_search").val()),""==$("#multi_cat").val()?$("#hmulti_cat").val("no_cat"):($("#hmulti_cat").val($("#multi_cat").val()),$("#multi_cat").val(""))):""!=$("#multi_search").val()&&$("#multi_search").val()!=c&&($("#hmulti_search").val($("#hmulti_search").val()+"|"+$("#multi_search").val()),""==$("#multi_cat").val()?$("#hmulti_cat").val($("#hmulti_cat").val()+"|no_cat"):($("#hmulti_cat").val($("#hmulti_cat").val()+"|"+$("#multi_cat").val()),$("#multi_cat").val("")));for(var d=$("#hmulti_search").val().split("|"),u=$("#hmulti_cat").val().split("|"),h=0;h<d.length;h++)"no_cat"!=u[h]?setSearchTag("multi_search",d[h]+" - "+getDisplayCategory(u[h])):setSearchTag("multi_search",d[h]);!getCookie("multi_search")&&$("#hmulti_search").val().trim()&&setCookie("multi_search",$("#hmulti_search").val().trim().split("|")[0],7),!getCookie("multi_cat")&&$("#hmulti_cat").val().trim()&&setCookie("multi_cat",$("#hmulti_cat").val().trim().split("|")[0],7),s+="&multi_search="+encodeURI($("#hmulti_search").val()),s+="&multi_cat="+encodeURI($("#hmulti_cat").val()),r.multi_search=encodeURI($("#hmulti_search").val()),r.multi_cat=encodeURI($("#hmulti_cat").val()),$(".search-term-text").text($("#hmulti_search").val().replace(/\|/g," | ")+" Real Estate"),document.title=$("#hmulti_search").val().replace(/\|/g," | ")+" Real Estate",showMoreOptions()}else $(".search-term-text").text("Search for Your New Home"),document.title="Search for Your New Home",hideMoreOptions();if("block"==$(".listing-type-mobile").css("display"))$("#new_listings_m").is(":checked")&&(s+="&new_listings=true",r.new_listings="true"),$("#open_houses_m").is(":checked")&&(s+="&openhouse=true",r.openhouse="true"),$("#price_reduced_m").is(":checked")&&(s+="&price_reduced=true",r.price_reduced="true");else{s=(s=(s=s.replace("&openhouse=true","")).replace("&new_listings=true","")).replace("&price_reduced=true",""),n=(n=(n=n.replace("&openhouse=true","")).replace("&new_listings=true","")).replace("&price_reduced=true",""),$(".type-dropdown-wrapper #hFilterType").val().split(",").forEach((function(e){switch(console.log("CASE VALUE",e),e){case"open_houses":s+="&openhouse=true",r.openhouse="true";break;case"new_listings":s+="&new_listings=true",r.new_listings="true";break;case"price_reduced":s+="&price_reduced=true",r.price_reduced="true"}}))}if(-1!=window.location.hash.indexOf("agentlistings")&&(s+="&agentlistings=true",r.agentlistings="true"),$("#hcreatedAt").val()&&""!=$("#hcreatedAt").val()&&(s+="&created_at="+$("#hcreatedAt").val(),r.created_at=$("#hcreatedAt").val()),0==$("#min_sqt").val()&&0==$("#max_sqt").val()||(setSearchTagRange("sqfeet",$("#min_sqt").val(),$("#max_sqt").val(),""),$("#min_sqt").val()>0&&0==$("#max_sqt").val()?(s+="&sqFeet="+$("#min_sqt").val()+":",r.sqFeet=$("#min_sqt").val()+":"):0==$("#min_sqt").val()&&$("#max_sqt").val()>0?(s+="&sqFeet=:"+$("#max_sqt").val(),r.sqFeet=":"+$("#max_sqt").val()):(s+="&sqFeet="+$("#min_sqt").val()+":"+$("#max_sqt").val(),r.sqFeet=$("#min_sqt").val()+":"+$("#max_sqt").val())),""!=$("#s_sqFeet").val()){var p=$("#s_sqFeet").val().split(":");setSearchTagRange("s_sqFeet",p[0],p[1],"sqft"),s+="&s_sqFeet="+p[0]+":"+p[1],r.s_sqFeet=p[0]+":"+p[1]}if(0==$("#min_lot").val()&&0==$("#max_lot").val()||(setSearchTagRange("lotsize",$("#min_lot").val(),$("#max_lot").val(),""),$("#min_lot").val()>0&&0==$("#max_lot").val()?(s+="&acreage="+$("#min_lot").val()+":",r.acreage=$("#min_lot").val()+":"):0==$("#min_lot").val()&&$("#max_lot").val()>0?(s+="&acreage=:"+$("#max_lot").val(),r.acreage=":"+$("#max_lot").val()):(s+="&acreage="+$("#min_lot").val()+":"+$("#max_lot").val(),r.acreage=$("#min_lot").val()+":"+$("#max_lot").val())),0==$("#min_year").val()&&0==$("#max_year").val()||(setSearchTagRange("year",$("#min_year").val(),$("#max_year").val(),""),$("#min_year").val()>0&&0==$("#max_year").val()?(s+="&year="+$("#min_year").val()+":",r.year=$("#min_year").val()+":"):0==$("#min_year").val()&&$("#max_year").val()>0?(s+="&year=:"+$("#max_year").val(),r.year=":"+$("#max_year").val()):(s+="&year="+$("#min_year").val()+":"+$("#max_year").val(),r.year=$("#min_year").val()+":"+$("#max_year").val())),$("#hmulti_cat").val().indexOf("State")<0&&$("#state").val()&&""!=$("#state").val()&&(s+="&state="+$("#state").val(),r.state=$("#state").val()),$("#h_stories").val()&&""!=$("#h_stories").val()&&(setSearchTag("stories",$("#stories").val()),s+="&"+$("#h_stories").val()+"=true",r[$("#h_stories").val()]="true"),$("#waterbody").val()&&""!=$("#waterbody").val()&&(setWaterbodyTag($("#waterbody").val()),s+="&waterbodyName="+encodeURI($("#waterbody").val()),r.waterbodyName=$("#waterbody").val()),""!=$("#hpropertyType").val()){setSearchTag("propertyType",$("#hpropertyType").val());var m=$("#hpropertyType").val().replace(/_/g," ");s+="&propertyType="+m,m=replaceAll("+"," ",m),r.propertyType=decodeURIComponent(m)}var f=$("#status-filters input:checkbox:checked").map((function(){return $(this).val()})).get();if(f.length<1&&(f=["1","3"]),s+="&status="+f.join("|"),r.status=f.join("|"),$("#advanced-filters input:checkbox:checked").each((function(){s+="&"+encodeURIComponent($(this).attr("name"))+"=true",r[$(this).attr("name")]="true"})),""!=$("#hlat").val()&&""!=$("#hlng").val()&&""!=$("#hradius").val()&&(setSearchTag("nearby","Nearby"),s+="&location=("+$("#hlat").val()+","+$("#hlng").val()+"),"+$("#hradius").val(),r.location="("+$("#hlat").val()+","+$("#hlng").val()+"),"+$("#hradius").val()),""!=$("#location").val()&&(s+="&polygon="+$("#location").val(),r.polygon=$("#location").val(),(-1===window.location.href.indexOf("view=")||window.location.href.indexOf("view=map_view")>-1)&&(qstrValue="hybrid_view")),""!=$("#sortFull").val()?(s+="&q_sort="+$("#sortFull").val(),r.q_sort=$("#sortFull").val()):(s+="&q_sort=createdAt-",r.q_sort="createdAt-"),$("#max-annual-tax").length&&""!=$("#max-annual-tax").val()){let e=$("#max-annual-tax").val().replace(/,/g,"");e=e.replace("$",""),s+="&maxAnnualTax="+e,r.maxAnnualTax=e}n=n?n.split("&"):[],0==$("#advanced-filters input:checkbox:checked").length&&(advancedSearchParams=[],n.forEach((function(e){var t=e.split("=");if(-1==s.search(t[0])&&t[1]&&"true"==t[1]){advancedSearchParams.push(t[0]);var a=encodeURIComponent(decodeURIComponent(t[0]));s+="&"+a+"=true",r[decodeURIComponent(t[0])]="true"}})));let g=n.findIndex((e=>e.includes("blossorId")));if(g>=0){var v=n[g].split("=");v.length>=2&&(s+="&blossorId="+v[1],r.blossorId=v[1])}if(offset=o*(a-1),""!=$("#offset").val()&&(offset=$("#offset").val(),a=offset/o+1),s+="&q_offset="+offset,r.q_offset=offset,r.states=$("#mls_states").val(),location.hash="#"+s,i){var _={multi_search:btoa($("#hmulti_search").val()),min_bedrooms:$("#min_bedrooms").val(),max_bedrooms:$("#max_bedrooms").val(),min_bathrooms:$("#min_bathrooms").val(),max_bathrooms:$("#max_bathrooms").val(),min_price:$("#min_price").val(),max_price:$("#max_price").val(),hash_url:btoa(location.hash)};setCookie("cached_search_params",JSON.stringify(_),7),getRecentSearch()}$("#searchingLabel").show(),$("#listingsContainer").hide(),r.get_polygon=!1,"gallery_view"!=qstrValue&&""==$("#location").val()&&(r.get_polygon=!0),s+="&q_include_total_count="+!0,r.q_include_total_count=!0;var y={url:"/pages/search.php"+s,method:"GET",dataType:"json"};$("#postSearch").val()&&(y={url:"/pages/search.php",method:"POST",data:{data:JSON.stringify(r)},dataType:"json"}),$.ajax(y).done((function(e){var i="",n="",s=!1,l=(e.total,e.data);if(t){var c=e.total/o;if(e.total%o>0&&c++,!globalPolygonLoaded){globalPolygonLoaded=!0;var d=$("#location").val().split("),(");d.length>0&&(d[0]=d[0].replace("(",""),d[d.length-1]=d[d.length-1].replace(")",""));for(var u=0;u<d.length;u++){var h=d[u].split(",");polygonCoordsGlobal.push(new google.maps.LatLng(h[0],h[1]))}(polygonGlobal=new google.maps.Polygon({clickable:!1,paths:polygonCoordsGlobal,strokeColor:"#656b70",strokeOpacity:.7,strokeWeight:2,fillColor:"#656b70",fillOpacity:.2})).setMap(map),-1===window.location.hash.indexOf("polygon")&&"true"===$("#drawBtnText").attr("is-active")&&$("#drawBtnText").click()}$(".page-selection").empty(),pagingLoaded?$(".page-selection").bootpag({total:c,page:a,maxVisible:6}):($(".page-selection").bootpag({total:c,page:a,maxVisible:6}).on("page",(function(e,t){$("#offset").val(o*(t-1)),pageAd.forEach((function(e,a){a<t&&e&&$("#offset").val(parseInt($("#offset").val())-1)})),$("html, body").animate({scrollTop:$("#listing-grid-results-container").position().top},300);var a=document.getElementById("listingsContainer").firstElementChild.offsetTop;document.getElementById("listingsContainer").scrollTop=a-10,doFullSearch(!1,!1,t)})),pagingLoaded=!0),null===e.total&&$(".page-selection").text("Please enter an area into the search bar to view more properties - ").append('<a href="#multi_search"> SEARCH NOW </a>')}var p=Math.ceil(parseInt($("#offset").val())/o)+1;if(p<4){var m=l.find((function(e){return e.content}));pageAd[p]=!!m}var f=0;bounds=new google.maps.LatLngBounds;var g=$("#hfavorites").val().split(",");properties=[];var v=0;setSearchResultsOnCookie(l);for(u=0;u<l.length;u++)l[u].location?(v<l[u].price&&(v=l[u].price,l[u].location.lat,l[u].location.lng,props=l[u]),properties.push(l[u]),i+=addProperty(l[u],f,g,l.length),blossorData.push(l[u].blossorId),u<6&&(n+=addProperty(l[u],f,g,l.length,!0)),f+=2):l[u].content&&(i+=addAdItem(l[u])),s=!0;if(isLogged&&checkCollecionFavorites(blossorData),$("#blossorID-info").val(JSON.stringify(blossorData)),is_mobile&&$(document).on("click.mappopup.offmap",(function(){$("#marker_div").hide()})),s){if(mapInfoBox(),mapMobileShowing){removeMarkersMobile();f=0;bounds=new google.maps.LatLngBounds;for(g=$("#hfavorites").val().split(","),u=0;u<properties.length;u++)addPropertyMobile(properties[u],f,g),f+=2;mapMobile.fitBounds(bounds)}var _=!1;if(e.polygons){for(new google.maps.LatLngBounds,u=0;u<e.polygons.length;u++)for(var y=0;y<e.polygons[u].coordinates.length;y++){var b=$.map(e.polygons[u].coordinates[y],(function(e){return e})),w=new google.maps.Polygon({paths:b,strokeColor:"#777777",strokeOpacity:.8,strokeWeight:2,fillColor:"#777777",fillOpacity:0});w.setMap(map),areaPolygons.push(w),_=!0}_&&map.fitBounds(getPolygonBoundsArray(areaPolygons))}"map_view"==qstrValue||"map_view_alternative"==qstrValue||""==qstrValue?(l.length>=100&&(markersClusterer=new MarkerClusterer(map,markers,{maxZoom:13})),_||map.fitBounds(bounds)):"hybrid_view"!=qstrValue||_||(""!==$("#hmulti_search").val()&&""==$("#location").val()?map.fitBounds(bounds):""!=$("#location").val()?map.fitBounds(getPolygonBounds(polygonGlobal)):""!=hcity?(map.setCenter(new google.maps.LatLng(h_search_lat,h_search_lng)),map.setZoom(hzoom)):map.fitBounds(bounds))}else initialNearby&&(initialNearby=!1,$("#hlat").val(""),$("#hlng").val(""),doFullSearch(!0,!0,1)),i='<label style="margin-left:15px">No results found.</label>';$("#multi_search").val(""),$("#multi_search_m").val(""),$("#listingsContainer").html(i),$("#forcereg_listings").html(n),e.total?$(".listingsCount").html(e.total+" listings found"):$(".listingsCount").html("all homes"),e.hidePriceChangeFilter&&$("#type-price-reduced").parent().hide(),$(".listingsCount").parents("li")[e.total?"show":"hide"](),$("#searchingLabel").hide(),$("#listingsContainer").show(),"map_view"===getCurrentTypeView()?($('label:contains("Sort By")').hide(),$("#sortOption").hide()):($('label:contains("Sort By")').show(),$("#sortOption").show()),insertUserActivity&&insertUserActivity("search_performed",null,r),new FbRealEstateSearchPixelTracker({properties:properties,queryObj:r}).fireEvent();lozad().observe()})).fail((function(e){initialNearby&&(initialNearby=!1,$("#hlat").val(""),$("#hlng").val(""),doFullSearch(!0,!0,1)),html='<label style="margin-left:15px">No results found.</label>',$("#multi_search").val(""),$("#multi_search_m").val(""),$("#listingsContainer").html(html),$("#searchingLabel").hide(),$("#listingsContainer").show(),"map_view"===getCurrentTypeView()?($('label:contains("Sort By")').hide(),$("#sortOption").hide()):($('label:contains("Sort By")').show(),$("#sortOption").show()),insertUserActivity&&insertUserActivity("search_performed",null,r);lozad().observe()}));var b=String(window.location.hash).replace("q_limit=36","q_limit=10000000"),w=String(window.location.hash).replace("q_limit=10000000","q_limit=36");$("#map-view").attr("href",format_path+"?view=map_view"+b),$("#gallery-view").attr("href",format_path+"?view=gallery_view"+w),$("#hybrid-view").attr("href",format_path+"?view=hybrid_view"+w),""!==$("#location").val()&&showMoreOptions()}function getPolygonBoundsArray(e){for(var t=new google.maps.LatLngBounds,a=0;a<e.length;a++){e[a].getPaths().forEach((function(e){for(var a=e.getArray(),i=0,o=a.length;i<o;i++)t.extend(a[i])}))}return t}function getPolygonBounds(e){var t=e.getPaths(),a=new google.maps.LatLngBounds;return t.forEach((function(e){for(var t=e.getArray(),i=0,o=t.length;i<o;i++)a.extend(t[i])})),a}function hideOptionsOnMapView(){"map_view"===getCurrentTypeView()?($('label:contains("Sort By")').hide(),$("#sortOption").hide()):($('label:contains("Sort By")').show(),$("#sortOption").show())}function getCurrentTypeView(){return window.location.href.indexOf("view=map_view")>-1?"map_view":window.location.href.indexOf("view=gallery_view")>-1?"gallery_view":window.location.href.indexOf("view=hybrid_view")>-1?"hybrid_view":void 0}function doDefaultSearch(){var e="",t="";""!=$("#mls_agent_id").val()&&(e="agents.0.id="+$("#mls_agent_id").val(),t="|"),""!=$("#mls_office_id").val()&&(e+=t+"office.id="+$("#mls_office_id").val()),$("#q_prioritize").val(e),doFullSearch(!0,!0,1)}function addPropertyMobile(e,t,a){var i="",o=!1;hasProperty(e.address,"street")&&""!=e.address.street?i=e.address.street:(i="n-a",o=!0),e.hasOwnProperty("permissions")&&hasProperty(e.permissions,"displayAddress")&&!0!==e.address.displayAddress&&(i="n-a",propStreet="",o=!0);if($.inArray(e.mlsId+"_"+e.mlsNum,a)>-1&&("save-property-active","savedProperty"),e.main_photo=e.main_photo=checkUrlParam(e.main_photo)?e.main_photo+"&width=457&height=250&quality="+default_quality_image:e.main_photo+"?width=457&height=250&quality="+default_quality_image,e.location.lat&&e.location.lng&&!o){var n=new google.maps.LatLng(e.location.lat,e.location.lng);marker=new MarkerWithLabel({position:n,map:mapMobile,icon:mapMarkerImg,optimized:!1,title:"Click to view details",text:priceToShort(e.price),labelContent:priceToShort(e.price),labelAnchor:new google.maps.Point(21,22),labelClass:"mapLabel",labelInBackground:!1,labelStyle:{zIndex:t+1},zIndex:t,id:e.propertyId}),markersMobile.push(marker),bounds.extend(marker.getPosition()),overGalleryHandle(document,markers),google.maps.event.addListener(marker,"click",(function(){$("#marker_div").show(),null!=e.street_display&&(e.street=e.street_display),null!=e.sq_feet_display&&(e.sq_feet=e.sq_feet_display);var t="";e.address.street&&!o&&(t=e.address.street);var a="";e.township&&(a=e.township+", "),e.address.city&&(a=a+e.address.city+", ");var n="";e.address.state&&(n=e.address.state);var r="";e.address.zip&&(r=e.address.zip);var s="/homes-for-sale/"+e.address.state+"/"+slugify(e.address.city)+"/"+slugify(e.address.zip)+"/"+slugify(i)+"/bid-"+e.blossorId,l='<div class="listings-listing"><div class="listings-listing-box" style="margin:2px">';l+="<div onclick=\"window.location='"+s+'\'" data-background-image="'+e.main_photo+'" class="listings-listing-image lozad" style="height:80px;background: url(\'data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=\') center center no-repeat; -webkit-background-size: cover; -moz-background-size: cover; -o-background-size: cover; background-size: cover;">',l+='<div class="listings-listing-info-box"><div class="row"><div class="col-xs-6" style="overflow: hidden; text-overflow: ellipsis; white-space: no-wrap;"><div class="listings-listing-address">',l+='<a href="'+s+'" class="listing-detail"><span>'+e.price_formatted+"</span><br />"+r+", "+t+".</a></div></div>",l+='<div class="col-xs-6"><div class="row"><div class="col-xs-3"><div class="listings-listing-info text-right">',l+='<a href="'+s+'" class="listing-detail"><span>'+e.bedrooms+"</span><br />Bed</a></div></div>",l+='<div class="col-xs-3"><div class="listings-listing-info text-right"><a href="'+s+'" class="listing-detail"><span>'+e.totalBaths+"</span><br />Bath</a></div></div>",l+='<div class="col-xs-6"><div class="listings-listing-info text-right"><a href="'+s+'" class="listing-detail"><span>'+e.sqFeet+"</span><br />sqft</a></div></div></div></div></div>",l+='<div class="row"><div class="col-xs-6"><div class="listings-listing-info"><a href="'+s+'" class="listing-detail"><i class="ss-location"></i> '+a+n+"</a></div></div>",e.office&&e.office.name&&(l+='<div class="col-xs-6"><div class="listings-listing-info text-right"><a href="'+s+'" class="listing-detail">Listed By '+e.office.name+"</a></div></div></div></div>"),l+="</div></div></div>",$("#marker_div").html(l)}))}}function slugify(e){return e?e.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,""):"_"}function addAdItem(e){var t="";switch(e.type){case"SIGNUP":t='data-toggle="modal" data-target="#sign-up-modal"';break;case"SEARCHES":t='onclick="saveSearchFromAd();"';break;case"SELLING":t='data-toggle="modal" data-target="#modal_subject_home"';break;case"SHOWING":t="onclick=\"$('#ad-schedule-showing-modal').modal('show')\""}var a="";switch(qstrValue){case"gallery_view":case"no_view":a="col-md-4 col-sm-6 col-lg-3";break;case"hybrid_view":a="col-md-6 col-sm-6"}return'<a onclick="javascript:void();"><div class="'+a+' no-padding"><div class="listing-grid-block-listing call-to-action"><div class="listing-image lozad" data-background-image="'+(e.background_image||"")+'" style="background: url(\'data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=\'); "><div class="ctaInfo"><h3>'+(e.content||"")+'</h3><button class="btn btn-primary" '+t+">"+(e.button_text||"")+"</button></div></div></div></div></a>"}function saveSearchFromAd(){$("#sv2-multi-search .range-end button."+($("#huser_id").val()?"create-ss":"login-ss")).trigger("click")}function addProperty(e,t,a,i,o){var n="",r="",s=!1;hasProperty(e.address,"street")&&""!=e.address.street?(n=e.address.street,r=e.address.street):(n="",r="n-a",s=!0),e.hasOwnProperty("permissions")&&e.permissions.hasOwnProperty("displayAddress")&&!0!==e.permissions.displayAddress&&(r="n-a",n="",s=!0);var l="save-property",c="fa fa-heart-o",d="";$.inArray(e.mlsId+"_"+e.mlsNum,a)>-1&&(l="save-property-active",c="fa fa-heart",d="savedProperty");let u="-webkit-background-size: cover; -moz-background-size: cover; -o-background-size: cover; background-size: cover;";if(void 0===o)if($("#search-nj").length){let t=window.screen.width>1366?"235":"210";e.main_photo=checkUrlParam(e.main_photo)?e.main_photo+"&height="+t+"&quality="+default_quality_image:e.main_photo+"?height="+t+"&quality="+default_quality_image,u="-webkit-background-size: auto "+t+"px!important; -moz-background-size: auto "+t+"px!important; -o-background-size: auto "+t+"px!important; background-size: auto "+t+"px!important;"}else e.main_photo=checkUrlParam(e.main_photo)?e.main_photo+"&width=457&height=250&quality="+default_quality_image:e.main_photo+"?width=457&height=250&quality="+default_quality_image;var h=new Date(e.createdAt);if("map_view"!=qstrValue)var p="/homes-for-sale/"+e.address.state+"/"+slugify(e.address.city)+"/"+slugify(e.address.zip)+"/"+slugify(r)+"/bid-"+e.blossorId;var m=h.toLocaleDateString("en-US");if(void 0===o){var f='<a href="'+p+'"><div class="'+d+" "+e.mlsId+"_"+e.mlsNum+' col-md-6 col-sm-6 no-padding"><div class="listing-grid-block-listing">';"gallery_view"==qstrValue||""==qstrValue||"no_view"==qstrValue||"gallery_view"===getCurrentTypeView()?f='<a href="'+p+'"><div class="'+d+" "+e.mlsId+"_"+e.mlsNum+' col-md-4 col-sm-6 col-lg-3 no-padding"><div class="listing-grid-block-listing">':"hybrid_view"===getCurrentTypeView()?f='<a href="'+p+'"><div class="'+d+" "+e.mlsId+"_"+e.mlsNum+' col-md-6 col-sm-6 no-padding"><div class="listing-grid-block-listing">':("gallery"==default_layout&&"hybrid_view"==qstrValue||""==default_layout&&"hybrid_view"==qstrValue)&&(f='<a href="'+p+'"><div class="'+d+" "+e.mlsId+"_"+e.mlsNum+' col-md-4 col-sm-6 col-lg-3 no-padding"><div class="listing-grid-block-listing">')}else f='<div class="'+d+" "+e.mlsId+"_"+e.mlsNum+' col-sm-6 no-padding no-padding"><div class="listing-grid-block-listing">';if(f+='<div class="listing-image lozad" id="'+e.propertyId+'" data-background-image="'+e.main_photo+"\"  style=\"background: url('data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=') top left no-repeat; "+u+(o?'height:180px !important";':"")+'">',calculateDays(today_is,m)<=7?e.mlsStatus&&"coming soon"===e.mlsStatus.toLowerCase()?f+='<div class="status-tag">Coming Soon</div>':f+='<div class="status-tag">New</div>':e.mlsStatus&&"coming soon"===e.mlsStatus.toLowerCase()&&(f+='<div class="status-tag">Coming Soon</div>'),f+='<div class="info-container"><small class="mls-num">MLS# '+e.mlsNum+"</small><h2 class='search-listing-price' "+(o?'style="text-align: left;"':"")+">"+e.price_formatted,f+=calculateHistoryPrice(e.history,e.price),f+="</h2>","map_view"!=qstrValue){var g="";n&&(g=n);var v="";e.township&&(v=e.township+", "),e.address.city&&(v=v+e.address.city+", ");var _="";e.address.state&&(_=e.address.state);var y="";e.address.zip&&(y=e.address.zip)}if(f+='<div class="listing-detail"><span class="search-listing-street">'+g+'</span><br /><i class="ss-location"></i> <span class="search-listing-locality">'+v+" "+_+" "+y+"</span>","map_view"!=qstrValue&&(f+='<div class="listing-anchor"><div class="col-xs-4"><h5 class="search-listing-rooms">'+(e.bedrooms&&e.bedrooms>0?e.bedrooms+" Bed":"")+(e.totalBaths&&e.totalBaths>0?" &#8226; "+e.totalBaths+" Bath":"")+(e.sqFeet&&e.sqFeet>0?" &#8226; "+e.sqFeet+" Sq. Ft.":"")+'</h5></div><div class="col-xs-8 text-right"><h5 class="presentation-info">',e.office&&e.office.name&&(e.agents&&e.agents[0]&&e.agents[0].name?f+='<span class="presentation-verbiage">Listed with</span> <span class="presentation-agent">'+e.agents[0].name+' of </span><span class="presentation-office">'+e.office.name+"</span>":f+='<span class="presentation-verbiage">Listed with</span><span class="presentation-office">'+e.office.name+"</span>")),globalMlsMetaLoaded&&null!=globalMlsLogos[e.mlsId]&&""!=globalMlsLogos[e.mlsId]&&(f+='<img class="presentation-mls-logo" src="'+globalMlsLogos[e.mlsId]+'" />'),f+="</h5></div></div></div></div>",e.hasOpenhouses&&(f+='<div class="status-tag oh">Open House</div>'),f+=f.includes("status-tag")?'<br/><div id="search-status-text">'+e.statusText+"</div>":'<div id="search-status-text" style="float:left;">'+e.statusText+"</div>",f+='<div id="search-mls-status-text">'+e.mlsStatus+"</div>",e.blossorId&&(f+="<button onclick=\"event.stopPropagation();event.preventDefault();saveFavorite('"+e.mlsId+"_"+e.mlsNum+"',false,'"+e.mlsNum+"','"+e.blossorId+"',"+e.price+",'"+e.address.street+"','"+e.address.city+"','"+e.address.state+"','"+e.address.zip+"','"+e.address.neighborhood+"',"+e.totalBaths+","+e.bedrooms+","+e.sqFeet+",'"+e.main_photo+"','bid-"+e.blossorId+"','"+window.location.origin+p+"','"+e.propertyType+"',"+e.acreage+","+e.sqFeet+","+!0+');" class="favoriteBtn'+e.mlsId+"_"+e.mlsNum+` ${e.blossorId}  btn `+l+'"><i class="'+c+'"></i></button></div></div></div></a>'),"map_view"!=qstrValue){if(e&&e.location&&e.location.lat&&e.location.lng&&!s){var b={position:w=new google.maps.LatLng(e.location.lat,e.location.lng),icon:mapMarkerImg,optimized:!1,title:"Click to view details",text:priceToShort(e.price),labelContent:priceToShort(e.price),labelAnchor:new google.maps.Point(21,22),labelClass:"mapLabel",labelInBackground:!1,labelStyle:{zIndex:t+1},zIndex:t,id:e.propertyId};(""!=qstrValue&&"map_view_alternative"!=qstrValue||i<100)&&(b.map=map),marker=new MarkerWithLabel(b),markers.push(marker),bounds.extend(marker.getPosition()),is_mobile?google.maps.event.addListener(marker,"click",(function(){$("#marker_div").show();var t="/homes-for-sale/"+e.address.state+"/"+slugify(e.address.city)+"/"+slugify(e.address.zip)+"/"+slugify(r)+"/bid-"+e.blossorId,a='<div class="listings-listing"><div class="listings-listing-box" style="margin:2px">';a+="<div onclick=\"window.location='"+t+'\'" class="listings-listing-image lozad" data-background-image="'+e.main_photo+'" style="height:220px;background: url(\''+e.main_photo+"') center center no-repeat; -webkit-background-size: cover; -moz-background-size: cover; -o-background-size: cover; background-size: cover;\">",a+='<div class="listings-listing-info-box"><div class="row"><div class="col-xs-6 info-box-top" style="overflow: hidden; text-overflow: ellipsis; white-space: no-wrap;"><div class="listings-listing-address">',a+='<a href="'+t+'" class="listing-detail"><span>'+e.price_formatted+"</span><br />"+y+", "+g+".</a></div></div>",a+='<div class="col-xs-6 info-box-top"><div class="row"><div class="col-xs-3"><div class="listings-listing-info text-right">',a+='<a href="'+t+'" class="listing-detail"><span>'+e.bedrooms+"</span><br />Bed</a></div></div>",a+='<div class="col-xs-3"><div class="listings-listing-info text-right"><a href="'+t+'" class="listing-detail"><span>'+e.totalBaths+"</span><br />Bath</a></div></div>",a+='<div class="col-xs-6"><div class="listings-listing-info text-right"><a href="'+t+'" class="listing-detail"><span>'+e.sqFeet+"</span><br />sqft</a></div></div></div></div></div>",a+='<div class="row"><div class="col-xs-6"><div class="listings-listing-info"><a href="'+t+'" class="listing-detail"><i class="ss-location"></i> '+v+_+"</a></div></div>",e.office&&e.office.name&&(a+='<div class="col-xs-6"><div class="listings-listing-info text-right"><a href="'+t+'" class="listing-detail">Listed By '+e.office.name+"</a></div></div></div></div>"),a+="</div></div></div>",$("#marker_div").html(a)})):(google.maps.event.addListener(marker,"click",(function(){window.location="/homes-for-sale/"+e.address.state+"/"+slugify(e.address.city)+"/"+slugify(e.address.zip)+"/"+slugify(r)+"/bid-"+e.blossorId})),overGalleryHandle(document,markers),google.maps.event.addListener(marker,"mouseover",(function(t){var a="MLS#";overMapLabelHandle(markers,e.propertyId),$(".mapBoxImg").css("background-image","url("+e.main_photo+")"),globalMlsMetaLoaded&&null!=globalMlsLogos[e.mlsId]&&""!=globalMlsLogos[e.mlsId]&&$(".mapBoxMlsLogo").html('<img src="'+globalMlsLogos[e.mlsId]+'" />'),$(".mapBoxStreet").html(g),$(".mapBoxAddress").html(v+_+" "+y),$(".mapBoxPrice").html(e.price_formatted),$(".mapBoxMlsId").html(a+" "+e.mlsNum),$(".mapBoxBed").html(e.bedrooms),$(".mapBoxBath").html(e.totalBaths),$(".mapBoxSquareFeet").html(e.sqFeet?e.sqFeet:"0");var i='<span class="mapbox-presentation">Listed with</span>';e.office&&e.office.name&&(e.agents&&e.agents[0]&&e.agents[0].name?i+='<span class="agent-mapbox">'+e.agents[0].name+" of </span>"+e.office.name:i+=e.office.name),$(".mapBoxListed").html(i);$(".mapBoxOffice").html('<div id="mlsThumb"></div>'+(e.office&&e.office.name?e.office.name:"office")+"<br> "+a+":"+e.mlsNum),$(".mapBoxCont").show();var o=new google.maps.OverlayView;o.draw=function(){},o.setMap(map);var n=o.getProjection(),r=this.getPosition(),s=n.fromLatLngToContainerPixel(r),l=s.y-225,c=s.x-130,d=cumulativeOffset(document.getElementById("map-container"));c<0&&(c=5),s.x+100>d.left+$("#map-container").width()&&(c=s.x-130+(d.left+$("#map-container").width()-(s.x+105))),l<0&&(l=s.y+8),$(".mapBoxCont").css({top:l+d.top,left:c+d.left})})),google.maps.event.addListener(marker,"mouseout",(function(e){$(".mapBoxCont").hide()})))}}else if(e.lat&&e.lng){var w=new google.maps.LatLng(e.lat,e.lng);marker=new MarkerWithLabel({position:w,map:map,icon:mapMarkerImg,optimized:!1,title:"Click to view "+e.city,text:e.total,labelContent:e.total,labelAnchor:new google.maps.Point(21,22),labelClass:"mapLabelCircle",labelInBackground:!1,labelStyle:{zIndex:t-1},zIndex:t}),markers.push(marker),bounds.extend(marker.getPosition()),""==$("#hmulti_search").val()&&google.maps.event.addListener(marker,"click",(function(){$("#hmulti_search").val(e.city+", "+e.state),$("#multi_search").val(e.city+", "+e.state),$("#multi_cat").val("CityState"),$("#hmulti_cat").val("CityState"),qstrValue="map_view_alternative",doFullSearch(!1,!1,1)}))}return f}function cumulativeOffset(e){var t=0,a=0;do{t+=e.offsetTop||0,a+=e.offsetLeft||0,e=e.offsetParent}while(e);return{top:t,left:a}}function removeFilter(e,t){switch(e){case"searchtag_price":$("#min_price").val("0"),$("#max_price").val("0"),$("#min_price_m").val("0"),$("#max_price_m").val("0");break;case"searchtag_s_price":$("#s_price").val("");break;case"searchtag_beds":$("#min_bedrooms").val("0"),$("#max_bedrooms").val("0"),$("#min_bedrooms_m").val("0"),$("#max_bedrooms_m").val("0");break;case"searchtag_baths":$("#min_bathrooms").val("0"),$("#max_bathrooms").val("0"),$("#min_bathrooms_m").val("0"),$("#max_bathrooms_m").val("0");break;case"searchtag_garage":$("#min_garage").val("0"),$("#max_garage").val("0");break;case"searchtag_spaces":$("#min_spaces").val("0"),$("#max_spaces").val("0");case"searchtag_new_listings":$("#newestFull").removeClass("active"),$("#hnewestFull").val("");break;case"searchtag_openhouse":$("#openHouseFull").removeClass("active"),$("#hopenHouseFull").val("");break;case"searchtag_sqfeet":$("#min_sqt").val("0"),$("#max_sqt").val("0");break;case"searchtag_s_sqFeet":$("#s_sqFeet").val("");break;case"searchtag_lotsize":$("#min_lot").val("0"),$("#max_lot").val("0");break;case"searchtag_year":$("#min_year").val("0"),$("#max_year").val("0");break;case"searchtag_multi_search":var a=$("#hmulti_search").val().split("|"),i=$("#hmulti_cat").val().split("|"),o="",n="";-1!==(t=t.replace("%27","'")).indexOf(" - ")&&(textSplitted=t.split(" - "),t=textSplitted.length>2?textSplitted[0]+" - "+textSplitted[1]:textSplitted[0]);for(var r=0;r<a.length;r++)a[r]!=t?(o+=a[r]+"|",n+=i[r]+"|"):$("#multi_search").val()==t&&$("#multi_search").val("");$("#hmulti_search").val(o.substr(0,o.length-1)),$("#hmulti_cat").val(n.substr(0,n.length-1));break;case"searchtag_propertyType":$("[id*=ptype_]").removeClass("active"),$("#hpropertyType").val("");break;case"searchtag_nearby":$("#hlat").val(""),$("#hlng").val("")}$("#"+e).remove(),"map_view_alternative"==qstrValue||""==qstrValue||"map_view"==qstrValue||"map"==default_layout&&"hybrid_view"==qstrValue||"map_view"===getCurrentTypeView()&&"hybrid_view"==qstrValue?(qstrValue="map_view",mapviewsearch(!0,!0,1)):doFullSearch(!0,!0,1,!0)}function invertBorder(e){$(e).on("click",(function(e){if($(e.target).hasClass("active")){var t=$(".btn-primary").css("background-color");$(e.target).css("background-color",t)}else $(e.target).css("background-color","rgba(0, 0, 0, 0)")}))}function pTypeClick(e,t){var a=$("#hpropertyType").val();if(a=decodeURIComponent(a),t=decodeURIComponent(t),$("[id='"+e+"']").hasClass("active")){$("[id='"+e+"']").removeClass("active");var i=a.split("|");a="";for(var o=0;o<i.length;o++)i[o]!=t&&(a+=i[o]+"|");a=a.substr(0,a.length-1)}else $("[id='"+e+"']").addClass("active"),""==a?a=t:a+="|"+t;$("#hpropertyType").val(a),moreOptionsChanged=!0}function overMapLabelHandle(e,t){e.forEach((function(e){e.id===t?e.set("labelClass","mapLabel mapSelectedLabel"):e.set("labelClass","mapLabel")}))}function overGalleryHandle(e,t){google.maps.event.addDomListener(e,"mouseover",(function(e){var a=null;"listing-image"===e.target.className?a=e.target.id:"info-container"===e.target.className&&(a=e.target.parentNode.id),a&&t.forEach((function(e){e.id===a?(e.set("labelClass","mapLabel mapSelectedLabel"),e.zIndex=google.maps.Marker.MAX_ZINDEX+3,google.maps.Marker.MAX_ZINDEX=google.maps.Marker.MAX_ZINDEX+3):e.set("labelClass","mapLabel")}))}))}function removeMarkers(){for(i=0;i<markers.length;i++)markers[i].setMap(null);for(markers=[],i=0;i<areaPolygons.length;i++)areaPolygons[i].setMap(null);areaPolygons=[]}function removeMarkersMobile(){for(i=0;i<markersMobile.length;i++)markersMobile[i].setMap(null);markersMobile=[]}function removePolygonFromHash(){var e=window.location.hash.split("&"),t=$.grep(e,(function(e){return e.indexOf("polygon=")<0}));window.location.hash=t.join("&"),setUIFromHash(window.location.hash),qstrValue="",window.location.reload()}function priceToShort(e){return e<1e6&&e>0?"$"+(e=Math.floor(e/1e3))+"K":"$"+(e/=1e6).toFixed(2)+"m"}function mapInfoBox(){$(".mapBoxCont").remove(),$("body").prepend('<div class="mapBoxCont col-lg-4 col-md-4 col-sm-6 col-xs-12 no-padding"><div class="listing-grid-block-listing"><div class="mapBoxImg"><div class="mapBoxMlsLogo"></div><div class="info-container"><small class="mls-num mapBoxMlsId"></small><h2 class="mapBoxPrice"></h2><div class="listing-detail"><span class="mapBoxStreet"></span><br /><i class="ss-location"></i> <span class="mapBoxAddress"></span><div class="listing-anchor"><div class="col-xs-4"><h5><span class="mapBoxBed"></span> Bed &#8226; <span class="mapBoxBath"></span> Bath</h5><h5><span class="mapBoxSquareFeet"></span> Sq. Ft.</h5></div><div class="col-xs-8 text-right"><h5><span class="mapBoxListed"></span></h5></div></div></div></div></div></div></div>')}function setDropdownLimit(e,t,a,i,o){for(var n=$("#"+a).val(),r="",s=0;s<t.length;s++){var l="";t[s]==n&&(l="selected"),"greater"==i?e<=t[s]&&(r+="$"==o?"<option "+l+" value='"+t[s]+"' >"+o+makePrettyMoney(t[s])+"</option>":"<option "+l+" value='"+t[s]+"' >"+o+t[s]+"</option>"):(e>=t[s]||0==e)&&(r+="$"==o?"<option "+l+" value='"+t[s]+"' >"+o+makePrettyMoney(t[s])+"</option>":"<option "+l+" value='"+t[s]+"' >"+o+t[s]+"</option>")}return r}function setDropdownLimitAdvancedSearch(e,t,a,i,o){for(var n=$("#"+a).val(),r="",s=0;s<t.length;s++){var l="";if(t[s]==n&&(l="selected"),"greater"==i){if(e<=t[s])if("$"==o){let e=o+makePrettyMoney(t[s]);r+='<label data-selected="'+l+'" data-value="'+t[s]+'" onclick="selectCustomValue(\''+t[s]+"','"+a+"',this)\">"+e+"</label>"}else{let e=o+t[s];r+='<label data-selected="'+l+'" data-value="'+t[s]+'" onclick="selectCustomValue(\''+t[s]+"','"+a+"',this)\">"+e+"</label>"}}else if(e>=t[s]||0==e)if("$"==o){let e=o+makePrettyMoney(t[s]);r+='<label data-selected="'+l+'" data-value="'+t[s]+'" onclick="selectCustomValue(\''+t[s]+"','"+a+"',this)\">"+e+"</label>"}else{let e=o+t[s];r+='<label data-selected="'+l+'" data-value="'+t[s]+'" onclick="selectCustomValue(\''+t[s]+"','"+a+"',this)\">"+e+"</label>"}}return r}function makePrettyMoney(e){if(isNaN(e))return String(e);var t=String(e);return t.indexOf(".")>=0&&(t=parseFloat(e).toFixed(2)),t=t.replace(/./g,(function(e,t,a){return!t||"."===e||(a.length-t)%3?e:","+e}))}function replaceAll(e,t,a){return a.split(e).join(t)}function hasProperty(e,t){return!!e&&hasOwnProperty.call(e,t)}function saveSearchCookie(){var e="";"Address"!=$("#hmulti_cat").val()&&"mlsNum"!=$("#hmulti_cat").val()||-1!==window.location.hash.indexOf("q_photos_available")||(e="&q_photos_available=false");var t=$("#status-filters input:checkbox:checked").map((function(){return $(this).val()})).get();t.length<1&&(t=["1","3"]),data={search_hash:"newsearchhash"+window.location.hash+e,search_multi_search:$("#hmulti_search").val(),search_mlsid:$("#mls_list").val(),search_prefix:$("#mls_prefix").val(),search_foreclosure:$("#hforeclosureFull").val(),search_is_open:$(".type-dropdown-wrapper #hFilterType").val().includes("open_houses")?"true":"",search_new_construction:$("#hnewConstructionFull").val(),search_new_listing:$(".type-dropdown-wrapper #hFilterType").val().includes("new_listings")?"true":"",search_new_listing:$(".type-dropdown-wrapper #hFilterType").val().includes("price_reduced")?"true":"",search_garage_min:$("#min_garage").val(),search_garage_max:$("#max_garage").val(),search_spaces_min:$("#min_spaces").val(),search_spaces_max:$("#max_spaces").val(),search_lotval_min:$("#min_lot").val(),search_lotval_max:$("#min_lot").val(),search_numbaths_min:$("#min_bathrooms").val(),search_numbaths_max:$("#max_bathrooms").val(),search_numbeds_min:$("#min_bedrooms").val(),search_numbeds_max:$("#max_bedrooms").val(),search_sqfeet_min:$("#min_sqt").val(),search_sqfeet_max:$("#max_sqt").val(),search_pricemin:$("#min_price").val(),search_year_min:$("#min_year").val(),search_year_max:$("#max_year").val(),search_pricemax:$("#max_price").val(),search_property_type:$("#hpropertyType").val(),search_status:t.join("|"),search_sort:$("#sortFull").val(),search_lat:$("#hlat").val(),search_lng:$("#hlng").val(),search_stories:$("#stories").val(),search_advSearch:""},$("#advanced-filters input:checkbox:checked").each((function(){data.search_advSearch+=(data.search_advSearch?"|":"")+this.id})),createCookie("brivity_search_params",JSON.stringify(data),1)}function showMoreOptions(){$(".moreOptionsDisabledBtn").hide(),$(".moreOptionsBtn").show()}function hideMoreOptions(){$(".moreOptionsDisabledBtn").show(),$(".moreOptionsBtn").hide()}function generateDidYouMeanResults(e){var t="",a="";e.forEach((function(e){e.category!=a&&(t+='<div class="category"><i class="fa fa-map-marker"></i> '+e.category+"</div>",a=e.category),t+='<div class="item"><a onclick="onClickDidYouMeanResult(\''+e.category+"', '"+e.value+"')\" >"+e.label+"</a></div>"})),$("#did-you-mean-modal .modal-content .modal-body").html('<div class="result-container">'+t+"</div>")}function onClickDidYouMeanResult(e,t){$("#did-you-mean-modal").modal("hide"),$("#multi_cat").val(e),$("#multi_search").val(t),$("#multi_search_m").val(t),document.activeElement.blur(),"map_view"!=qstrValue?doFullSearch(!0,!0,1,!0):(qstrValue="map_view_alternative",doFullSearch(!0,!0,1,!0),qstrValue=""),setCookie("multi_search",t,7),setCookie("multi_cat",e,7)}function checkAutocompleteValuesForAutoselect(){if($("#multi_search").val().trim()&&currentAutocompResults.length){var e=$("#multi_search").val().trim().replace(/[\W_]+/g,"").toLowerCase(),t=!1;currentAutocompResults.forEach((function(a){var i=a.label.replace(/[\W_]+/g,"").toLowerCase();t||e!=i||(t=!0,$("#multi_search").val(a.value),$("#multi_search_m").val(a.value),$("#multi_cat").val(a.category),document.activeElement.blur(),"map_view"!=qstrValue?doFullSearch(!0,!0,1,!0):(qstrValue="map_view_alternative",doFullSearch(!0,!0,1,!0),qstrValue=""),setCookie("multi_search",a.value,7),setCookie("multi_cat",a.category,7))}))}}function checkHashUrl(){var e,t=window.location.hash,a=t.split("&"),i="10000000",o=window.location.hash.indexOf("polygon=")>-1,n=window.location.href.indexOf("view=")>-1,r=!1;(t.indexOf("undefined")>-1||o&&!n)&&(a.forEach((function(e,t){e.indexOf("=undefined")>-1&&(!function(e){a.splice(e,1)}(t),r=!0),o&&!n&&e.indexOf("q_limit=")>-1&&(!function(e,t){e.indexOf("#?q_limit=")>-1?a[t]="#?q_limit="+i:e.indexOf("#q_limit=")>-1?a[t]="#q_limit="+i:e.indexOf("q_limit=")>-1&&(a[t]="q_limit="+i)}(e,t),r=!0)})),r&&(e="","no_view"!=qstrValue&&(e="view="+qstrValue),window.location.href=format_path+"?"+e+a.join("&")))}function setSearchResultsOnCookie(e){if(e&&e.length){const i=(e,t)=>e.filter((function(e){return e._id})).map((function(e){var a=hasProperty(e.address,"street")&&""!=e.address.street?e.hasOwnProperty("permissions")&&e.permissions.hasOwnProperty("displayAddress")&&!0!==e.permissions.displayAddress?"n-a":e.address.street:"n-a";return t?{id:e.blossorId}:{id:e._id,url:e.address.state+"/"+slugify(e.address.city)+"/"+slugify(e.address.zip)+"/"+slugify(a)+"/bid-"+e.blossorId}}));var t=i(e,!1),a=i(e,!0);createCookie("search_results",JSON.stringify(t),1),createCookie("search_results_blossor",JSON.stringify(a),1)}}function getDisplayCategory(e){switch(e){case"CityState":return"City";case"CountyState":return"County";case"NeighborhoodCityState":return"Neighborhood";default:return e}}function seeResultAdvanceSearch(){"map_view"==qstrValue?mapviewsearch(!0,!0,1):doFullSearch(!0,!0,1),location.replace(window.location.protocol+"//"+window.location.hostname+"/search"+window.location.hash)}function clearAdvanceSearch(){location.replace(window.location.protocol+"//"+window.location.hostname+window.location.pathname)}function showCheckboxes(e){document.getElementById(e).style.display="block"}function hideCheckboxes(e){document.getElementById(e).style.display="none"}function selectCustomValue(e,t,a){$("#"+t).val(e).change(),a.parentNode.style.display="none";let i,o=a.parentNode.childNodes;for(i=0;i<o.length;i++)"#text"!==o[i].nodeName&&o[i].setAttribute("data-selected","");a.setAttribute("data-selected","selected")}function MarkerClusterer(e,t,a){this.extend(MarkerClusterer,google.maps.OverlayView),this.map_=e,this.markers_=[],this.clusters_=[],this.sizes=[53,56,66,78,90],this.styles_=[],this.ready_=!1;var i=a||{};this.gridSize_=i.gridSize||60,this.minClusterSize_=i.minimumClusterSize||2,this.maxZoom_=i.maxZoom||null,this.styles_=i.styles||[],this.imagePath_=i.imagePath||this.MARKER_CLUSTER_IMAGE_PATH_,this.imageExtension_=i.imageExtension||this.MARKER_CLUSTER_IMAGE_EXTENSION_,this.zoomOnClick_=!0,null!=i.zoomOnClick&&(this.zoomOnClick_=i.zoomOnClick),this.averageCenter_=!1,null!=i.averageCenter&&(this.averageCenter_=i.averageCenter),this.setupStyles_(),this.setMap(e),this.prevZoom_=this.map_.getZoom();var o=this;google.maps.event.addListener(this.map_,"zoom_changed",(function(){var e=o.map_.getZoom();o.prevZoom_!=e&&(o.prevZoom_=e,o.resetViewport())})),google.maps.event.addListener(this.map_,"idle",(function(){o.redraw()})),t&&t.length&&this.addMarkers(t,!1)}function Cluster(e){this.markerClusterer_=e,this.map_=e.getMap(),this.gridSize_=e.getGridSize(),this.minClusterSize_=e.getMinClusterSize(),this.averageCenter_=e.isAverageCenter(),this.center_=null,this.markers_=[],this.bounds_=null,this.clusterIcon_=new ClusterIcon(this,e.getStyles(),e.getGridSize())}function ClusterIcon(e,t,a){e.getMarkerClusterer().extend(ClusterIcon,google.maps.OverlayView),this.styles_=t,this.padding_=a||0,this.cluster_=e,this.center_=null,this.map_=e.getMap(),this.div_=null,this.sums_=null,this.visible_=!1,this.setMap(this.map_)}$(document).ready((function(){$("#ad_schedule_showing_form #schedule_phone").mask("(999) 999-9999"),$("#ad_schedule_showing_form").submit((function(e){e.preventDefault();var t=($("#ad_schedule_showing_form #schedule_date").val()||"").trim(),a=$("#ad_schedule_showing_form #name").val().trim(),i=$("#ad_schedule_showing_form #email").val().trim(),o=$("#ad_schedule_showing_form #schedule_phone").val().trim(),n=$("#ad_schedule_showing_form #availability:checked").val().trim(),r=$("#ad_schedule_showing_form #message").val().trim();if(t&&a&&i&&o&&n&&r){$("#ad-schedule-showing-modal").modal("hide");var s={contact_fullname:a,contact_phone:o,contact_email:i,contact_message:r,listing_agent_id:$("#hlisting_bragent_id").val(),h_robot_field:$("#hcontacmodal_robot_field").val(),form_source_url:window.location.href,time_event_type:"ad_scheduled_showing",availability:n,schedule_date:t};$.ajax({url:"/pages/contact.php",data:s,method:"POST",dataType:"json"}).done((function(e){if(e&&e.status&&($("#ad_schedule_showing_form #schedule_date").val(""),$("#ad_schedule_showing_form #name").val(""),$("#ad_schedule_showing_form #email").val(""),$("#ad_schedule_showing_form #schedule_phone").val(""),$("#ad_schedule_showing_form #message").val(""),""==$("#huser_id").val().trim()&&e.lead_data&&e.lead_data.lead_id)){var t={login_user_id:e.lead_data.lead_id,login_form_email:i};$.ajax({url:"/pages/login.php",data:t,method:"POST",dataType:"json"}).done((function(e,t,a){if(e.status){var o=a.getResponseHeader("Authorization");o&&localStorage.setItem("authorization",o),$("#huser_id").val(e.user_id).trigger("change"),$("#update_user_email").val(i),$.ajax({url:"/pages/is_logged.php",data:{user_info:"yes"},method:"POST",dataType:"json"}).done((function(e){e.logged&&(null!=e.favorites&&$(".favoritesCount").html(e.favorites||0),null!=e.saved_searches&&$(".savedSearchesCount").html(e.saved_searches||0),afterAuth(e.lead_data.first_name,e.lead_data.last_name,i))}))}}))}$("body").trigger("sayThanks","The Schedule Showing request has been sent")}))}else alert("Form incomplete, please check all fields are filled.")}))})),MarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_PATH_="../images/m",MarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_EXTENSION_="png",MarkerClusterer.prototype.extend=function(e,t){return function(e){for(var t in e.prototype)this.prototype[t]=e.prototype[t];return this}.apply(e,[t])},MarkerClusterer.prototype.onAdd=function(){this.setReady_(!0)},MarkerClusterer.prototype.draw=function(){},MarkerClusterer.prototype.setupStyles_=function(){if(!this.styles_.length)for(var e,t=0;e=this.sizes[t];t++)this.styles_.push({url:this.imagePath_+(t+1)+"."+this.imageExtension_,height:e,width:e})},MarkerClusterer.prototype.fitMapToMarkers=function(){for(var e,t=this.getMarkers(),a=new google.maps.LatLngBounds,i=0;e=t[i];i++)a.extend(e.getPosition());this.map_.fitBounds(a)},MarkerClusterer.prototype.setStyles=function(e){this.styles_=e},MarkerClusterer.prototype.getStyles=function(){return this.styles_},MarkerClusterer.prototype.isZoomOnClick=function(){return this.zoomOnClick_},MarkerClusterer.prototype.isAverageCenter=function(){return this.averageCenter_},MarkerClusterer.prototype.getMarkers=function(){return this.markers_},MarkerClusterer.prototype.getTotalMarkers=function(){return this.markers_.length},MarkerClusterer.prototype.setMaxZoom=function(e){this.maxZoom_=e},MarkerClusterer.prototype.getMaxZoom=function(){return this.maxZoom_},MarkerClusterer.prototype.calculator_=function(e,t){for(var a=0,i=e.length,o=i;0!==o;)o=parseInt(o/10,10),a++;return{text:i,index:a=Math.min(a,t)}},MarkerClusterer.prototype.setCalculator=function(e){this.calculator_=e},MarkerClusterer.prototype.getCalculator=function(){return this.calculator_},MarkerClusterer.prototype.addMarkers=function(e,t){for(var a,i=0;a=e[i];i++)this.pushMarkerTo_(a);t||this.redraw()},MarkerClusterer.prototype.pushMarkerTo_=function(e){if(e.isAdded=!1,e.draggable){var t=this;google.maps.event.addListener(e,"dragend",(function(){e.isAdded=!1,t.repaint()}))}this.markers_.push(e)},MarkerClusterer.prototype.addMarker=function(e,t){this.pushMarkerTo_(e),t||this.redraw()},MarkerClusterer.prototype.removeMarker_=function(e){var t=-1;if(this.markers_.indexOf)t=this.markers_.indexOf(e);else for(var a,i=0;a=this.markers_[i];i++)if(a==e){t=i;break}return-1!=t&&(e.setMap(null),this.markers_.splice(t,1),!0)},MarkerClusterer.prototype.removeMarker=function(e,t){var a=this.removeMarker_(e);return!(t||!a||(this.resetViewport(),this.redraw(),0))},MarkerClusterer.prototype.removeMarkers=function(e,t){for(var a,i=!1,o=0;a=e[o];o++){var n=this.removeMarker_(a);i=i||n}if(!t&&i)return this.resetViewport(),this.redraw(),!0},MarkerClusterer.prototype.setReady_=function(e){this.ready_||(this.ready_=e,this.createClusters_())},MarkerClusterer.prototype.getTotalClusters=function(){return this.clusters_.length},MarkerClusterer.prototype.getMap=function(){return this.map_},MarkerClusterer.prototype.setMap=function(e){this.map_=e},MarkerClusterer.prototype.getGridSize=function(){return this.gridSize_},MarkerClusterer.prototype.setGridSize=function(e){this.gridSize_=e},MarkerClusterer.prototype.getMinClusterSize=function(){return this.minClusterSize_},MarkerClusterer.prototype.setMinClusterSize=function(e){this.minClusterSize_=e},MarkerClusterer.prototype.getExtendedBounds=function(e){var t=this.getProjection(),a=new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()),i=new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()),o=t.fromLatLngToDivPixel(a);o.x+=this.gridSize_,o.y-=this.gridSize_;var n=t.fromLatLngToDivPixel(i);n.x-=this.gridSize_,n.y+=this.gridSize_;var r=t.fromDivPixelToLatLng(o),s=t.fromDivPixelToLatLng(n);return e.extend(r),e.extend(s),e},MarkerClusterer.prototype.isMarkerInBounds_=function(e,t){return t.contains(e.getPosition())},MarkerClusterer.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers_=[]},MarkerClusterer.prototype.resetViewport=function(e){for(var t,a=0;t=this.clusters_[a];a++)t.remove();var i;for(a=0;i=this.markers_[a];a++)i.isAdded=!1,e&&i.setMap(null);this.clusters_=[]},MarkerClusterer.prototype.repaint=function(){var e=this.clusters_.slice();this.clusters_.length=0,this.resetViewport(),this.redraw(),window.setTimeout((function(){for(var t,a=0;t=e[a];a++)t.remove()}),0)},MarkerClusterer.prototype.redraw=function(){this.createClusters_()},MarkerClusterer.prototype.distanceBetweenPoints_=function(e,t){if(!e||!t)return 0;var a=(t.lat()-e.lat())*Math.PI/180,i=(t.lng()-e.lng())*Math.PI/180,o=Math.sin(a/2)*Math.sin(a/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2);return 2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o))*6371},MarkerClusterer.prototype.addToClosestCluster_=function(e){for(var t,a=4e4,i=null,o=(e.getPosition(),0);t=this.clusters_[o];o++){var n=t.getCenter();if(n){var r=this.distanceBetweenPoints_(n,e.getPosition());r<a&&(a=r,i=t)}}i&&i.isMarkerInClusterBounds(e)?i.addMarker(e):((t=new Cluster(this)).addMarker(e),this.clusters_.push(t))},MarkerClusterer.prototype.createClusters_=function(){if(this.ready_)for(var e,t=new google.maps.LatLngBounds(this.map_.getBounds().getSouthWest(),this.map_.getBounds().getNorthEast()),a=this.getExtendedBounds(t),i=0;e=this.markers_[i];i++)!e.isAdded&&this.isMarkerInBounds_(e,a)&&this.addToClosestCluster_(e)},Cluster.prototype.isMarkerAlreadyAdded=function(e){if(this.markers_.indexOf)return-1!=this.markers_.indexOf(e);for(var t,a=0;t=this.markers_[a];a++)if(t==e)return!0;return!1},Cluster.prototype.addMarker=function(e){if(this.isMarkerAlreadyAdded(e))return!1;if(this.center_){if(this.averageCenter_){var t=this.markers_.length+1,a=(this.center_.lat()*(t-1)+e.getPosition().lat())/t,i=(this.center_.lng()*(t-1)+e.getPosition().lng())/t;this.center_=new google.maps.LatLng(a,i),this.calculateBounds_()}}else this.center_=e.getPosition(),this.calculateBounds_();e.isAdded=!0,this.markers_.push(e);var o=this.markers_.length;if(o<this.minClusterSize_&&e.getMap()!=this.map_&&e.setMap(this.map_),o==this.minClusterSize_)for(var n=0;n<o;n++)this.markers_[n].setMap(null);return o>=this.minClusterSize_&&e.setMap(null),this.updateIcon(),!0},Cluster.prototype.getMarkerClusterer=function(){return this.markerClusterer_},Cluster.prototype.getBounds=function(){for(var e,t=new google.maps.LatLngBounds(this.center_,this.center_),a=this.getMarkers(),i=0;e=a[i];i++)t.extend(e.getPosition());return t},Cluster.prototype.remove=function(){this.clusterIcon_.remove(),this.markers_.length=0,delete this.markers_},Cluster.prototype.getSize=function(){return this.markers_.length},Cluster.prototype.getMarkers=function(){return this.markers_},Cluster.prototype.getCenter=function(){return this.center_},Cluster.prototype.calculateBounds_=function(){var e=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(e)},Cluster.prototype.isMarkerInClusterBounds=function(e){return this.bounds_.contains(e.getPosition())},Cluster.prototype.getMap=function(){return this.map_},Cluster.prototype.updateIcon=function(){var e=this.map_.getZoom(),t=this.markerClusterer_.getMaxZoom();if(t&&e>t)for(var a,i=0;a=this.markers_[i];i++)a.setMap(this.map_);else if(this.markers_.length<this.minClusterSize_)this.clusterIcon_.hide();else{var o=this.markerClusterer_.getStyles().length,n=this.markerClusterer_.getCalculator()(this.markers_,o);this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.setSums(n),this.clusterIcon_.show()}},ClusterIcon.prototype.triggerClusterClick=function(e){var t=this.cluster_.getMarkerClusterer();google.maps.event.trigger(t,"clusterclick",this.cluster_,e),t.isZoomOnClick()&&this.map_.fitBounds(this.cluster_.getBounds())},ClusterIcon.prototype.onAdd=function(){if(this.div_=document.createElement("DIV"),this.visible_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(e),this.div_.classList.add("clusterMarkerColor"),this.div_.innerHTML=this.sums_.text}this.getPanes().overlayMouseTarget.appendChild(this.div_);var t=this,a=!1;google.maps.event.addDomListener(this.div_,"click",(function(e){a||t.triggerClusterClick(e)})),google.maps.event.addDomListener(this.div_,"mousedown",(function(){a=!1})),google.maps.event.addDomListener(this.div_,"mousemove",(function(){a=!0}))},ClusterIcon.prototype.getPosFromLatLng_=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return"object"==typeof this.iconAnchor_&&2===this.iconAnchor_.length?(t.x-=this.iconAnchor_[0],t.y-=this.iconAnchor_[1]):(t.x-=parseInt(this.width_/2,10),t.y-=parseInt(this.height_/2,10)),t},ClusterIcon.prototype.draw=function(){if(this.visible_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.top=e.y+"px",this.div_.style.left=e.x+"px"}},ClusterIcon.prototype.hide=function(){this.div_&&(this.div_.style.display="none"),this.visible_=!1},ClusterIcon.prototype.show=function(){if(this.div_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(e),this.div_.classList.add("clusterMarkerColor"),this.div_.style.display=""}this.visible_=!0},ClusterIcon.prototype.remove=function(){this.setMap(null)},ClusterIcon.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),this.div_.parentNode.removeChild(this.div_),this.div_=null)},ClusterIcon.prototype.setSums=function(e){this.sums_=e,this.text_=e.text,this.index_=e.index,this.div_&&(this.div_.innerHTML=e.text),this.useStyle()},ClusterIcon.prototype.useStyle=function(){var e=Math.max(0,this.sums_.index-1);e=Math.min(this.styles_.length-1,e);var t=this.styles_[e];this.url_=t.url,this.height_=t.height,this.width_=t.width,this.textColor_=t.textColor,this.anchor_=t.anchor,this.textSize_=t.textSize,this.backgroundPosition_=t.backgroundPosition,this.iconAnchor_=t.iconAnchor},ClusterIcon.prototype.setCenter=function(e){this.center_=e},ClusterIcon.prototype.createCss=function(e){return style=["position      : absolute","top           : "+e.y+"px","left          : "+e.x+"px","background-clip: padding-box","background-color: #2e5d78","border: 5px solid rgba(0, 0, 0, 0.1)","border-radius: 50%","color: #fff",'font-family: "Montserrat"',"font-weight: 700","height: 40px","line-height: 30px","text-align: center","width: 40px","transition: all 0.3s"],style.join(";")+";"},window.MarkerClusterer=MarkerClusterer,MarkerClusterer.prototype.addMarker=MarkerClusterer.prototype.addMarker,MarkerClusterer.prototype.addMarkers=MarkerClusterer.prototype.addMarkers,MarkerClusterer.prototype.clearMarkers=MarkerClusterer.prototype.clearMarkers,MarkerClusterer.prototype.fitMapToMarkers=MarkerClusterer.prototype.fitMapToMarkers,MarkerClusterer.prototype.getCalculator=MarkerClusterer.prototype.getCalculator,MarkerClusterer.prototype.getGridSize=MarkerClusterer.prototype.getGridSize,MarkerClusterer.prototype.getExtendedBounds=MarkerClusterer.prototype.getExtendedBounds,MarkerClusterer.prototype.getMap=MarkerClusterer.prototype.getMap,MarkerClusterer.prototype.getMarkers=MarkerClusterer.prototype.getMarkers,MarkerClusterer.prototype.getMaxZoom=MarkerClusterer.prototype.getMaxZoom,MarkerClusterer.prototype.getStyles=MarkerClusterer.prototype.getStyles,MarkerClusterer.prototype.getTotalClusters=MarkerClusterer.prototype.getTotalClusters,MarkerClusterer.prototype.getTotalMarkers=MarkerClusterer.prototype.getTotalMarkers,MarkerClusterer.prototype.redraw=MarkerClusterer.prototype.redraw,MarkerClusterer.prototype.removeMarker=MarkerClusterer.prototype.removeMarker,MarkerClusterer.prototype.removeMarkers=MarkerClusterer.prototype.removeMarkers,MarkerClusterer.prototype.resetViewport=MarkerClusterer.prototype.resetViewport,MarkerClusterer.prototype.repaint=MarkerClusterer.prototype.repaint,MarkerClusterer.prototype.setCalculator=MarkerClusterer.prototype.setCalculator,MarkerClusterer.prototype.setGridSize=MarkerClusterer.prototype.setGridSize,MarkerClusterer.prototype.setMaxZoom=MarkerClusterer.prototype.setMaxZoom,MarkerClusterer.prototype.onAdd=MarkerClusterer.prototype.onAdd,MarkerClusterer.prototype.draw=MarkerClusterer.prototype.draw,Cluster.prototype.getCenter=Cluster.prototype.getCenter,Cluster.prototype.getSize=Cluster.prototype.getSize,Cluster.prototype.getMarkers=Cluster.prototype.getMarkers,ClusterIcon.prototype.onAdd=ClusterIcon.prototype.onAdd,ClusterIcon.prototype.draw=ClusterIcon.prototype.draw,ClusterIcon.prototype.onRemove=ClusterIcon.prototype.onRemove;